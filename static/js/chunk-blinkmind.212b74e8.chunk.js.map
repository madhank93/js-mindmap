{"version":3,"sources":["images/default.jpg","images/theme1.jpg","images/theme2.jpg","images/theme3.jpg","images/theme4.jpg","../node_modules/@blink-mind/core/lib/main.es.js","../node_modules/@blink-mind/plugin-simple-text-editor/node_modules/@blink-mind/core/lib/main.es.js","../node_modules/@blink-mind/plugin-simple-text-editor/lib/main.es.js","../node_modules/@blink-mind/renderer-react/lib/main.es.js","../node_modules/@blink-mind/plugin-rich-text-editor/lib/main.es.js","../node_modules/@blink-mind/plugin-json-serializer/lib/main.es.js","../node_modules/@blink-mind/plugin-theme-selector/lib/main.es.js","../node_modules/@blink-mind/plugin-topology-diagram/lib/main.es.js","../node_modules/@blink-mind/plugins/lib/main.es.js","component/toolbar/toolbar-item-open.js","component/toolbar/toolbar-item-layout.js","component/toolbar/toolbar-item-theme.js","component/toolbar/toolbar-item-export.js","utils/index.js","component/toolbar/toolbar-item-search.js","component/toolbar/toolbar.js","component/mindmap.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","_extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__extends","__","this","constructor","prototype","create","_assign","assign","t","s","i","n","arguments","length","call","apply","__read","o","m","Symbol","iterator","r","e","ar","next","done","push","value","error","__spread","concat","compose","middleware","e_1","_a","isArray","TypeError","middleware_1","__values","middleware_1_1","e_1_1","return","context","index","dispatch","Error","fn","bind","err","DiagramLayoutType","Controller","options","plugins","onChange","readOnly","Map","registerPlugin","controller","plugin","forEach","key","CorePlugin","run","args","_i","fns","composedFn","getValue","propKey","arg","change","model","callback","currentModel","TopicDirection","TopicVisualLevel","BlockType","FocusMode","TopicRelationship","OpType","createKey","replace","c","Math","random","toString","_super","Block","defineProperty","get","enumerable","configurable","obj","createList","isList","map","type","data","Topic","getBlock","blocks","findIndex","block","fromJSON","parentKey","_b","subKeys","_c","collapse","content","_d","_e","relations","style","getAllSubTopicKeys","topicKey","item","getTopic","res","size","toArray","reduce","acc","getRelationship","srcKey","dstKey","srcTopic","dstTopic","pTopic","getParentTopic","log$1","focusTopic","focusMode","focusKey","set","addChild","topic","child_1","update","topics","addSibling","rootTopicKey","pItem","idx_1","indexOf","sibling_1","updateIn","insert","toggleCollapse","merge","collapseAll","topicKeys","editorRootTopicKey","withMutations","setIn","expandAll","expandTo","keys","reverse","unshift","getKeyPath","filter","setFocusMode","deleteTopic","delete","deleteKeys","dKey","setBlockData","blockType","dt","deleteBlock","index_1","setStyle","setTheme","theme","setLayoutDir","layoutDir","config","setEditorRootTopicKey","setZoomFactor","zoomFactor","defaultTheme","name","randomColor","background","highlightColor","marginH","marginV","contentStyle","lineHeight","linkStyle","lineRadius","lineType","lineWidth","rootTopic","fontSize","borderRadius","padding","subLinkStyle","lineColor","primaryTopic","borderWidth","borderStyle","normalTopic","border","defaultConfigRecord","allowUndo","LEFT_AND_RIGHT","Config","defaultModelRecord","extData","formatVersion","Model","isModel","attrs","createEmpty","object","undefined","toJS","values","getExtDataItem","getTopicVisualLevel","level","_Record","_Record2","_super2","_Record3","_super3","_obj$parentKey","_obj$subKeys","_obj$collapse","_ref","_ref$parentKey","_ref$content","_ref$subKeys","_ref$collapse","cooked","raw","templateObject_1","Content","div","props","SimpleTextEditor","_this","state","onMouseDown","stopPropagation","onMouseMove","onKeyDown","_handleClick","event","root","contains","target","onClickOutSide","rootRef","saveRef","ref","initState","setState","componentDidMount","document","addEventListener","componentWillUnmount","removeEventListener","getCustomizeProps","getContent","deserialize","render","getRefKeyFunc","placeholder","editorProps","contentProps","autoFocus","contentEditorRefKey","TopicContentEditor","nativeEvent","ctrlKey","code","save","whiteSpace","editingContentKey","opType","log$2","descEditorRefKey","TopicDescEditor","editingDescKey","getTopicTitle","maxLength","text","substr","renderTopicContentEditor","renderTopicDescEditor","isBlockEmpty","serializeBlockData","serialize","__rest","getOwnPropertySymbols","propertyIsEnumerable","__decorate","decorators","desc","getOwnPropertyDescriptor","Reflect","decorate","templateObject_2","templateObject_1$1","templateObject_2$1","templateObject_3","templateObject_4","templateObject_5","templateObject_6","templateObject_7","templateObject_8","templateObject_9","templateObject_10","templateObject_11","BaseWidget","operation","DragScrollView","DragScrollContent","DragScrollWidget","contentResizeCallback","entries","observer","oldContentRect","widgetStyle","width","clientWidth","viewBox","height","clientHeight","bigView","contentRect","contentResizeObserver","contentRef","observe","viewBoxRef","enableMouseWheel","altKey","preventDefault","passive","setViewBoxScroll","bigViewRef","setWidgetStyle","left","top","scrollLeft","scrollTop","setViewBoxScrollDelta","deltaLeft","deltaTop","mouseKey","needKeyPressed","canDragFunc","button","_lastCoordX","clientX","_lastCoordY","clientY","ele","onMouseUp","handleContextMenu","transform","transformOrigin","children","defaultProps","SaveRef","getRef","node","fireListener","deleteRef","observers","has","listeners","listeners_1","listeners_1_1","listener","registerRefListener","Flex","flexDirection","alignItems","justifyContent","Margin","margin","ShowMenuIcon","a","IconBg","Btn","StyledCheckbox","CloseIcon","Title","TopicBlockIcon","span","ZIndex","zIndex","PanelTabRoot","EventPlugin","eventListeners","handleTopicClick","handleTopicDoubleClick","handleTopicContextMenu","handleActiveModalClose","activeModalProps","once","only","origin","fireEvent","IconName","iconClassName","Icon","iconName","className","contentRefKey","topicWidgetRefKey","topicRefKey","linksRefKey","linksSvgRefKey","collapseRefKey","dropAreaRefKey","dir","RefKey","EventKey","PropKey","cancelEvent","browserDownloadText","filename","url","link","createElement","href","download","click","browserDownloadFile","encodeURIComponent","browserOpenFile","accept","input","Promise","resolve","reject","evt","file","files","fr","FileReader","onload","txt","result","onerror","readAsText","paddingCss","right","bottom","centerY","rect","centerPointX","p1","p2","x","centerPointY","y","center","_getRelativeRect","el","rel","scale","getBoundingClientRect","relCenter","elCenter","getRelativeVector","HotKeyName","HotKeyPlugin","customizeHotKeys","handleKeyDown","op","topicHotKeys","label","combo","globalHotKeys","log$3","OperationPlugin","OpMap","dropDir","srcParentKey","srcParentSubKeys","srcIndex","dstSubKeys_1","dstParentKey_1","dstParentSubKeys_1","dstIndex","newDstParentSubKeys_1","undoStack","redoStack","enabled","whiteListOperation","Set","isOperationEnabled","enableOperation","disableOperation","whiteList","clear","getOpMap","getAllowUndo","getUndoRedoStack","setUndoStack","setRedoStack","canUndo","canRedo","undo","newModel","peek","shift","redo","opArray","opNotInWhiteList","opMap","undoStack_1","cur","opFunc","opFuncProps","deleteRefKey","allSubKeys","allSubKeys_1","allSubKeys_1_1","beforeOperation","afterOperation","beforeOpFunction","afterOpFunction","TopicContextMenu","icon","shortcut","rootCanUse","templateObject_1$2","templateObject_1$3","log$4","DropEffectSvg","svg","TopicDropEffect","layout","targetProps","svgRect","fill","stroke","strokeDasharray","strokeWidth","log$5","DropArea","DragAndDropPlugin","dragTargetKey","dragTargetDir","renderTopicDropArea","eventHandlers","onDragEnter","ev","onDragLeave","onDragOver","onDrop","renderDragAndDropEffect","getDragTargetProps","handleTopicDragStart","canDrop","handleTopicDragEnter","handleTopicDragLeave","relatedTarget","handleTopicDrop","templateObject_1$4","templateObject_2$2","templateObject_3$1","templateObject_1$5","templateObject_2$3","templateObject_1$6","templateObject_1$7","templateObject_2$4","templateObject_1$8","templateObject_2$5","templateObject_3$2","EditorRootBreadcrumbsRoot","TooltipContent","BreadcrumbTitle","EditorRootBreadcrumbs","breadcrumbRenderer","breadProps","needTooltip","title","tooltipProps","position","BOTTOM_RIGHT","breadcrumb","show","editingRootKey","items","onClick","breadcrumbProps","NodeLayer","DIV","MindDragScrollWidget","dragScrollWidget","onWheel","deltaY","renderHotkeys","hotKeys","v","k","global","nodeLayer","rootTopicRect","nodeLayerRect","componentDidUpdate","nodeKey","rootWidgetProps","Modals","handleClose","activeModal","onClose","isOpen","enforceFocus","usePortal","DIALOG_BODY","minHeight","RootLinksSvg","log$6","RootSubLinks","curves","curve","vDir","hDir","radius","log$7","LayerPart","topicDirection","RootWidget","renderPartTopics","isRoot","subTopics","cxName","topicStyle","topicContent","partTopics","L","R","LEFT_TO_RIGHT","RIGHT_TO_LEFT","TOP_TO_BOTTOM","B","Icon$1","TopicCollapseIcon","onClickCollapse","iconfont","templateObject_1$9","templateObject_2$6","log$8","EditingRoot","EditingWrapper","cancelEvent$1","TopicContent","child","editor","wrapper_1","rect_1","editorDiv","contentResizeObserver_1","templateObject_1$a","templateObject_2$7","templateObject_1$b","log$9","TopicContent$1","TopicContentWithDropArea","TopicContentWidget","onDragStart","handleTopicClickTimeout","setTimeout","onDoubleClick","clearTimeout","needRelocation","oldCollapseIconVector","dragEnter","renderContextMenu","onContextMenuClose","newRect","newVector","vector","draggable","collapseIcon","prevDropArea","nextDropArea","dropEventHandlers","log$a","TooltipContentWrapper","TopicDesc","isEditing","descEditor","diagramRoot","maxWidth","maxHeight","dRect","classname","POPOVER_DISMISS","tabIndex","interactionKind","HOVER","hoverOpenDelay","templateObject_1$c","templateObject_1$d","templateObject_1$e","templateObject_2$8","templateObject_3$3","templateObject_1$f","templateObject_2$9","templateObject_3$4","templateObject_1$g","FocusHighlightSvg","TopicHighlight","TopicLinksSvg","log$b","TopicSubLinks","p3","z","collapseRect","subContent","abs","log$c","Node","NodeChildren","NodeTopic","TopicWidget","renderSubTopics","subLinks","layoutLinks","links","propsMore","log$d","ViewerRoot","Item_","ZoomFactorSpan","tooltip","TOP","ICON","ViewPortViewer","zoomFactorChange","onClickResetZoom","onClickAddZoom","onClickMinusZoom","onClickCollapseAll","centerRootTopic","onClickExpandAll","floor","DescEditorWrapper","hasBackdrop","backdropProps","isCloseButtonShown","descData","Theme","templateObject_1$h","log$e","RenderingPlugin","diagramProps","DiagramRoot","getDiagramProps","renderDiagram","renderDrawer","renderDiagramCustomize","nProps","renderEditorRootBreadcrumbs","renderModals","renderModal","getActiveModalProps","renderDoc","renderRootWidget","renderTopicWidget","renderTopicContent","renderTopicCollapseIcon","renderTopicContentOthers","renderTopicBlocks","blockKey","renderTopicBlock","renderTopicBlockContent","renderTopicBlockDesc","renderSubLinks","renderRootSubLinks","renderFocusItemHighlight","renderRootWidgetOtherChildren","renderViewPortViewer","templateObject_1$i","templateObject_2$a","PanelRoot","StyledTabs","RightTopPanel","selectedTabId","handleTabIdChange","expand","setExpand","id","templateObject_1$j","templateObject_2$b","templateObject_3$5","templateObject_4$1","templateObject_5$1","templateObject_6$1","templateObject_7$1","SettingTitle","SettingItem","SettingBoxContainer","SettingLabel","SettingRow","ColorBar","color","WithBorder","SettingGroup","SettingItemColorPicker","handleColorChange","onChangeComplete","hex","SettingItemButton","handleClick","SettingItemNumericInput","restProps","flexProps","SettingItemSelect","itemRenderer","onItemSelect","PxSelect","ofType","pxProps","filterable","unit","borderWidthItems","borderWidthItems$1","borderRadiusItems","borderStyleItems","BorderStyleEditor","setContentStyle","borderColor","lineTypes","modifiers","query","LinkStyleEditor","showLinkStyle","showSubLinkStyle","setLinkStyle","setSubLinkStyle","TextStyleEditor","fontSizeNumInputProps","min","max","parseInt","onValueChange","lineHeightInputProps","copiedStyle","log$f","StyleEditor","linkStyleEditorProps","contentStyleEditorPros","JSON","stringify","ClearAllCustomStyle","PaddingStyleEditor","commonProps","setPadding","topProps","rightProps","bottomProps","leftProps","templateObject_1$k","TopicThemeEditorRoot","TopicThemeEditor","setTopicStyle","tabId","ThemeEditor","handler","alertThemeError","setAlertThemeError","handleRandomColorChange","checked","rootTopicEditorProps","rootTopicEditor","primaryTopicEditorProps","primaryTopicEditor","normalTopicEditorProps","normalTopicEditor","tabsProps","topicThemes","panel","alertProps","alert","then","parse","RightTopPanelPlugin","renderRightTopPanel","renderRightTopPanelTabs","renderTopicStyleEditor","tProps","renderThemeEditor","log$g","UtilsPlugin","tempValueMap","eventListenerMap","addTempValueChangeListener","removeTempValueChangeListener","l","getTempValue","setTempValue","deleteTempValue","log$h","StylePlugin","colorMap","colorIndex","getTopicStyle","getTopicContentStyle","themeStyle","visualLevel","customStyle","getLinkStyle","presetStyle","parentSubLinkStyle","getSubLinkStyle","setTopicContentStyle","styleObj","newStyleObj","newStyleStr","getTopicThemeStyle","getRandomColor","colors","clearAllCustomStyle","keySeq","DefaultPlugin","renderTopicContextMenu","customizeTopicContextMenu","onClickItem","labelElement","getPartTopics","subTopicCount","slice","ceil","createSubTopics","tKey","topicProps","highlight","dropEffect","layoutTopic","topicWidget","subKey","getRelativeRect","element","getRelativeRectFromViewPort","getRelativeVectorFromViewPort","addZoomFactorChangeEventListener","removeZoomFactorChangeEventListener","getZoomFactor","moveTopicToCenter","dragScroll","focusTopicAndMoveToCenter","Diagram","resolveController","TheDefaultPlugin","defaultPlugin","construct","openNewModel","NodeContent","RichTextEditor","richEditorProps","editorValue","nodeContentProps","markdownSerializer","themeRandomColorSquare","theme1","theme2","boxShadow","theme3","theme4","TopicBlockTopology","iconProps","ToolsConfig","group","paddingLeft","paddingRight","paddingTop","paddingBottom","iconFamily","iconColor","textMaxLine","image","is3D","zRotate","fillStyle","iconSize","strokeStyle","font","fontFamily","fontWeight","rectInParent","rotate","textAlign","textBaseline","Root","Canvas","Tools","ToolTitle","ToolbarButtons","TopologyDiagram","toolsConfig","canvasOptions","onMessage","diagramUtil","topology","setCanvasData","canvasRegister","on","openData","open","onDrag","dataTransfer","setData","renderTools","btn","onContextMenu","Root$1","TopologyDiagramUtils","canvasData","getTopology","scaleTo","deleteConfirm","deleteAlertProps","cancelButtonText","onConfirm","onCancel","DiagramWrapper","TopologyDrawer","utilProps","backdropClassName","canOutsideClickClose","topologyData","startEditingTopology","renderTopicBlockTopology","topoProps","AddReferenceTopicPanel","referenceKeys","defaultReferenceRecord","keyList","dataMap","ReferenceRecord","defaultExtDataReferenceRecord","reference","ExtDataReference","getReferenceKeys","getReferencedKeys","includes","setReferenceTopicKeys","referenceRecord","ButtonPlace","ReferenceTopicThumbnail","refKey","refType","removeHandler","setDeleteConfirm","Root$2","Group","GroupList","GroupTitle","GotoBtn","ReferenceTopicList","referenceGroup","thumbProps","referencedKeys","referencedGroup","currentTopic","TopicExtReference","refRecord","CLICK","TopicReferenceCheckbox","selectedTopicKeys","setChecked","checkboxProps","add","NavOmniBar","StyledNavOmniBar","TopicTitle","StyledPopover","Tip","TipContent","INPUT_PROPS","SearchPanel","setSearchWord","navigateToTopic","sections","getAllSections","inputProps","itemListPredicate","toLowerCase","section","sectionTitle","needTip","titleProps","titleEl","popoverProps","HOVER_TARGET_ONLY","resetOnSelect","ToolbarItemOpen","diagram","ToolbarItemLayout","layoutDirs","cx","ToolbarItemTheme","themes","defaultThemeImg","theme1Img","theme2Img","theme3Img","theme4Img","themeKey","src","alt","ToolbarItemExport","json","jsonStr","downloadFile","ToolbarItemSearch","Toolbar","onClickUndo","onClickRedo","React","PureComponent","debug","RichTextEditorPlugin","themeMap","getAllThemes","allTheme","ThemeSelectorPlugin","startSetReferenceTopics","allDeleteKeys","extData_1","reference_1","deleteKey","panelProps","EXT_KEY_TOPIC_REFERENCE","checkBoxProps","checkbox","renderTopicExtReference","clearSelectedReferenceKeys","getSelectedReferenceKeys","from","deserializeExtDataItem","extDataKey","extDataItem","extDataReference","_loop_1","TopicReferencePlugin","setSearchWorld","searchPanelProps","SearchPlugin","TopologyDiagramPlugin","serializeModel","nextRes","valueSeq","deserializeModel","serializeExtData","deserializeExtData","serializeExtDataItem","serializeConfig","deserializeConfig","serializeTopic","deserializeTopic","deserializeTopics","serializeBlock","deserializeBlock","deserializeBlockData","deserializeBlocks","Mindmap","diagramRef","initModel","TOPIC_REFERENCE","toolbarProps","renderToolbar","Component","App","Boolean","window","location","hostname","match","localStorage","join","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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E,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,gBAER,CACED,KAAM,OACNC,KACE,yhDAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,kBAER,CACED,KAAM,OACNC,KACE,mtCAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,aAER,CACED,KAAM,OACNC,KACE,2kCAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,qBAER,CACED,KAAM,OACNC,KACE,m2BAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,CAAC,wCACVE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,kBAER,CACED,KAAM,OACNC,KACE,guDAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,eAER,CACED,KAAM,OACNC,KACE,ybAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,CACP,uCACA,uCACA,uCACA,wCAEFE,UAAU,EACVK,MAAO,4CACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,YAER,CACED,KAAM,OACNC,KACE,qkKAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,MAIZ,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,SAIZ,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,MAIZ,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,CACP,uCACA,uCACA,uCACA,uCACA,uCACA,wCAEFE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,SAER,CACED,KAAM,OACNC,KACE,+RAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,eAER,CACED,KAAM,OACNC,KACE,i3CAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,UAER,CACED,KAAM,OACNC,KACE,0tBAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,CAAC,wCACVE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,kBAER,CACED,KAAM,OACNC,KACE,87FAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,CAAC,wCACVE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,oBAER,CACED,KAAM,OACNC,KACE,gpBAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,CAAC,wCACVE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,SAER,CACED,KAAM,OACNC,KACE,6kBAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,YAER,CACED,KAAM,OACNC,KACE,ySAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,aAIZ,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,YAIZ,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,UAIZ,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,OAER,CACED,KAAM,OACNC,KACE,08EAIR,CACErC,IAAK,uCACL4C,UAAW,KACXE,QAAS,CACP,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,wCAEFE,UAAU,EACVK,MAAO,4CACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,MAER,CACED,KAAM,OACNC,KACE,2WAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,gBAER,CACED,KAAM,OACNC,KACE,uuCAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,CAAC,wCACVE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,uBAER,CACED,KAAM,OACNC,KACE,6zCAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,UAIZ,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,MAIZ,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,MAIZ,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,CACP,uCACA,uCACA,uCACA,uCACA,wCAEFE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,oBAIZ,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,oBAER,CACED,KAAM,OACNC,KACE,0oCAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,YAER,CACED,KAAM,OACNC,KACE,gaAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,QAER,CACED,KAAM,OACNC,KACE,msBAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,MAIZ,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,MAIZ,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,CACP,uCACA,wCAEFE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,0BAER,CACED,KAAM,OACNC,KACE,+zBAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,OAER,CACED,KAAM,OACNC,KACE,6vBAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,wBAER,CACED,KAAM,OACNC,KACE,0uVAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,kBAER,CACED,KAAM,OACNC,KACE,ylDAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,YAIZ,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,WAIZ,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,4CACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,gBAER,CACED,KAAM,OACNC,KACE,w7DAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,aAER,CACED,KAAM,OACNC,KACE,srCAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,yBAER,CACED,KAAM,OACNC,KACE,yiBAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,mBAER,CACED,KAAM,OACNC,KACE,oiCAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,iBAER,CACED,KAAM,OACNC,KACE,6VAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,OAER,CACED,KAAM,OACNC,KACE,+jBAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,YAIZ,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,CACP,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,wCAEFE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,aAER,CACED,KAAM,OACNC,KACE,ysCAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,UAER,CACED,KAAM,OACNC,KACE,iiBAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,sBAER,CACED,KAAM,OACNC,KACE,ksEAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,yBAER,CACED,KAAM,OACNC,KACE,64CAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,SAER,CACED,KAAM,OACNC,KACE,k3CAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,MAIZ,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,kBAER,CACED,KAAM,OACNC,KACE,w8DAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,gBAER,CACED,KAAM,OACNC,KACE,wlDAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,iBAER,CACED,KAAM,OACNC,KACE,s9BAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,MAIZ,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,UAER,CACED,KAAM,OACNC,KACE,0mBAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,wBAER,CACED,KAAM,OACNC,KACE,gQAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,aAER,CACED,KAAM,OACNC,KACE,+yBAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,UAER,CACED,KAAM,OACNC,KACE,ouBAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,qBAER,CACED,KAAM,OACNC,KACE,6VAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,YAIZ,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,WAER,CACED,KAAM,OACNC,KACE,kgDAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,eAIZ,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,CACP,uCACA,wCAEFE,UAAU,EACVK,MACE,kGACFb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,gCAER,CACED,KAAM,OACNC,KACE,03BAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,CACP,uCACA,uCACA,wCAEFE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,uCAER,CACED,KAAM,OACNC,KACE,gmEAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,qBAER,CACED,KAAM,OACNC,KACE,szDAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,CAAC,wCACVE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,eAER,CACED,KAAM,OACNC,KACE,slEAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,+BAIZ,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,4CACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,+CAER,CACED,KAAM,OACNC,KACE,uqHAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,aAIZ,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,CAAC,wCACVE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,eAER,CACED,KAAM,OACNC,KACE,mtCAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,CACP,uCACA,uCACA,uCACA,uCACA,wCAEFE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,oBAIZ,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,CACP,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,wCAEFE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,sBAER,CACED,KAAM,OACNC,KACE,i5BAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,aAIZ,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,CAAC,wCACVE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,kBAER,CACED,KAAM,OACNC,KACE,mjBAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,CACP,uCACA,uCACA,uCACA,wCAEFE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,2BAER,CACED,KAAM,OACNC,KACE,g8DAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,CAAC,wCACVE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,gCAER,CACED,KAAM,OACNC,KACE,02DAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,yBAER,CACED,KAAM,OACNC,KACE,+5CAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,YAER,CACED,KAAM,OACNC,KACE,+mDAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,CACP,uCACA,uCACA,uCACA,uCACA,wCAEFE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,mBAER,CACED,KAAM,OACNC,KACE,8rCAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,SAIZ,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,MAIZ,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,WAIZ,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,2BAER,CACED,KAAM,OACNC,KACE,iuEAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,MAIZ,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,SAER,CACED,KAAM,OACNC,KACE,sfAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,CACP,uCACA,wCAEFE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,YAER,CACED,KAAM,OACNC,KACE,y5CAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,UAER,CACED,KAAM,OACNC,KACE,wtDAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,CACP,uCACA,wCAEFE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,iBAER,CACED,KAAM,OACNC,KACE,6oCAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,CACP,uCACA,uCACA,uCACA,uCACA,wCAEFE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,WAER,CACED,KAAM,OACNC,KACE,6mBAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,CAAC,wCACVE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,kBAIZ,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,mBAER,CACED,KAAM,OACNC,KACE,qjBAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,CACP,uCACA,wCAEFE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,cAER,CACED,KAAM,OACNC,KACE,2ZAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,aAIZ,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,CAAC,wCACVE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,oBAER,CACED,KAAM,OACNC,KACE,8hCAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,gBAER,CACED,KAAM,OACNC,KACE,kUAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,CACP,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,wCAEFE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,sBAIZ,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,CACP,uCACA,uCACA,uCACA,wCAEFE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,kBAIZ,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,MAIZ,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,kBAER,CACED,KAAM,OACNC,KACE,86DAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,CACP,uCACA,uCACA,wCAEFE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,aAER,CACED,KAAM,OACNC,KACE,oMAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,CAAC,wCACVE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,oBAER,CACED,KAAM,OACNC,KAAM,MAIZ,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,aAIZ,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,oBAER,CACED,KAAM,OACNC,KACE,8+CAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,yBAER,CACED,KAAM,OACNC,KACE,4/CAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,4CACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,aAER,CACED,KAAM,OACNC,KACE,ikBAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,yBAER,CACED,KAAM,OACNC,KACE,8xDAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,mCAER,CACED,KAAM,OACNC,KACE,qlBAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,MAIZ,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,yBAER,CACED,KAAM,OACNC,KACE,yjCAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,CAAC,wCACVE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,UAER,CACED,KAAM,OACNC,KACE,+ZAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,CACP,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,wCAEFE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,aAER,CACED,KAAM,OACNC,KACE,4WAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,qDAER,CACED,KAAM,OACNC,KACE,+5FAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,uCAER,CACED,KAAM,OACNC,KACE,8kBAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,YAER,CACED,KAAM,OACNC,KACE,45DAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,MAIZ,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,MAIZ,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,CAAC,wCACVE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,aAER,CACED,KAAM,OACNC,KACE,0nDAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,iBAER,CACED,KAAM,OACNC,KACE,kqBAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,gBAER,CACED,KAAM,OACNC,KACE,wnBAIR,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,WAIZ,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,GACTE,UAAU,EACVK,MAAO,KACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,uBAIZ,CACErC,IAAK,uCACL4C,UAAW,uCACXE,QAAS,CACP,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,wCAEFE,UAAU,EACVK,MAAO,4CACPb,OAAQ,CACN,CACEJ,KAAM,UACNC,KAAM,aAER,CACED,KAAM,OACNC,KACE,6xBAKVgF,OAAQ,CACN3H,UAAU,EACVwJ,WAAW,EACX9B,UAAW,EACXF,MAAO,CACLQ,KAAM,UACNC,aAAa,EACbC,WAAY,gBACZC,eAAgB,UAChBC,QAAS,GACTC,QAAS,GACTC,aAAc,CACZC,WAAY,MACZM,SAAU,QAEZL,UAAW,CACTC,WAAY,EACZC,SAAU,QACVC,UAAW,OAEbC,UAAW,CACTN,aAAc,CACZO,SAAU,QAEZG,aAAc,CACZN,SAAU,QACVC,UAAW,QAGfO,aAAc,CACZZ,aAAc,CACZO,SAAU,QAEZG,aAAc,CACZN,SAAU,QACVC,UAAW,QAGfU,YAAa,CACXL,aAAc,CACZN,SAAU,QACVC,UAAW,UAKnBkB,cAAe,QGh0EfjN,KAAKkP,MAAQ,CAAE7K,WAdnB,2BA6BE,WACE,OACE,kBAAC,GAAD,CACE0L,IAAK/P,KAAK8oC,WACVzkC,MAAOrE,KAAKkP,MAAM7K,MAClBlB,SAAUnD,KAAKmD,SACfD,QAASA,OAnCjB,2BAwCE,WACE,IAAM6L,EAAQ/O,KAAKwkC,QAAQpV,kBACnB7rB,EAAewL,EAAfxL,WACFkc,EAAUlc,EAAWK,IAAI,UAAWmL,GACpC2Q,EAAUnc,EAAWK,IAAI,UAAWmL,GACpCk6B,EAAe,CACnBzE,QAASxkC,KAAKwkC,QACdoB,YAAa5lC,KAAK4lC,YAClBC,YAAa7lC,KAAK6lC,YAClBpmB,UACAC,WAEF,OAAO,kBAAC,GAAYupB,KApDxB,oBAgEE,WACE,OACE,yBAAKvvB,UAAU,WACZ1Z,KAAKwkC,SAAWxkC,KAAKkpC,gBACrBlpC,KAAKqvB,qBApEd,GAA6ByW,IAAMqD,W,OCfpBC,OAJf,WACE,OAAO,kBAAC,GAAD,OCOWC,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DCNNC,aAAa1D,MANS,CACpB,MAEA,iBAGmC2D,KAAK,KAE1CC,IAASl5B,OAAO,kBAAC,GAAD,MAASP,SAAS05B,eAAe,SDmH3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAM7S,MAAK,SAAA8S,GACjCA,EAAaC","file":"static/js/chunk-blinkmind.212b74e8.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/default.4f8c4983.jpg\";","module.exports = __webpack_public_path__ + \"static/media/theme1.2f59f00b.jpg\";","module.exports = __webpack_public_path__ + \"static/media/theme2.b18193fb.jpg\";","module.exports = __webpack_public_path__ + \"static/media/theme3.61c97910.jpg\";","module.exports = __webpack_public_path__ + \"static/media/theme4.1e21408c.jpg\";","import debug from 'debug';\nimport memoizeOne from 'memoize-one';\nimport warning from 'tiny-warning';\nimport { List, Record, Map as Map$1 } from 'immutable';\nimport isPlainObject from 'is-plain-object';\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\n\n/* global Reflect, Promise */\n\nvar _extendStatics = function extendStatics(d, b) {\n  _extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) {\n      if (b.hasOwnProperty(p)) d[p] = b[p];\n    }\n  };\n\n  return _extendStatics(d, b);\n};\n\nfunction __extends(d, b) {\n  _extendStatics(d, b);\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nvar _assign = function __assign() {\n  _assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return _assign.apply(this, arguments);\n};\n\nfunction __values(o) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator],\n      i = 0;\n  if (m) return m.call(o);\n  return {\n    next: function next() {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n}\n\nfunction __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {\n      ar.push(r.value);\n    }\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n}\n\nfunction __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++) {\n    ar = ar.concat(__read(arguments[i]));\n  }\n\n  return ar;\n}\n\nfunction CorePlugin(options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _a = options.plugins,\n      plugins = _a === void 0 ? [] : _a;\n  return __spread(plugins);\n}\n\nvar log = debug('core:controller');\n\nfunction registerPlugin(controller, plugin) {\n  if (Array.isArray(plugin)) {\n    plugin.forEach(function (p) {\n      return registerPlugin(controller, p);\n    });\n    return;\n  }\n\n  if (plugin == null) {\n    return;\n  }\n\n  for (var key in plugin) {\n    var fn = plugin[key];\n    controller.middleware[key] = controller.middleware[key] || [];\n    controller.middleware[key].push(fn);\n  }\n} // modified from koa-compose\n\n\nfunction compose(middleware) {\n  var e_1, _a;\n\n  if (!Array.isArray(middleware)) throw new TypeError('Middleware stack must be an array!');\n\n  try {\n    for (var middleware_1 = __values(middleware), middleware_1_1 = middleware_1.next(); !middleware_1_1.done; middleware_1_1 = middleware_1.next()) {\n      var fn = middleware_1_1.value;\n      if (typeof fn !== 'function') throw new TypeError('Middleware must be composed of functions!');\n    }\n  } catch (e_1_1) {\n    e_1 = {\n      error: e_1_1\n    };\n  } finally {\n    try {\n      if (middleware_1_1 && !middleware_1_1.done && (_a = middleware_1.return)) _a.call(middleware_1);\n    } finally {\n      if (e_1) throw e_1.error;\n    }\n  }\n\n  return function (context, next) {\n    // last called middleware #\n    var index = -1;\n    return dispatch(0);\n\n    function dispatch(i) {\n      if (i <= index) throw new Error('next() called multiple times');\n      index = i;\n      var fn = middleware[i];\n      if (i === middleware.length) fn = next;\n      if (!fn) return null;\n\n      try {\n        return fn(context, dispatch.bind(null, i + 1));\n      } catch (err) {\n        throw err;\n      }\n    }\n  };\n}\n\nvar Controller =\n/** @class */\nfunction () {\n  function Controller(options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    var _a = options.plugins,\n        plugins = _a === void 0 ? [] : _a,\n        onChange = options.onChange,\n        readOnly = options.readOnly;\n    this.readOnly = readOnly;\n    this.onChange = onChange;\n    this.middleware = new Map();\n    var corePlugin = CorePlugin({\n      plugins: plugins\n    });\n    registerPlugin(this, corePlugin);\n  }\n\n  Controller.prototype.run = function (key) {\n    var args = [];\n\n    for (var _i = 1; _i < arguments.length; _i++) {\n      args[_i - 1] = arguments[_i];\n    }\n\n    var middleware = this.middleware;\n    var fns = middleware[key] || [];\n    warning(fns.length !== 0, \"the middleware function \" + key + \" is not found!\");\n    var composedFn = memoizeOne(compose)(fns); // @ts-ignore\n\n    return composedFn.apply(void 0, __spread(args));\n  };\n\n  Controller.prototype.getValue = function (propKey, arg) {\n    return this.run('getValue', _assign(_assign({}, arg), {\n      propKey: propKey\n    }));\n  };\n\n  Controller.prototype.change = function (model, callback) {\n    this.onChange(model, callback);\n    this.currentModel = model;\n  };\n\n  return Controller;\n}();\n\nvar TopicDirection = {\n  LEFT: 'L',\n  RIGHT: 'R',\n  BOTTOM: 'B',\n  MAIN: 'M' // root\n\n};\nvar DiagramLayoutType;\n\n(function (DiagramLayoutType) {\n  DiagramLayoutType[DiagramLayoutType[\"LEFT_TO_RIGHT\"] = 0] = \"LEFT_TO_RIGHT\";\n  DiagramLayoutType[DiagramLayoutType[\"RIGHT_TO_LEFT\"] = 1] = \"RIGHT_TO_LEFT\";\n  DiagramLayoutType[DiagramLayoutType[\"LEFT_AND_RIGHT\"] = 2] = \"LEFT_AND_RIGHT\";\n  DiagramLayoutType[DiagramLayoutType[\"TOP_TO_BOTTOM\"] = 3] = \"TOP_TO_BOTTOM\";\n})(DiagramLayoutType || (DiagramLayoutType = {}));\n\nvar TopicVisualLevel = {\n  ROOT: 0,\n  PRIMARY: 1,\n  NORMAL: 2\n};\nvar BlockType = {\n  CONTENT: 'CONTENT',\n  DESC: 'DESC'\n};\nvar FocusMode = {\n  NORMAL: 'NORMAL',\n  EDITING_CONTENT: 'EDITING_CONTENT',\n  EDITING_DESC: 'EDITING_DESC',\n  SHOW_POPUP: 'SHOW_POPUP',\n  DRAGGING: 'DRAGGING'\n};\nvar TopicRelationship = {\n  ANCESTOR: 'ANCESTOR',\n  DESCENDANT: 'DESCENDANT',\n  SIBLING: 'SIBLING',\n  NONE: 'NONE'\n};\nvar OpType = {\n  TOGGLE_COLLAPSE: 'TOGGLE_COLLAPSE',\n  COLLAPSE_ALL: 'COLLAPSE_ALL',\n  EXPAND_ALL: 'EXPAND_ALL',\n  EXPAND_TO: 'EXPAND_TO',\n  ADD_CHILD: 'ADD_CHILD',\n  ADD_SIBLING: 'ADD_SIBLING',\n  DELETE_TOPIC: 'DELETE_TOPIC',\n  FOCUS_TOPIC: 'FOCUS_TOPIC',\n  SET_FOCUS_MODE: 'SET_FOCUS_MODE',\n  SET_STYLE: 'SET_STYLE',\n  SET_THEME: 'SET_THEME',\n  SET_TOPIC_BLOCK: 'SET_TOPIC_BLOCK',\n  DELETE_TOPIC_BLOCK: 'DELETE_TOPIC_BLOCK',\n  // SET_TOPIC_CONTENT: 'SET_TOPIC_CONTENT',\n  // SET_TOPIC_DESC: 'SET_TOPIC_DESC',\n  START_EDITING_CONTENT: 'START_EDITING_CONTENT',\n  START_EDITING_DESC: 'START_EDITING_DESC',\n  DRAG_AND_DROP: 'DRAG_AND_DROP',\n  SET_EDITOR_ROOT: 'SET_EDITOR_ROOT'\n};\n\nfunction createKey() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    var r = Math.random() * 16 | 0,\n        v = c === 'x' ? r : r & 0x3 | 0x8;\n    return v.toString(16);\n  });\n}\n\nvar defaultBlockRecord = {\n  type: null,\n  key: null,\n  data: null\n};\n\nvar Block =\n/** @class */\nfunction (_super) {\n  __extends(Block, _super);\n\n  function Block() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Object.defineProperty(Block.prototype, \"data\", {\n    get: function get() {\n      return this.get('data');\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Block.prototype, \"type\", {\n    get: function get() {\n      return this.get('type');\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  Block.create = function (obj) {\n    return new Block(obj);\n  };\n\n  Block.createList = function (obj) {\n    if (List.isList(obj) || Array.isArray(obj)) {\n      // @ts-ignore\n      return List(obj.map(Block.create));\n    }\n\n    throw new Error(\"Block.createList only accepts Array or List, but you passed it: \" + obj);\n  };\n\n  return Block;\n}(Record(defaultBlockRecord));\n\nvar defaultTopicRecord = {\n  key: null,\n  parentKey: null,\n  collapse: false,\n  subKeys: null,\n  blocks: null,\n  relations: null,\n  style: null\n};\n\nvar Topic =\n/** @class */\nfunction (_super) {\n  __extends(Topic, _super);\n\n  function Topic() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Object.defineProperty(Topic.prototype, \"key\", {\n    get: function get() {\n      return this.get('key');\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Topic.prototype, \"parentKey\", {\n    get: function get() {\n      return this.get('parentKey');\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Topic.prototype, \"collapse\", {\n    get: function get() {\n      return this.get('collapse');\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Topic.prototype, \"subKeys\", {\n    get: function get() {\n      return this.get('subKeys');\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Topic.prototype, \"blocks\", {\n    get: function get() {\n      return this.get('blocks');\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Topic.prototype, \"relations\", {\n    get: function get() {\n      return this.get('relations');\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Topic.prototype, \"style\", {\n    get: function get() {\n      return this.get('style');\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  Topic.prototype.getBlock = function (type) {\n    var index = this.blocks.findIndex(function (b) {\n      return b.type === type;\n    });\n    if (index === -1) return {\n      index: index,\n      block: null\n    };\n    return {\n      index: index,\n      block: this.blocks.get(index)\n    };\n  };\n\n  Topic.fromJSON = function (obj) {\n    var key = obj.key,\n        _a = obj.parentKey,\n        parentKey = _a === void 0 ? null : _a,\n        blocks = obj.blocks,\n        _b = obj.subKeys,\n        subKeys = _b === void 0 ? [] : _b,\n        _c = obj.collapse,\n        collapse = _c === void 0 ? false : _c;\n    return new Topic({\n      key: key,\n      parentKey: parentKey,\n      collapse: collapse,\n      subKeys: List(subKeys),\n      blocks: Block.createList(blocks)\n    });\n  };\n\n  Topic.create = function (_a) {\n    var key = _a.key,\n        _b = _a.parentKey,\n        parentKey = _b === void 0 ? null : _b,\n        _c = _a.content,\n        content = _c === void 0 ? '' : _c,\n        _d = _a.subKeys,\n        subKeys = _d === void 0 ? [] : _d,\n        _e = _a.collapse,\n        collapse = _e === void 0 ? false : _e;\n    var block = Block.create({\n      type: BlockType.CONTENT,\n      data: content,\n      key: null\n    });\n    var blocks = List([block]);\n    return new Topic({\n      key: key,\n      parentKey: parentKey,\n      blocks: blocks,\n      subKeys: List(subKeys),\n      collapse: collapse\n    });\n  };\n\n  return Topic;\n}(Record(defaultTopicRecord));\n\nfunction getAllSubTopicKeys(model, topicKey) {\n  var item = model.getTopic(topicKey);\n  var res = [];\n\n  if (item.subKeys.size > 0) {\n    var subKeys = item.subKeys.toArray();\n    res.push.apply(res, __spread(subKeys));\n    res = subKeys.reduce(function (acc, key) {\n      acc.push.apply(acc, __spread(getAllSubTopicKeys(model, key)));\n      return acc;\n    }, res);\n  }\n\n  return res;\n}\n\nfunction getKeyPath(model, topicKey, reverse) {\n  if (reverse === void 0) {\n    reverse = false;\n  }\n\n  var res = [topicKey];\n  var item = model.getTopic(topicKey);\n\n  while (item.parentKey) {\n    reverse ? res.push(item.parentKey) : res.unshift(item.parentKey);\n    item = model.getParentTopic(item.key);\n  }\n\n  return res;\n}\n\nfunction getRelationship(model, srcKey, dstKey) {\n  var srcTopic = model.getTopic(srcKey);\n  var dstTopic = model.getTopic(dstKey);\n\n  if (srcTopic && dstTopic) {\n    if (srcTopic.parentKey == dstTopic.parentKey) return TopicRelationship.SIBLING;\n    var pTopic = srcTopic;\n\n    while (pTopic.parentKey) {\n      if (pTopic.parentKey === dstTopic.key) return TopicRelationship.DESCENDANT;\n      pTopic = model.getParentTopic(pTopic.key);\n    }\n\n    pTopic = dstTopic;\n\n    while (pTopic.parentKey) {\n      if (pTopic.parentKey === srcTopic.key) return TopicRelationship.ANCESTOR;\n      pTopic = model.getParentTopic(pTopic.key);\n    }\n  }\n\n  return TopicRelationship.NONE;\n}\n\nvar log$1 = debug('modifier');\n\nfunction toggleCollapse(_a) {\n  var model = _a.model,\n      topicKey = _a.topicKey;\n  var topic = model.getTopic(topicKey);\n\n  if (topic && topic.subKeys.size !== 0) {\n    topic = topic.merge({\n      collapse: !topic.collapse\n    });\n    model = model.updateIn(['topics', topic.key, 'collapse'], function (collapse) {\n      return !collapse;\n    });\n  }\n\n  model = focusTopic({\n    model: model,\n    topicKey: topicKey,\n    focusMode: FocusMode.NORMAL\n  });\n  return model;\n}\n\nfunction collapseAll(_a) {\n  var model = _a.model;\n  log$1('collapseAll');\n  var topicKeys = getAllSubTopicKeys(model, model.editorRootTopicKey);\n  log$1(model);\n  model = model.withMutations(function (m) {\n    topicKeys.forEach(function (topicKey) {\n      m.setIn(['topics', topicKey, 'collapse'], true);\n    });\n  });\n  log$1(model);\n  return model;\n}\n\nfunction expandAll(_a) {\n  var model = _a.model;\n  var topicKeys = getAllSubTopicKeys(model, model.editorRootTopicKey);\n  log$1(model);\n  model = model.withMutations(function (m) {\n    topicKeys.forEach(function (topicKey) {\n      m.setIn(['topics', topicKey, 'collapse'], false);\n    });\n  });\n  log$1(model);\n  return model;\n}\n\nfunction expandTo(_a) {\n  var model = _a.model,\n      topicKey = _a.topicKey;\n  var keys = getKeyPath(model, topicKey).filter(function (t) {\n    return t !== topicKey;\n  });\n  model = model.withMutations(function (m) {\n    keys.forEach(function (topicKey) {\n      m.setIn(['topics', topicKey, 'collapse'], false);\n    });\n  }); // \n\n  if (getRelationship(model, topicKey, model.editorRootTopicKey) !== TopicRelationship.DESCENDANT) {\n    model = model.set('editorRootTopicKey', model.rootTopicKey);\n  }\n\n  return model;\n}\n\nfunction focusTopic(_a) {\n  var model = _a.model,\n      topicKey = _a.topicKey,\n      focusMode = _a.focusMode;\n  log$1('focus topic');\n  if (topicKey !== model.focusKey) model = model.set('focusKey', topicKey);\n  if (focusMode !== model.focusMode) model = model.set('focusMode', focusMode);\n  return model;\n}\n\nfunction setFocusMode(_a) {\n  var model = _a.model,\n      focusMode = _a.focusMode;\n  log$1('setFocusMode');\n  if (focusMode !== model.focusMode) model = model.set('focusMode', focusMode);\n  return model;\n}\n\nfunction addChild(_a) {\n  var model = _a.model,\n      topicKey = _a.topicKey;\n  log$1('addChild:', topicKey);\n  var topic = model.getTopic(topicKey);\n\n  if (topic) {\n    var child_1 = Topic.create({\n      key: createKey(),\n      parentKey: topic.key\n    });\n    topic = topic.set('collapse', false).update('subKeys', function (subKeys) {\n      return subKeys.push(child_1.key);\n    });\n    model = model.update('topics', function (topics) {\n      return topics.set(topicKey, topic).set(child_1.key, child_1);\n    });\n    return focusTopic({\n      model: model,\n      topicKey: child_1.key,\n      focusMode: FocusMode.EDITING_CONTENT\n    });\n  }\n\n  return model;\n}\n\nfunction addSibling(_a) {\n  var model = _a.model,\n      topicKey = _a.topicKey;\n  if (topicKey === model.rootTopicKey) return model;\n  var topic = model.getTopic(topicKey);\n\n  if (topic) {\n    var pItem = model.getTopic(topic.parentKey);\n    var idx_1 = pItem.subKeys.indexOf(topicKey);\n    var sibling_1 = Topic.create({\n      key: createKey(),\n      parentKey: pItem.key\n    });\n    model = model.update('topics', function (topics) {\n      return topics.set(sibling_1.key, sibling_1);\n    }).updateIn(['topics', pItem.key, 'subKeys'], function (subKeys) {\n      return subKeys.insert(idx_1 + 1, sibling_1.key);\n    });\n    return focusTopic({\n      model: model,\n      topicKey: sibling_1.key,\n      focusMode: FocusMode.EDITING_CONTENT\n    });\n  }\n\n  return model;\n}\n\nfunction deleteTopic(_a) {\n  var model = _a.model,\n      topicKey = _a.topicKey;\n  if (topicKey === model.editorRootTopicKey) return model;\n  var item = model.getTopic(topicKey);\n\n  if (item) {\n    model = model.withMutations(function (m) {\n      m.update('topics', function (topics) {\n        topics = topics.delete(topicKey);\n        var deleteKeys = getAllSubTopicKeys(model, topicKey);\n        topics = topics.withMutations(function (t) {\n          deleteKeys.forEach(function (dKey) {\n            t.delete(dKey);\n          });\n        });\n        return topics;\n      });\n      m.updateIn(['topics', item.parentKey, 'subKeys'], function (subKeys) {\n        return subKeys.delete(subKeys.indexOf(topicKey));\n      });\n      if (m.focusKey === topicKey) m.set('focusKey', null).set('focusMode', null);\n    });\n  }\n\n  return model;\n}\n/**\r\n * setBlockData of one topic\r\n * @param model\r\n * @param topicKey\r\n * @param blockType\r\n * @param focusMode\r\n * @param data\r\n */\n\n\nfunction setBlockData(_a) {\n  var model = _a.model,\n      topicKey = _a.topicKey,\n      blockType = _a.blockType,\n      focusMode = _a.focusMode,\n      data = _a.data;\n  var topic = model.getTopic(topicKey);\n\n  if (topic) {\n    var _b = topic.getBlock(blockType),\n        index = _b.index,\n        block = _b.block;\n\n    if (index === -1) {\n      model = model.updateIn(['topics', topicKey, 'blocks'], function (blocks) {\n        return blocks.push(Block.create({\n          type: blockType,\n          data: data\n        }));\n      });\n    } else {\n      if (block.data !== data) {\n        model = model.updateIn(['topics', topicKey, 'blocks', index, 'data'], function (dt) {\n          return data;\n        });\n      }\n    }\n\n    if (focusMode) {\n      model = focusTopic({\n        model: model,\n        topicKey: topicKey,\n        focusMode: focusMode\n      });\n    }\n  }\n\n  return model;\n}\n\nfunction deleteBlock(_a) {\n  var model = _a.model,\n      topicKey = _a.topicKey,\n      blockType = _a.blockType;\n  var topic = model.getTopic(topicKey);\n\n  if (topic) {\n    var index_1 = topic.getBlock(blockType).index;\n\n    if (index_1 !== -1) {\n      model = model.updateIn(['topics', topicKey, 'blocks'], function (blocks) {\n        return blocks.delete(index_1);\n      });\n    }\n\n    model = focusTopic({\n      model: model,\n      topicKey: null,\n      focusMode: null\n    });\n  }\n\n  return model;\n}\n\nfunction setStyle(_a) {\n  var model = _a.model,\n      topicKey = _a.topicKey,\n      style = _a.style;\n  var topic = model.getTopic(topicKey);\n\n  if (topic) {\n    if (style !== topic.style) {\n      model = model.updateIn(['topics', topicKey, 'style'], function (s) {\n        return style;\n      });\n    }\n  }\n\n  return model;\n}\n\nfunction setTheme(_a) {\n  var model = _a.model,\n      theme = _a.theme;\n  model = model.setIn(['config', 'theme'], theme);\n  return model;\n}\n\nfunction setLayoutDir(_a) {\n  var model = _a.model,\n      layoutDir = _a.layoutDir;\n  if (model.config.layoutDir === layoutDir) return model;\n  model = model.setIn(['config', 'layoutDir'], layoutDir);\n  return model;\n}\n\nfunction setEditorRootTopicKey(_a) {\n  var model = _a.model,\n      topicKey = _a.topicKey;\n  if (model.editorRootTopicKey !== topicKey) model = model.set('editorRootTopicKey', topicKey);\n  if (model.getTopic(topicKey).collapse) model = model.setIn(['topics', topicKey, 'collapse'], false);\n  return model;\n}\n\nfunction setZoomFactor(_a) {\n  var model = _a.model,\n      zoomFactor = _a.zoomFactor;\n  if (model.zoomFactor !== zoomFactor) model = model.set('zoomFactor', zoomFactor);\n  return model;\n}\n\nvar modifiers = {\n  addChild: addChild,\n  addSibling: addSibling,\n  toggleCollapse: toggleCollapse,\n  collapseAll: collapseAll,\n  expandAll: expandAll,\n  expandTo: expandTo,\n  focusTopic: focusTopic,\n  setFocusMode: setFocusMode,\n  deleteTopic: deleteTopic,\n  setBlockData: setBlockData,\n  deleteBlock: deleteBlock,\n  setStyle: setStyle,\n  setTheme: setTheme,\n  setLayoutDir: setLayoutDir,\n  setEditorRootTopicKey: setEditorRootTopicKey,\n  setZoomFactor: setZoomFactor\n};\n\nfunction isThemeType(obj) {\n  return obj.name != null && obj.background != null && obj.highlightColor != null;\n}\n\nvar defaultTheme = {\n  name: 'default',\n  randomColor: true,\n  background: 'rgb(57,60,65)',\n  highlightColor: '#50C9CE',\n  marginH: 60,\n  marginV: 20,\n  contentStyle: {\n    lineHeight: '1.5'\n  },\n  linkStyle: {\n    lineRadius: 5,\n    lineType: 'curve',\n    lineWidth: '3px'\n  },\n  rootTopic: {\n    contentStyle: {\n      fontSize: '34px',\n      borderRadius: '35px',\n      padding: '16px 18px 16px 18px'\n    },\n    subLinkStyle: {\n      lineType: 'curve',\n      lineWidth: '3px',\n      lineColor: 'rgb(113, 203, 45)'\n    }\n  },\n  primaryTopic: {\n    contentStyle: {\n      borderWidth: '1px',\n      borderStyle: 'solid',\n      borderRadius: '20px',\n      fontSize: '17px',\n      padding: '10px 15px 10px 15px'\n    },\n    subLinkStyle: {\n      lineType: 'curve',\n      lineWidth: '3px',\n      lineColor: 'rgb(113, 203, 45)'\n    }\n  },\n  normalTopic: {\n    contentStyle: {\n      border: '1px solid #e8eaec',\n      borderRadius: '20px',\n      fontSize: '17px',\n      padding: '4px 10px'\n    },\n    subLinkStyle: {\n      lineType: 'curve',\n      lineWidth: '3px',\n      lineColor: 'white'\n    }\n  }\n};\nvar defaultConfigRecord = {\n  readOnly: false,\n  allowUndo: true,\n  layoutDir: DiagramLayoutType.LEFT_AND_RIGHT,\n  theme: defaultTheme\n};\n\nvar Config =\n/** @class */\nfunction (_super) {\n  __extends(Config, _super);\n\n  function Config() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Object.defineProperty(Config.prototype, \"layoutDir\", {\n    get: function get() {\n      return this.get('layoutDir');\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Config.prototype, \"readOnly\", {\n    get: function get() {\n      return this.get('readOnly');\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Config.prototype, \"allowUndo\", {\n    get: function get() {\n      return this.get('allowUndo');\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Config.prototype, \"theme\", {\n    get: function get() {\n      return this.get('theme');\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  Config.fromJSON = function (obj) {\n    return new Config(obj);\n  };\n\n  return Config;\n}(Record(defaultConfigRecord));\n\nvar defaultModelRecord = {\n  topics: Map$1(),\n  extData: Map$1(),\n  config: null,\n  rootTopicKey: null,\n  editorRootTopicKey: null,\n  focusKey: null,\n  focusMode: null,\n  formatVersion: null,\n  zoomFactor: 1\n};\n\nvar Model =\n/** @class */\nfunction (_super) {\n  __extends(Model, _super);\n\n  function Model() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Model.isModel = function (obj) {\n    return obj instanceof Model;\n  };\n\n  Model.create = function (attrs) {\n    if (attrs === void 0) {\n      attrs = null;\n    }\n\n    if (attrs == null) return Model.createEmpty();\n    var res;\n\n    if (Model.isModel(attrs)) {\n      res = attrs;\n    }\n\n    if (isPlainObject(attrs)) {\n      res = Model.fromJSON(attrs);\n    }\n\n    if (res) {\n      if (res.focusKey == null) {\n        res = res.set('focusKey', res.rootTopicKey);\n      }\n\n      if (res.focusMode == null) {\n        res = res.set('focusMode', FocusMode.NORMAL);\n      }\n\n      return res;\n    }\n\n    throw new Error(\"`Value.create` only accepts objects or values, but you passed it: \" + attrs);\n  };\n\n  Model.createEmpty = function () {\n    var model = new Model();\n    var rootTopic = Topic.create({\n      key: createKey()\n    });\n    return model.update('topics', function (topics) {\n      return topics.set(rootTopic.key, rootTopic);\n    }).set('rootTopicKey', rootTopic.key).set('focusKey', rootTopic.key).set('focusMode', FocusMode.NORMAL);\n  };\n\n  Model.fromJSON = function (object) {\n    var model = new Model();\n    var _a = object.topics,\n        topics = _a === void 0 ? [] : _a,\n        _b = object.config,\n        config = _b === void 0 ? {} : _b,\n        rootTopicKey = object.rootTopicKey;\n    var editorRootTopicKey = object.editorRootTopicKey;\n    if (editorRootTopicKey === undefined) editorRootTopicKey = rootTopicKey;\n    model = model.merge({\n      rootTopicKey: rootTopicKey,\n      editorRootTopicKey: editorRootTopicKey\n    });\n    model = model.withMutations(function (model) {\n      topics.forEach(function (topic) {\n        model.update('topics', function (topics) {\n          return topics.set(topic.key, Topic.fromJSON(topic));\n        });\n      });\n      model.set('config', Config.fromJSON(config));\n    });\n    return model;\n  };\n\n  Model.prototype.toJS = function () {\n    var obj = {\n      rootTopicKey: this.rootTopicKey,\n      topics: Object.values(this.topics.toJS()),\n      config: this.config,\n      extData: this.extData,\n      zoomFactor: this.zoomFactor\n    };\n    return obj;\n  };\n\n  Object.defineProperty(Model.prototype, \"extData\", {\n    get: function get() {\n      return this.get('extData');\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Model.prototype, \"topics\", {\n    get: function get() {\n      return this.get('topics');\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Model.prototype, \"config\", {\n    get: function get() {\n      return this.get('config');\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Model.prototype, \"formatVersion\", {\n    get: function get() {\n      return this.get('formatVersion');\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Model.prototype, \"rootTopicKey\", {\n    get: function get() {\n      return this.get('rootTopicKey');\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Model.prototype, \"editorRootTopicKey\", {\n    get: function get() {\n      return this.get('editorRootTopicKey');\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Model.prototype, \"focusKey\", {\n    get: function get() {\n      return this.get('focusKey');\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Model.prototype, \"focusMode\", {\n    get: function get() {\n      return this.get('focusMode');\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Model.prototype, \"editingContentKey\", {\n    get: function get() {\n      return this.focusMode === FocusMode.EDITING_CONTENT ? this.focusKey : null;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Model.prototype, \"editingDescKey\", {\n    get: function get() {\n      return this.focusMode === FocusMode.EDITING_DESC ? this.focusKey : null;\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  Model.prototype.getTopic = function (key) {\n    return this.topics.get(key);\n  };\n\n  Model.prototype.getExtDataItem = function (key, c) {\n    return this.extData.get(key) || new c();\n  };\n\n  Model.prototype.getParentTopic = function (key) {\n    var topic = this.getTopic(key);\n    return topic.parentKey ? this.getTopic(topic.parentKey) : null;\n  };\n\n  Model.prototype.getTopicVisualLevel = function (key) {\n    var topic = this.getTopic(key);\n    var level = 0;\n\n    while (topic && topic.key !== this.editorRootTopicKey) {\n      level++;\n      topic = this.getParentTopic(topic.key);\n    }\n\n    return level;\n  };\n\n  Object.defineProperty(Model.prototype, \"rootTopic\", {\n    get: function get() {\n      return this.getTopic(this.rootTopicKey);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(Model.prototype, \"zoomFactor\", {\n    get: function get() {\n      return this.get('zoomFactor');\n    },\n    enumerable: true,\n    configurable: true\n  });\n  return Model;\n}(Record(defaultModelRecord));\n\nexport { Block, BlockType, Config, Controller, DiagramLayoutType, FocusMode, Model, modifiers as ModelModifier, modifiers as Modifiers, OpType, Topic, TopicDirection, TopicRelationship, TopicVisualLevel, createKey, defaultTheme, getAllSubTopicKeys, getKeyPath, getRelationship, isThemeType };","import _objectSpread from \"/home/madhank/Desktop/git/js-mindmap/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _createForOfIteratorHelper from \"/home/madhank/Desktop/git/js-mindmap/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";\nimport _toConsumableArray from \"/home/madhank/Desktop/git/js-mindmap/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/home/madhank/Desktop/git/js-mindmap/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/madhank/Desktop/git/js-mindmap/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/home/madhank/Desktop/git/js-mindmap/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/madhank/Desktop/git/js-mindmap/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport { Record, List, Map as Map$1 } from 'immutable';\nimport debug from 'debug';\nimport isPlainObject from 'is-plain-object';\nimport memoizeOne from 'memoize-one';\nimport warning from 'tiny-warning';\nvar TopicDirection = {\n  LEFT: 'L',\n  RIGHT: 'R',\n  BOTTOM: 'B',\n  MAIN: 'M' // root\n\n};\nvar DiagramLayoutType;\n\n(function (DiagramLayoutType) {\n  DiagramLayoutType[DiagramLayoutType[\"LEFT_TO_RIGHT\"] = 0] = \"LEFT_TO_RIGHT\";\n  DiagramLayoutType[DiagramLayoutType[\"RIGHT_TO_LEFT\"] = 1] = \"RIGHT_TO_LEFT\";\n  DiagramLayoutType[DiagramLayoutType[\"LEFT_AND_RIGHT\"] = 2] = \"LEFT_AND_RIGHT\";\n  DiagramLayoutType[DiagramLayoutType[\"TOP_TO_BOTTOM\"] = 3] = \"TOP_TO_BOTTOM\";\n})(DiagramLayoutType || (DiagramLayoutType = {}));\n\nvar TopicVisualLevel = {\n  ROOT: 0,\n  PRIMARY: 1,\n  NORMAL: 2\n};\nvar BlockType = {\n  CONTENT: 'CONTENT',\n  DESC: 'DESC'\n};\nvar FocusMode = {\n  NORMAL: 'NORMAL',\n  EDITING_CONTENT: 'EDITING_CONTENT',\n  EDITING_DESC: 'EDITING_DESC',\n  SHOW_POPUP: 'SHOW_POPUP',\n  DRAGGING: 'DRAGGING'\n};\nvar TopicRelationship = {\n  ANCESTOR: 'ANCESTOR',\n  DESCENDANT: 'DESCENDANT',\n  SIBLING: 'SIBLING',\n  NONE: 'NONE'\n};\nvar OpType = {\n  TOGGLE_COLLAPSE: 'TOGGLE_COLLAPSE',\n  COLLAPSE_ALL: 'COLLAPSE_ALL',\n  EXPAND_ALL: 'EXPAND_ALL',\n  EXPAND_TO: 'EXPAND_TO',\n  ADD_CHILD: 'ADD_CHILD',\n  ADD_SIBLING: 'ADD_SIBLING',\n  DELETE_TOPIC: 'DELETE_TOPIC',\n  FOCUS_TOPIC: 'FOCUS_TOPIC',\n  SET_FOCUS_MODE: 'SET_FOCUS_MODE',\n  SET_STYLE: 'SET_STYLE',\n  CLEAR_ALL_CUSTOM_STYLE: 'CLEAR_ALL_CUSTOM_STYLE',\n  SET_THEME: 'SET_THEME',\n  SET_TOPIC_BLOCK: 'SET_TOPIC_BLOCK',\n  DELETE_TOPIC_BLOCK: 'DELETE_TOPIC_BLOCK',\n  // SET_TOPIC_CONTENT: 'SET_TOPIC_CONTENT',\n  // SET_TOPIC_DESC: 'SET_TOPIC_DESC',\n  START_EDITING_CONTENT: 'START_EDITING_CONTENT',\n  START_EDITING_DESC: 'START_EDITING_DESC',\n  DRAG_AND_DROP: 'DRAG_AND_DROP',\n  SET_EDITOR_ROOT: 'SET_EDITOR_ROOT',\n  SET_LAYOUT_DIR: 'SET_LAYOUT_DIR'\n};\nvar defaultBlockRecord = {\n  type: null,\n  key: null,\n  data: null\n};\n\nvar Block = /*#__PURE__*/function (_Record) {\n  _inherits(Block, _Record);\n\n  var _super = _createSuper(Block);\n\n  function Block() {\n    _classCallCheck(this, Block);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(Block, [{\n    key: \"data\",\n    get: function get() {\n      return this.get('data');\n    }\n  }, {\n    key: \"type\",\n    get: function get() {\n      return this.get('type');\n    }\n  }], [{\n    key: \"create\",\n    value: function create(obj) {\n      return new Block(obj);\n    }\n  }, {\n    key: \"createList\",\n    value: function createList(obj) {\n      if (List.isList(obj) || Array.isArray(obj)) {\n        // @ts-ignore\n        return List(obj.map(Block.create));\n      }\n\n      throw new Error(\"Block.createList only accepts Array or List, but you passed it: \".concat(obj));\n    }\n  }]);\n\n  return Block;\n}(Record(defaultBlockRecord));\n\nfunction isThemeType(obj) {\n  return obj.name != null && obj.background != null && obj.highlightColor != null;\n}\n\nvar defaultTheme = {\n  name: 'default',\n  randomColor: true,\n  background: 'rgb(57,60,65)',\n  highlightColor: '#50C9CE',\n  marginH: 60,\n  marginV: 20,\n  contentStyle: {\n    lineHeight: '1.5'\n  },\n  linkStyle: {\n    lineRadius: 5,\n    lineType: 'curve',\n    lineWidth: '3px'\n  },\n  rootTopic: {\n    contentStyle: {\n      fontSize: '34px',\n      borderRadius: '35px',\n      padding: '16px 18px 16px 18px'\n    },\n    subLinkStyle: {\n      lineType: 'curve',\n      lineWidth: '3px',\n      lineColor: 'rgb(113, 203, 45)'\n    }\n  },\n  primaryTopic: {\n    contentStyle: {\n      borderWidth: '1px',\n      borderStyle: 'solid',\n      borderRadius: '20px',\n      fontSize: '17px',\n      padding: '10px 15px 10px 15px'\n    },\n    subLinkStyle: {\n      lineType: 'curve',\n      lineWidth: '3px',\n      lineColor: 'rgb(113, 203, 45)'\n    }\n  },\n  normalTopic: {\n    contentStyle: {\n      border: '1px solid #e8eaec',\n      borderRadius: '20px',\n      fontSize: '17px',\n      padding: '4px 10px'\n    },\n    subLinkStyle: {\n      lineType: 'curve',\n      lineWidth: '3px',\n      lineColor: 'white'\n    }\n  }\n};\nvar defaultConfigRecord = {\n  readOnly: false,\n  allowUndo: true,\n  layoutDir: DiagramLayoutType.LEFT_AND_RIGHT,\n  theme: defaultTheme\n};\n\nvar Config = /*#__PURE__*/function (_Record2) {\n  _inherits(Config, _Record2);\n\n  var _super2 = _createSuper(Config);\n\n  function Config() {\n    _classCallCheck(this, Config);\n\n    return _super2.apply(this, arguments);\n  }\n\n  _createClass(Config, [{\n    key: \"layoutDir\",\n    get: function get() {\n      return this.get('layoutDir');\n    }\n  }, {\n    key: \"readOnly\",\n    get: function get() {\n      return this.get('readOnly');\n    }\n  }, {\n    key: \"allowUndo\",\n    get: function get() {\n      return this.get('allowUndo');\n    }\n  }, {\n    key: \"theme\",\n    get: function get() {\n      return this.get('theme');\n    }\n  }], [{\n    key: \"fromJSON\",\n    value: function fromJSON(obj) {\n      return new Config(obj);\n    }\n  }]);\n\n  return Config;\n}(Record(defaultConfigRecord));\n\nfunction createKey() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    var r = Math.random() * 16 | 0,\n        v = c === 'x' ? r : r & 0x3 | 0x8;\n    return v.toString(16);\n  });\n}\n\nvar defaultTopicRecord = {\n  key: null,\n  parentKey: null,\n  collapse: false,\n  subKeys: null,\n  blocks: null,\n  relations: null,\n  style: null\n};\n\nvar Topic = /*#__PURE__*/function (_Record3) {\n  _inherits(Topic, _Record3);\n\n  var _super3 = _createSuper(Topic);\n\n  function Topic() {\n    _classCallCheck(this, Topic);\n\n    return _super3.apply(this, arguments);\n  }\n\n  _createClass(Topic, [{\n    key: \"key\",\n    get: function get() {\n      return this.get('key');\n    }\n  }, {\n    key: \"parentKey\",\n    get: function get() {\n      return this.get('parentKey');\n    }\n  }, {\n    key: \"collapse\",\n    get: function get() {\n      return this.get('collapse');\n    }\n  }, {\n    key: \"subKeys\",\n    get: function get() {\n      return this.get('subKeys');\n    }\n  }, {\n    key: \"blocks\",\n    get: function get() {\n      return this.get('blocks');\n    }\n  }, {\n    key: \"relations\",\n    get: function get() {\n      return this.get('relations');\n    }\n  }, {\n    key: \"style\",\n    get: function get() {\n      return this.get('style');\n    }\n  }, {\n    key: \"getBlock\",\n    value: function getBlock(type) {\n      var index = this.blocks.findIndex(function (b) {\n        return b.type === type;\n      });\n      if (index === -1) return {\n        index: index,\n        block: null\n      };\n      return {\n        index: index,\n        block: this.blocks.get(index)\n      };\n    }\n  }], [{\n    key: \"fromJSON\",\n    value: function fromJSON(obj) {\n      var key = obj.key,\n          _obj$parentKey = obj.parentKey,\n          parentKey = _obj$parentKey === void 0 ? null : _obj$parentKey,\n          blocks = obj.blocks,\n          _obj$subKeys = obj.subKeys,\n          subKeys = _obj$subKeys === void 0 ? [] : _obj$subKeys,\n          _obj$collapse = obj.collapse,\n          collapse = _obj$collapse === void 0 ? false : _obj$collapse;\n      return new Topic({\n        key: key,\n        parentKey: parentKey,\n        collapse: collapse,\n        subKeys: List(subKeys),\n        blocks: Block.createList(blocks)\n      });\n    }\n  }, {\n    key: \"create\",\n    value: function create(_ref) {\n      var key = _ref.key,\n          _ref$parentKey = _ref.parentKey,\n          parentKey = _ref$parentKey === void 0 ? null : _ref$parentKey,\n          _ref$content = _ref.content,\n          content = _ref$content === void 0 ? '' : _ref$content,\n          _ref$subKeys = _ref.subKeys,\n          subKeys = _ref$subKeys === void 0 ? [] : _ref$subKeys,\n          _ref$collapse = _ref.collapse,\n          collapse = _ref$collapse === void 0 ? false : _ref$collapse;\n      var block = Block.create({\n        type: BlockType.CONTENT,\n        data: content,\n        key: null\n      });\n      var blocks = List([block]);\n      return new Topic({\n        key: key,\n        parentKey: parentKey,\n        blocks: blocks,\n        subKeys: List(subKeys),\n        collapse: collapse\n      });\n    }\n  }]);\n\n  return Topic;\n}(Record(defaultTopicRecord));\n\nfunction getAllSubTopicKeys(model, topicKey) {\n  var item = model.getTopic(topicKey);\n  var res = [];\n\n  if (item.subKeys.size > 0) {\n    var _res;\n\n    var subKeys = item.subKeys.toArray();\n\n    (_res = res).push.apply(_res, _toConsumableArray(subKeys));\n\n    res = subKeys.reduce(function (acc, key) {\n      acc.push.apply(acc, _toConsumableArray(getAllSubTopicKeys(model, key)));\n      return acc;\n    }, res);\n  }\n\n  return res;\n}\n\nfunction getKeyPath(model, topicKey) {\n  var reverse = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var res = [topicKey];\n  var item = model.getTopic(topicKey);\n\n  while (item.parentKey) {\n    reverse ? res.push(item.parentKey) : res.unshift(item.parentKey);\n    item = model.getParentTopic(item.key);\n  }\n\n  return res;\n}\n\nfunction getRelationship(model, srcKey, dstKey) {\n  var srcTopic = model.getTopic(srcKey);\n  var dstTopic = model.getTopic(dstKey);\n\n  if (srcTopic && dstTopic) {\n    if (srcTopic.parentKey == dstTopic.parentKey) return TopicRelationship.SIBLING;\n    var pTopic = srcTopic;\n\n    while (pTopic.parentKey) {\n      if (pTopic.parentKey === dstTopic.key) return TopicRelationship.DESCENDANT;\n      pTopic = model.getParentTopic(pTopic.key);\n    }\n\n    pTopic = dstTopic;\n\n    while (pTopic.parentKey) {\n      if (pTopic.parentKey === srcTopic.key) return TopicRelationship.ANCESTOR;\n      pTopic = model.getParentTopic(pTopic.key);\n    }\n  }\n\n  return TopicRelationship.NONE;\n}\n\nvar log = debug('modifier');\n\nfunction toggleCollapse(_ref2) {\n  var model = _ref2.model,\n      topicKey = _ref2.topicKey;\n  var topic = model.getTopic(topicKey);\n\n  if (topic && topic.subKeys.size !== 0) {\n    topic = topic.merge({\n      collapse: !topic.collapse\n    });\n    model = model.updateIn(['topics', topic.key, 'collapse'], function (collapse) {\n      return !collapse;\n    });\n  }\n\n  model = focusTopic({\n    model: model,\n    topicKey: topicKey,\n    focusMode: FocusMode.NORMAL\n  });\n  return model;\n}\n\nfunction collapseAll(_ref3) {\n  var model = _ref3.model;\n  var topicKeys = getAllSubTopicKeys(model, model.editorRootTopicKey);\n  log(model);\n  model = model.withMutations(function (m) {\n    topicKeys.forEach(function (topicKey) {\n      m.setIn(['topics', topicKey, 'collapse'], true);\n    });\n  });\n  model = focusTopic({\n    model: model,\n    topicKey: model.editorRootTopicKey,\n    focusMode: FocusMode.NORMAL\n  });\n  return model;\n}\n\nfunction expandAll(_ref4) {\n  var model = _ref4.model;\n  var topicKeys = getAllSubTopicKeys(model, model.editorRootTopicKey);\n  log(model);\n  model = model.withMutations(function (m) {\n    topicKeys.forEach(function (topicKey) {\n      m.setIn(['topics', topicKey, 'collapse'], false);\n    });\n  });\n  log(model);\n  return model;\n}\n\nfunction expandTo(_ref5) {\n  var model = _ref5.model,\n      topicKey = _ref5.topicKey;\n  var keys = getKeyPath(model, topicKey).filter(function (t) {\n    return t !== topicKey;\n  });\n  model = model.withMutations(function (m) {\n    keys.forEach(function (topicKey) {\n      m.setIn(['topics', topicKey, 'collapse'], false);\n    });\n  }); // \n\n  if (getRelationship(model, topicKey, model.editorRootTopicKey) !== TopicRelationship.DESCENDANT) {\n    model = model.set('editorRootTopicKey', model.rootTopicKey);\n  }\n\n  return model;\n}\n\nfunction focusTopic(_ref6) {\n  var model = _ref6.model,\n      topicKey = _ref6.topicKey,\n      focusMode = _ref6.focusMode;\n  log('focus topic');\n  if (topicKey !== model.focusKey) model = model.set('focusKey', topicKey);\n  if (focusMode !== model.focusMode) model = model.set('focusMode', focusMode);\n  return model;\n}\n\nfunction setFocusMode(_ref7) {\n  var model = _ref7.model,\n      focusMode = _ref7.focusMode;\n  log('setFocusMode');\n  if (focusMode !== model.focusMode) model = model.set('focusMode', focusMode);\n  return model;\n}\n\nfunction addChild(_ref8) {\n  var model = _ref8.model,\n      topicKey = _ref8.topicKey;\n  log('addChild:', topicKey);\n  var topic = model.getTopic(topicKey);\n\n  if (topic) {\n    var child = Topic.create({\n      key: createKey(),\n      parentKey: topic.key\n    });\n    topic = topic.set('collapse', false).update('subKeys', function (subKeys) {\n      return subKeys.push(child.key);\n    });\n    model = model.update('topics', function (topics) {\n      return topics.set(topicKey, topic).set(child.key, child);\n    });\n    return focusTopic({\n      model: model,\n      topicKey: child.key,\n      focusMode: FocusMode.EDITING_CONTENT\n    });\n  }\n\n  return model;\n}\n\nfunction addSibling(_ref9) {\n  var model = _ref9.model,\n      topicKey = _ref9.topicKey;\n  if (topicKey === model.rootTopicKey) return model;\n  var topic = model.getTopic(topicKey);\n\n  if (topic) {\n    var pItem = model.getTopic(topic.parentKey);\n    var idx = pItem.subKeys.indexOf(topicKey);\n    var sibling = Topic.create({\n      key: createKey(),\n      parentKey: pItem.key\n    });\n    model = model.update('topics', function (topics) {\n      return topics.set(sibling.key, sibling);\n    }).updateIn(['topics', pItem.key, 'subKeys'], function (subKeys) {\n      return subKeys.insert(idx + 1, sibling.key);\n    });\n    return focusTopic({\n      model: model,\n      topicKey: sibling.key,\n      focusMode: FocusMode.EDITING_CONTENT\n    });\n  }\n\n  return model;\n}\n\nfunction deleteTopic(_ref10) {\n  var model = _ref10.model,\n      topicKey = _ref10.topicKey;\n  if (topicKey === model.editorRootTopicKey) return model;\n  var item = model.getTopic(topicKey);\n\n  if (item) {\n    model = model.withMutations(function (m) {\n      m.update('topics', function (topics) {\n        topics = topics.delete(topicKey);\n        var deleteKeys = getAllSubTopicKeys(model, topicKey);\n        topics = topics.withMutations(function (t) {\n          deleteKeys.forEach(function (dKey) {\n            t.delete(dKey);\n          });\n        });\n        return topics;\n      });\n      m.updateIn(['topics', item.parentKey, 'subKeys'], function (subKeys) {\n        return subKeys.delete(subKeys.indexOf(topicKey));\n      });\n      if (m.focusKey === topicKey) m.set('focusKey', null).set('focusMode', null);\n    });\n  }\n\n  return model;\n}\n/**\r\n * setBlockData of one topic\r\n * @param model\r\n * @param topicKey\r\n * @param blockType\r\n * @param focusMode\r\n * @param data\r\n */\n\n\nfunction setBlockData(_ref11) {\n  var model = _ref11.model,\n      topicKey = _ref11.topicKey,\n      blockType = _ref11.blockType,\n      focusMode = _ref11.focusMode,\n      data = _ref11.data;\n  var topic = model.getTopic(topicKey);\n\n  if (topic) {\n    var _topic$getBlock = topic.getBlock(blockType),\n        index = _topic$getBlock.index,\n        block = _topic$getBlock.block;\n\n    if (index === -1) {\n      model = model.updateIn(['topics', topicKey, 'blocks'], function (blocks) {\n        return blocks.push(Block.create({\n          type: blockType,\n          data: data\n        }));\n      });\n    } else {\n      if (block.data !== data) {\n        model = model.updateIn(['topics', topicKey, 'blocks', index, 'data'], function (dt) {\n          return data;\n        });\n      }\n    }\n\n    if (focusMode) {\n      model = focusTopic({\n        model: model,\n        topicKey: topicKey,\n        focusMode: focusMode\n      });\n    }\n  }\n\n  return model;\n}\n\nfunction deleteBlock(_ref12) {\n  var model = _ref12.model,\n      topicKey = _ref12.topicKey,\n      blockType = _ref12.blockType;\n  var topic = model.getTopic(topicKey);\n\n  if (topic) {\n    var _topic$getBlock2 = topic.getBlock(blockType),\n        index = _topic$getBlock2.index;\n\n    if (index !== -1) {\n      model = model.updateIn(['topics', topicKey, 'blocks'], function (blocks) {\n        return blocks.delete(index);\n      });\n    }\n\n    model = focusTopic({\n      model: model,\n      topicKey: null,\n      focusMode: null\n    });\n  }\n\n  return model;\n}\n\nfunction setStyle(_ref13) {\n  var model = _ref13.model,\n      topicKey = _ref13.topicKey,\n      style = _ref13.style;\n  var topic = model.getTopic(topicKey);\n\n  if (topic) {\n    if (style !== topic.style) {\n      model = model.updateIn(['topics', topicKey, 'style'], function (s) {\n        return style;\n      });\n    }\n  }\n\n  return model;\n}\n\nfunction clearAllCustomStyle(_ref14) {\n  var model = _ref14.model;\n  model = model.withMutations(function (model) {\n    model.topics.keySeq().forEach(function (key) {\n      model.setIn(['topics', key, 'style'], null);\n    });\n  });\n  return model;\n}\n\nfunction setTheme(_ref15) {\n  var model = _ref15.model,\n      theme = _ref15.theme;\n  model = model.setIn(['config', 'theme'], theme);\n  return model;\n}\n\nfunction setLayoutDir(_ref16) {\n  var model = _ref16.model,\n      layoutDir = _ref16.layoutDir;\n  if (model.config.layoutDir === layoutDir) return model;\n  model = model.setIn(['config', 'layoutDir'], layoutDir);\n  return model;\n}\n\nfunction setEditorRootTopicKey(_ref17) {\n  var model = _ref17.model,\n      topicKey = _ref17.topicKey;\n  if (model.editorRootTopicKey !== topicKey) model = model.set('editorRootTopicKey', topicKey);\n  if (model.getTopic(topicKey).collapse) model = model.setIn(['topics', topicKey, 'collapse'], false);\n  return model;\n}\n\nfunction setZoomFactor(_ref18) {\n  var model = _ref18.model,\n      zoomFactor = _ref18.zoomFactor;\n  if (model.zoomFactor !== zoomFactor) model = model.set('zoomFactor', zoomFactor);\n  return model;\n}\n\nvar modifiers = {\n  addChild: addChild,\n  addSibling: addSibling,\n  toggleCollapse: toggleCollapse,\n  collapseAll: collapseAll,\n  expandAll: expandAll,\n  expandTo: expandTo,\n  focusTopic: focusTopic,\n  setFocusMode: setFocusMode,\n  deleteTopic: deleteTopic,\n  setBlockData: setBlockData,\n  deleteBlock: deleteBlock,\n  setStyle: setStyle,\n  clearAllCustomStyle: clearAllCustomStyle,\n  setTheme: setTheme,\n  setLayoutDir: setLayoutDir,\n  setEditorRootTopicKey: setEditorRootTopicKey,\n  setZoomFactor: setZoomFactor\n};\nvar defaultModelRecord = {\n  topics: Map$1(),\n  extData: Map$1(),\n  config: new Config(),\n  rootTopicKey: null,\n  editorRootTopicKey: null,\n  focusKey: null,\n  focusMode: null,\n  formatVersion: null,\n  zoomFactor: 1\n};\n\nvar Model = /*#__PURE__*/function (_Record4) {\n  _inherits(Model, _Record4);\n\n  var _super4 = _createSuper(Model);\n\n  function Model() {\n    _classCallCheck(this, Model);\n\n    return _super4.apply(this, arguments);\n  }\n\n  _createClass(Model, [{\n    key: \"toJS\",\n    value: function toJS() {\n      var obj = {\n        rootTopicKey: this.rootTopicKey,\n        topics: Object.values(this.topics.toJS()),\n        config: this.config,\n        extData: this.extData,\n        zoomFactor: this.zoomFactor\n      };\n      return obj;\n    }\n  }, {\n    key: \"extData\",\n    get: function get() {\n      return this.get('extData');\n    }\n  }, {\n    key: \"topics\",\n    get: function get() {\n      return this.get('topics');\n    }\n  }, {\n    key: \"config\",\n    get: function get() {\n      return this.get('config');\n    }\n  }, {\n    key: \"formatVersion\",\n    get: function get() {\n      return this.get('formatVersion');\n    }\n  }, {\n    key: \"rootTopicKey\",\n    get: function get() {\n      return this.get('rootTopicKey');\n    }\n  }, {\n    key: \"editorRootTopicKey\",\n    get: function get() {\n      return this.get('editorRootTopicKey');\n    }\n  }, {\n    key: \"focusKey\",\n    get: function get() {\n      return this.get('focusKey');\n    }\n  }, {\n    key: \"focusMode\",\n    get: function get() {\n      return this.get('focusMode');\n    }\n  }, {\n    key: \"editingContentKey\",\n    get: function get() {\n      return this.focusMode === FocusMode.EDITING_CONTENT ? this.focusKey : null;\n    }\n  }, {\n    key: \"editingDescKey\",\n    get: function get() {\n      return this.focusMode === FocusMode.EDITING_DESC ? this.focusKey : null;\n    }\n  }, {\n    key: \"getTopic\",\n    value: function getTopic(key) {\n      return this.topics.get(key);\n    }\n  }, {\n    key: \"getExtDataItem\",\n    value: function getExtDataItem(key, c) {\n      return this.extData.get(key) || new c();\n    }\n  }, {\n    key: \"getParentTopic\",\n    value: function getParentTopic(key) {\n      var topic = this.getTopic(key);\n      return topic.parentKey ? this.getTopic(topic.parentKey) : null;\n    }\n  }, {\n    key: \"getTopicVisualLevel\",\n    value: function getTopicVisualLevel(key) {\n      var topic = this.getTopic(key);\n      var level = 0;\n\n      while (topic && topic.key !== this.editorRootTopicKey) {\n        level++;\n        topic = this.getParentTopic(topic.key);\n      }\n\n      return level;\n    }\n  }, {\n    key: \"rootTopic\",\n    get: function get() {\n      return this.getTopic(this.rootTopicKey);\n    }\n  }, {\n    key: \"zoomFactor\",\n    get: function get() {\n      return this.get('zoomFactor');\n    }\n  }], [{\n    key: \"isModel\",\n    value: function isModel(obj) {\n      return obj instanceof Model;\n    }\n  }, {\n    key: \"create\",\n    value: function create() {\n      var attrs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      if (attrs == null) return Model.createEmpty();\n      var res;\n\n      if (Model.isModel(attrs)) {\n        res = attrs;\n      }\n\n      if (isPlainObject(attrs)) {\n        res = Model.fromJSON(attrs);\n      }\n\n      if (res) {\n        if (res.focusKey == null) {\n          res = res.set('focusKey', res.rootTopicKey);\n        }\n\n        if (res.focusMode == null) {\n          res = res.set('focusMode', FocusMode.NORMAL);\n        }\n\n        return res;\n      }\n\n      throw new Error(\"`Value.create` only accepts objects or values, but you passed it: \".concat(attrs));\n    }\n  }, {\n    key: \"createEmpty\",\n    value: function createEmpty() {\n      var model = new Model();\n      var rootTopic = Topic.create({\n        key: createKey(),\n        content: 'RootTopic'\n      });\n      return model.update('topics', function (topics) {\n        return topics.set(rootTopic.key, rootTopic);\n      }).set('rootTopicKey', rootTopic.key).set('editorRootTopicKey', rootTopic.key).set('focusKey', rootTopic.key).set('focusMode', FocusMode.NORMAL);\n    }\n  }, {\n    key: \"fromJSON\",\n    value: function fromJSON(object) {\n      var model = new Model();\n      var _object$topics = object.topics,\n          topics = _object$topics === void 0 ? [] : _object$topics,\n          _object$config = object.config,\n          config = _object$config === void 0 ? {} : _object$config,\n          rootTopicKey = object.rootTopicKey;\n      var editorRootTopicKey = object.editorRootTopicKey;\n      if (editorRootTopicKey === undefined) editorRootTopicKey = rootTopicKey;\n      model = model.merge({\n        rootTopicKey: rootTopicKey,\n        editorRootTopicKey: editorRootTopicKey\n      });\n      model = model.withMutations(function (model) {\n        topics.forEach(function (topic) {\n          model.update('topics', function (topics) {\n            return topics.set(topic.key, Topic.fromJSON(topic));\n          });\n        });\n        model.set('config', Config.fromJSON(config));\n      });\n      return model;\n    }\n  }]);\n\n  return Model;\n}(Record(defaultModelRecord));\n\nfunction CorePlugin() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options$plugins = options.plugins,\n      plugins = _options$plugins === void 0 ? [] : _options$plugins;\n  return _toConsumableArray(plugins);\n}\n\nvar log$1 = debug('core:controller');\n\nfunction registerPlugin(controller, plugin) {\n  if (Array.isArray(plugin)) {\n    plugin.forEach(function (p) {\n      return registerPlugin(controller, p);\n    });\n    return;\n  }\n\n  if (plugin == null) {\n    return;\n  }\n\n  for (var key in plugin) {\n    var fn = plugin[key];\n    controller.middleware[key] = controller.middleware[key] || [];\n    controller.middleware[key].push(fn);\n  }\n} // modified from koa-compose\n\n\nfunction compose(middleware) {\n  if (!Array.isArray(middleware)) throw new TypeError('Middleware stack must be an array!');\n\n  var _iterator = _createForOfIteratorHelper(middleware),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var fn = _step.value;\n      if (typeof fn !== 'function') throw new TypeError('Middleware must be composed of functions!');\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  return function (context, next) {\n    // last called middleware #\n    var index = -1;\n    return dispatch(0);\n\n    function dispatch(i) {\n      if (i <= index) throw new Error('next() called multiple times');\n      index = i;\n      var fn = middleware[i];\n      if (i === middleware.length) fn = next;\n      if (!fn) return null;\n\n      try {\n        return fn(context, dispatch.bind(null, i + 1));\n      } catch (err) {\n        throw err;\n      }\n    }\n  };\n}\n\nvar Controller = /*#__PURE__*/function () {\n  function Controller() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Controller);\n\n    var _options$plugins2 = options.plugins,\n        plugins = _options$plugins2 === void 0 ? [] : _options$plugins2,\n        onChange = options.onChange,\n        readOnly = options.readOnly;\n    this.readOnly = readOnly;\n    this.onChange = onChange;\n    this.middleware = new Map();\n    var corePlugin = CorePlugin({\n      plugins: plugins\n    });\n    registerPlugin(this, corePlugin);\n  }\n\n  _createClass(Controller, [{\n    key: \"run\",\n    value: function run(key) {\n      var middleware = this.middleware;\n      var fns = middleware[key] || [];\n      warning(fns.length !== 0, \"the middleware function \".concat(key, \" is not found!\"));\n      var composedFn = memoizeOne(compose)(fns); // @ts-ignore\n\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      return composedFn.apply(void 0, args);\n    }\n  }, {\n    key: \"getValue\",\n    value: function getValue(propKey, arg) {\n      return this.run('getValue', _objectSpread(_objectSpread({}, arg), {}, {\n        propKey: propKey\n      }));\n    }\n  }, {\n    key: \"change\",\n    value: function change(model, callback) {\n      this.onChange(model, callback);\n      this.currentModel = model;\n    }\n  }]);\n\n  return Controller;\n}();\n\nexport { Block, BlockType, Config, Controller, DiagramLayoutType, FocusMode, Model, modifiers as ModelModifier, OpType, Topic, TopicDirection, TopicRelationship, TopicVisualLevel, createKey, defaultTheme, getAllSubTopicKeys, getKeyPath, getRelationship, isThemeType };","import { BlockType, OpType, FocusMode } from '@blink-mind/core';\nimport { createElement, PureComponent } from 'react';\nimport plainSerializer from 'slate-plain-serializer';\nimport debug from 'debug';\nimport { Editor } from 'slate-react';\nimport styled from 'styled-components';\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\n\n/* global Reflect, Promise */\n\nvar _extendStatics = function extendStatics(d, b) {\n  _extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) {\n      if (b.hasOwnProperty(p)) d[p] = b[p];\n    }\n  };\n\n  return _extendStatics(d, b);\n};\n\nfunction __extends(d, b) {\n  _extendStatics(d, b);\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nvar _assign = function __assign() {\n  _assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return _assign.apply(this, arguments);\n};\n\nfunction __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n}\n\nvar log = debug('node:text-editor');\nvar Content = styled.div(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  padding: 6px;\\n  background-color: \", \";\\n  cursor: \", \";\\n  min-width: 50px;\\n\"], [\"\\n  padding: 6px;\\n  background-color: \", \";\\n  cursor: \", \";\\n  min-width: 50px;\\n\"])), function (props) {\n  return props.readOnly ? null : 'white';\n}, function (props) {\n  return props.readOnly ? 'pointer' : 'text';\n});\n\nvar SimpleTextEditor =\n/** @class */\nfunction (_super) {\n  __extends(SimpleTextEditor, _super);\n\n  function SimpleTextEditor(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.state = {\n      content: null\n    };\n\n    _this.onMouseDown = function (e) {\n      e.stopPropagation();\n    };\n\n    _this.onMouseMove = function (e) {// log('onMouseMove');\n      // e.stopPropagation();\n    };\n\n    _this.onKeyDown = function (e) {};\n\n    _this._handleClick = function (event) {\n      var wasOutside = !_this.root.contains(event.target);\n      wasOutside && _this.onClickOutSide(event);\n    };\n\n    _this.rootRef = function (saveRef) {\n      return function (ref) {\n        saveRef(ref);\n        _this.root = ref;\n      };\n    };\n\n    _this.initState();\n\n    return _this;\n  }\n\n  SimpleTextEditor.prototype.onChange = function (_a) {\n    var value = _a.value;\n    log('onChange', value);\n    this.setState({\n      content: value\n    });\n  };\n\n  SimpleTextEditor.prototype.componentDidMount = function () {\n    var readOnly = this.props.readOnly;\n    if (readOnly) return;\n    document.addEventListener('click', this._handleClick);\n  };\n\n  SimpleTextEditor.prototype.componentWillUnmount = function () {\n    var readOnly = this.props.readOnly;\n    if (readOnly) return;\n    document.removeEventListener('click', this._handleClick);\n  };\n\n  SimpleTextEditor.prototype.onClickOutSide = function (e) {};\n\n  SimpleTextEditor.prototype.getCustomizeProps = function () {\n    return null;\n  };\n\n  SimpleTextEditor.prototype.getContent = function () {\n    var block = this.getCustomizeProps().block;\n    var content = block.data;\n    if (content == null) return null;\n\n    if (typeof content === 'string') {\n      content = plainSerializer.deserialize(content);\n    }\n\n    return content;\n  };\n\n  SimpleTextEditor.prototype.initState = function () {\n    var content = this.getContent();\n    this.state = {\n      content: content\n    };\n  };\n\n  SimpleTextEditor.prototype.render = function () {\n    var _a = this.props,\n        topicKey = _a.topicKey,\n        saveRef = _a.saveRef;\n\n    var _b = this.getCustomizeProps(),\n        readOnly = _b.readOnly,\n        getRefKeyFunc = _b.getRefKeyFunc,\n        placeholder = _b.placeholder,\n        style = _b.style;\n\n    log(readOnly);\n    var key = getRefKeyFunc(topicKey);\n    var content = readOnly ? this.getContent() : this.state.content;\n\n    var _c = this,\n        onMouseDown = _c.onMouseDown,\n        onMouseMove = _c.onMouseMove,\n        onKeyDown = _c.onKeyDown;\n\n    var editorProps = {\n      value: content,\n      readOnly: readOnly,\n      onChange: this.onChange.bind(this),\n      placeholder: placeholder,\n      style: style\n    };\n    var contentProps = {\n      key: key,\n      readOnly: readOnly,\n      ref: this.rootRef(saveRef(key)),\n      onMouseDown: onMouseDown,\n      onMouseMove: onMouseMove,\n      onKeyDown: onKeyDown\n    };\n    return createElement(Content, _assign({}, contentProps), createElement(Editor, _assign({}, editorProps, {\n      autoFocus: true\n    })));\n  };\n\n  return SimpleTextEditor;\n}(PureComponent);\n\nvar templateObject_1;\nvar log$1 = debug('node:topic-content-editor');\n\nfunction contentEditorRefKey(key) {\n  return \"content-editor-\" + key;\n}\n\nvar TopicContentEditor =\n/** @class */\nfunction (_super) {\n  __extends(TopicContentEditor, _super);\n\n  function TopicContentEditor(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.onKeyDown = function (e) {\n      if (e.nativeEvent.ctrlKey && e.nativeEvent.code === 'Enter') {\n        _this.save();\n      }\n    };\n\n    return _this;\n  }\n\n  TopicContentEditor.prototype.getCustomizeProps = function () {\n    var _a = this.props,\n        model = _a.model,\n        topicKey = _a.topicKey,\n        readOnly = _a.readOnly;\n    var block = model.getTopic(topicKey).getBlock(BlockType.CONTENT).block;\n    var getRefKeyFunc = contentEditorRefKey;\n    var style = {\n      whiteSpace: 'pre'\n    };\n    return {\n      block: block,\n      readOnly: readOnly,\n      getRefKeyFunc: getRefKeyFunc,\n      placeholder: 'new',\n      style: style\n    };\n  };\n\n  TopicContentEditor.prototype.onClickOutSide = function (e) {\n    log$1('onClickOutSide');\n    this.save();\n  };\n\n  TopicContentEditor.prototype.save = function () {\n    var _a = this.props,\n        model = _a.model,\n        topicKey = _a.topicKey;\n    var readOnly = model.editingContentKey !== topicKey;\n    if (readOnly) return;\n    var controller = this.props.controller;\n    controller.run('operation', _assign(_assign({}, this.props), {\n      opType: OpType.SET_TOPIC_BLOCK,\n      blockType: BlockType.CONTENT,\n      data: this.state.content,\n      focusMode: FocusMode.NORMAL\n    }));\n  };\n\n  return TopicContentEditor;\n}(SimpleTextEditor);\n\nvar log$2 = debug('node:topic-desc-editor');\n\nfunction descEditorRefKey(key) {\n  return \"desc-editor-\" + key;\n}\n\nvar TopicDescEditor =\n/** @class */\nfunction (_super) {\n  __extends(TopicDescEditor, _super);\n\n  function TopicDescEditor(props) {\n    var _this = _super.call(this, props) || this;\n\n    log$2('constructor');\n    return _this;\n  }\n\n  TopicDescEditor.prototype.initState = function () {\n    _super.prototype.initState.call(this);\n\n    var _a = this.props,\n        controller = _a.controller,\n        topicKey = _a.topicKey;\n    var key = \"topic-desc-data-\" + topicKey;\n    var value = this.state.content;\n    controller.run('setTempValue', {\n      key: key,\n      value: value\n    });\n  };\n\n  TopicDescEditor.prototype.getCustomizeProps = function () {\n    var _a = this.props,\n        model = _a.model,\n        topicKey = _a.topicKey;\n    var block = model.getTopic(topicKey).getBlock(BlockType.DESC).block;\n    var readOnly = model.editingDescKey !== topicKey;\n    var getRefKeyFunc = descEditorRefKey;\n    return {\n      block: block,\n      readOnly: readOnly,\n      getRefKeyFunc: getRefKeyFunc,\n      placeholder: 'write topic notes here'\n    };\n  };\n\n  TopicDescEditor.prototype.onChange = function (_a) {\n    var value = _a.value;\n    log$2('onChange');\n    var _b = this.props,\n        controller = _b.controller,\n        topicKey = _b.topicKey,\n        model = _b.model;\n    var readOnly = model.editingDescKey !== topicKey;\n    if (readOnly) return;\n    var key = \"topic-desc-data-\" + topicKey;\n    controller.run('setTempValue', {\n      key: key,\n      value: value\n    });\n    this.setState({\n      content: value\n    });\n  };\n\n  return TopicDescEditor;\n}(SimpleTextEditor);\n\nfunction SimpleTextEditorPlugin() {\n  return {\n    getTopicTitle: function getTopicTitle(props) {\n      var model = props.model,\n          controller = props.controller,\n          topicKey = props.topicKey,\n          maxLength = props.maxLength;\n      var topic = model.getTopic(topicKey);\n      var block = topic.getBlock(BlockType.CONTENT).block;\n      var text = controller.run('serializeBlockData', _assign(_assign({}, props), {\n        block: block\n      }));\n\n      if (maxLength != null) {\n        text = text.length > maxLength ? text.substr(0, maxLength) + '...' : text;\n      }\n\n      return text;\n    },\n    renderTopicContentEditor: function renderTopicContentEditor(props) {\n      return createElement(TopicContentEditor, _assign({}, props));\n    },\n    renderTopicDescEditor: function renderTopicDescEditor(props) {\n      return createElement(TopicDescEditor, _assign({}, props));\n    },\n    isBlockEmpty: function isBlockEmpty(props, next) {\n      var block = props.block,\n          controller = props.controller;\n\n      if (block.type === BlockType.CONTENT || block.type === BlockType.DESC) {\n        return block.data == null || controller.run('serializeBlockData', props) === '';\n      }\n\n      return next();\n    },\n    serializeBlockData: function serializeBlockData(props, next) {\n      var block = props.block;\n\n      if (block.type === BlockType.CONTENT || block.type === BlockType.DESC) {\n        return typeof block.data === 'string' ? block.data : plainSerializer.serialize(block.data);\n      }\n\n      return next();\n    }\n  };\n}\n\nexport default SimpleTextEditorPlugin;","import { PureComponent, createElement, Component, Fragment, useState } from 'react';\nimport ResizeObserver from 'resize-observer-polyfill';\nimport styled, { css, ThemeProvider } from 'styled-components';\nimport debug from 'debug';\nimport { Checkbox, Menu, MenuItem, Breadcrumbs, PopoverPosition, Breadcrumb, Tooltip, Hotkey, Hotkeys, HotkeysTarget, Dialog, Classes, ContextMenuTarget, PopoverInteractionKind, Popover, Position, Drawer, Tabs, Divider, Button, NumericInput, InputGroup, Tab, Alert } from '@blueprintjs/core';\nimport { FocusMode, OpType, DiagramLayoutType, ModelModifier, getRelationship, TopicRelationship, getAllSubTopicKeys, BlockType, TopicDirection, isThemeType, TopicVisualLevel, Controller } from '@blink-mind/core';\nimport '@blink-mind/icons';\nimport '@blueprintjs/core/lib/css/blueprint.css';\nimport memoizeOne from 'memoize-one';\nimport SimpleTextEditorPlugin from '@blink-mind/plugin-simple-text-editor';\nimport { Stack, List } from 'immutable';\nimport cx from 'classnames';\nimport { Select } from '@blueprintjs/select';\nimport { SketchPicker } from 'react-color';\nimport { merge, clone, isEqual } from 'lodash';\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\n\n/* global Reflect, Promise */\n\nvar _extendStatics = function extendStatics(d, b) {\n  _extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) {\n      if (b.hasOwnProperty(p)) d[p] = b[p];\n    }\n  };\n\n  return _extendStatics(d, b);\n};\n\nfunction __extends(d, b) {\n  _extendStatics(d, b);\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nvar _assign = function __assign() {\n  _assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return _assign.apply(this, arguments);\n};\n\nfunction __rest(s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n}\n\nfunction __decorate(decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n\nfunction __values(o) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator],\n      i = 0;\n  if (m) return m.call(o);\n  return {\n    next: function next() {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n}\n\nfunction __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {\n      ar.push(r.value);\n    }\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n}\n\nfunction __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++) {\n    ar = ar.concat(__read(arguments[i]));\n  }\n\n  return ar;\n}\n\nfunction __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n}\n\nvar BaseWidget =\n/** @class */\nfunction (_super) {\n  __extends(BaseWidget, _super);\n\n  function BaseWidget(props) {\n    return _super.call(this, props) || this;\n  }\n\n  BaseWidget.prototype.operation = function (opType, arg) {\n    this.props.controller.run('operation', _assign({\n      opType: opType\n    }, arg));\n  };\n\n  BaseWidget.prototype.run = function (name, arg) {\n    this.props.controller.run(name, arg);\n  };\n\n  Object.defineProperty(BaseWidget.prototype, \"topic\", {\n    get: function get() {\n      return this.props.model.getTopic(this.props.topicKey);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  return BaseWidget;\n}(PureComponent);\n\nvar log = debug('node:drag-scroll-widget');\nvar DragScrollView = styled.div(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  position: relative;\\n  width: 100%;\\n  height: 100%;\\n  overflow: scroll;\\n\"], [\"\\n  position: relative;\\n  width: 100%;\\n  height: 100%;\\n  overflow: scroll;\\n\"])));\nvar DragScrollContent = styled.div(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n  position: relative;\\n  width: max-content;\\n\"], [\"\\n  position: relative;\\n  width: max-content;\\n\"])));\n\nvar DragScrollWidget =\n/** @class */\nfunction (_super) {\n  __extends(DragScrollWidget, _super);\n\n  function DragScrollWidget(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.contentResizeCallback = function (entries, observer) {\n      if (_this.oldContentRect) {\n        var widgetStyle = {\n          width: _this.content.clientWidth + _this.viewBox.clientWidth * 2,\n          height: _this.content.clientHeight + _this.viewBox.clientHeight * 2\n        };\n        _this.bigView.style.width = widgetStyle.width + 'px';\n        _this.bigView.style.height = widgetStyle.height + 'px';\n      }\n\n      _this.oldContentRect = entries[0].contentRect;\n    };\n\n    _this.contentResizeObserver = new ResizeObserver(_this.contentResizeCallback);\n\n    _this.contentRef = function (ref) {\n      if (ref) {\n        _this.content = ref;\n\n        _this.contentResizeObserver.observe(_this.content);\n      }\n    };\n\n    _this.viewBoxRef = function (ref) {\n      if (ref) {\n        _this.viewBox = ref;\n\n        if (!_this.props.enableMouseWheel) {\n          log('addEventListener onwheel');\n\n          _this.viewBox.addEventListener('wheel', function (e) {\n            log('onwheel');\n            (e.ctrlKey || e.altKey) && e.preventDefault();\n          }, {\n            passive: false\n          });\n        }\n\n        _this.setViewBoxScroll(_this.viewBox.clientWidth, _this.viewBox.clientHeight);\n      }\n    };\n\n    _this.bigViewRef = function (ref) {\n      if (ref) {\n        _this.bigView = ref;\n      }\n    };\n\n    _this.setWidgetStyle = function () {\n      if (_this.content && _this.viewBox && _this.bigView) {\n        _this.bigView.style.width = (_this.content.clientWidth + _this.viewBox.clientWidth) * 2 + 'px';\n        _this.bigView.style.height = (_this.content.clientHeight + _this.viewBox.clientHeight) * 2 + 'px';\n        _this.content.style.left = _this.viewBox.clientWidth + 'px';\n        _this.content.style.top = _this.viewBox.clientHeight + 'px';\n      }\n    };\n\n    _this.setViewBoxScroll = function (left, top) {\n      log(\"setViewBoxScroll \" + left + \" \" + top);\n\n      if (_this.viewBox) {\n        _this.viewBox.scrollLeft = left;\n        _this.viewBox.scrollTop = top;\n      }\n    };\n\n    _this.setViewBoxScrollDelta = function (deltaLeft, deltaTop) {\n      log(\"setViewBoxScrollDelta \" + deltaLeft + \" \" + deltaTop);\n\n      if (_this.viewBox) {\n        _this.viewBox.scrollLeft += deltaLeft;\n        _this.viewBox.scrollTop += deltaTop;\n      }\n    };\n\n    _this.onMouseDown = function (e) {\n      // log('Drag Scroll onMouseDown');\n      // log(e.nativeEvent.target);\n      // mouseKey \n      // needKeyPressed ctrl\n      // canDragFunc\n      var _a = _this.props,\n          mouseKey = _a.mouseKey,\n          needKeyPressed = _a.needKeyPressed,\n          canDragFunc = _a.canDragFunc;\n      if (canDragFunc && !canDragFunc()) return;\n\n      if (e.button === 0 && mouseKey === 'left' || e.button === 2 && mouseKey === 'right') {\n        if (needKeyPressed) {\n          if (!e.ctrlKey) return;\n        }\n\n        _this._lastCoordX = _this.viewBox.scrollLeft + e.nativeEvent.clientX;\n        _this._lastCoordY = _this.viewBox.scrollTop + e.nativeEvent.clientY;\n        var ele = _this.viewBox;\n        ele.addEventListener('mousemove', _this.onMouseMove);\n        ele.addEventListener('mouseup', _this.onMouseUp);\n      }\n    };\n\n    _this.onMouseUp = function (e) {\n      var ele = _this.viewBox;\n      ele.removeEventListener('mousemove', _this.onMouseMove);\n      ele.removeEventListener('mouseup', _this.onMouseUp);\n    };\n\n    _this.onMouseMove = function (e) {\n      _this.viewBox.scrollLeft = _this._lastCoordX - e.clientX;\n      _this.viewBox.scrollTop = _this._lastCoordY - e.clientY; // log(`onMouseMove ${this.viewBox.scrollLeft} ${this.viewBox.scrollTop}`);\n    };\n\n    _this.handleContextMenu = function (e) {\n      e.preventDefault();\n    };\n\n    _this.state = {\n      widgetStyle: {\n        width: '10000px',\n        height: '10000px'\n      }\n    };\n    return _this;\n  }\n\n  DragScrollWidget.prototype.componentDidMount = function () {\n    this.setWidgetStyle();\n    document.addEventListener('contextmenu', this.handleContextMenu);\n  };\n\n  DragScrollWidget.prototype.componentWillUnmount = function () {\n    document.removeEventListener('contextmenu', this.handleContextMenu);\n  };\n\n  DragScrollWidget.prototype.setZoomFactor = function (zoomFactor) {\n    this.bigView.style.transform = \"scale(\" + zoomFactor + \")\";\n    this.bigView.style.transformOrigin = '50% 50%';\n  };\n\n  DragScrollWidget.prototype.render = function () {\n    var style = _assign({}, this.state.widgetStyle // zoom:this.props.zoomFactor,\n    // transform: `scale(${this.props.zoomFactor})`,\n    // transformOrigin: '50% 50%'\n    );\n\n    return createElement(DragScrollView, {\n      ref: this.viewBoxRef,\n      onMouseDown: this.onMouseDown\n    }, createElement(\"div\", {\n      style: style,\n      ref: this.bigViewRef\n    }, createElement(DragScrollContent, {\n      ref: this.contentRef,\n      style: this.state.contentStyle\n    }, this.props.children(this.setViewBoxScroll, this.setViewBoxScrollDelta))));\n  };\n\n  DragScrollWidget.defaultProps = {\n    mouseKey: 'left',\n    needKeyPressed: false\n  };\n  return DragScrollWidget;\n}(Component);\n\nvar templateObject_1, templateObject_2;\nvar log$1 = debug('node:save-ref'); //TODO ,topic\n\nvar SaveRef =\n/** @class */\nfunction (_super) {\n  __extends(SaveRef, _super);\n\n  function SaveRef() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.getRef = function (name) {\n      log$1(_this);\n      return _this[name];\n    };\n\n    _this.saveRef = function (name) {\n      return function (node) {\n        if (node) {\n          _this[name] = node;\n\n          _this.fireListener(name, node);\n        }\n      };\n    };\n\n    _this.deleteRef = function (name) {\n      log$1('deleteRef:', name);\n      delete _this[name];\n    };\n\n    _this.observers = new Map();\n\n    _this.fireListener = function (name, ref) {\n      var e_1, _a;\n\n      if (_this.observers.has(name)) {\n        var listeners = _this.observers.get(name);\n\n        try {\n          for (var listeners_1 = __values(listeners), listeners_1_1 = listeners_1.next(); !listeners_1_1.done; listeners_1_1 = listeners_1.next()) {\n            var listener = listeners_1_1.value;\n            listener(name, ref);\n          }\n        } catch (e_1_1) {\n          e_1 = {\n            error: e_1_1\n          };\n        } finally {\n          try {\n            if (listeners_1_1 && !listeners_1_1.done && (_a = listeners_1.return)) _a.call(listeners_1);\n          } finally {\n            if (e_1) throw e_1.error;\n          }\n        }\n      }\n    };\n\n    _this.registerRefListener = function (name, listener) {\n      if (!_this.observers.has(name)) {\n        _this.observers.set(name, [listener]);\n      } else {\n        _this.observers.get(name).push(listener);\n      }\n    };\n\n    return _this;\n  }\n\n  SaveRef.prototype.render = function () {\n    return this.props.children(this.saveRef, this.getRef, this.deleteRef, this.registerRefListener.bind(this));\n  };\n\n  return SaveRef;\n}(Component);\n\nvar Flex = styled.div(templateObject_1$1 || (templateObject_1$1 = __makeTemplateObject([\"\\n  display: flex;\\n  flex-direction: \", \";\\n  align-items: \", \";\\n  justify-content: \", \";\\n\"], [\"\\n  display: flex;\\n  flex-direction: \", \";\\n  align-items: \", \";\\n  justify-content: \", \";\\n\"])), function (props) {\n  return props.flexDirection ? props.flexDirection : 'row';\n}, function (props) {\n  return props.alignItems;\n}, function (props) {\n  return props.justifyContent;\n});\nvar Margin = styled.div(templateObject_2$1 || (templateObject_2$1 = __makeTemplateObject([\"\\n  margin: \", \";\\n\"], [\"\\n  margin: \", \";\\n\"])), function (props) {\n  return props.margin;\n});\nvar ShowMenuIcon = styled.a(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\\n  font-size: 20px !important;\\n\"], [\"\\n  font-size: 20px !important;\\n\"])));\nvar IconBg = styled.div(templateObject_4 || (templateObject_4 = __makeTemplateObject([\"\\n  padding: 5px;\\n  cursor: pointer;\\n\"], [\"\\n  padding: 5px;\\n  cursor: pointer;\\n\"])));\nvar Btn = styled.div(templateObject_5 || (templateObject_5 = __makeTemplateObject([\"\\n  cursor: pointer;\\n  &:hover {\\n    color: #1ea7fd;\\n  }\\n\"], [\"\\n  cursor: pointer;\\n  &:hover {\\n    color: #1ea7fd;\\n  }\\n\"])));\nvar StyledCheckbox = styled(Checkbox)(templateObject_6 || (templateObject_6 = __makeTemplateObject([\"\\n  margin-bottom: 0px !important;\\n\"], [\"\\n  margin-bottom: 0px !important;\\n\"])));\nvar CloseIcon = styled(Btn)(templateObject_7 || (templateObject_7 = __makeTemplateObject([\"\\n  position: absolute;\\n  right: 5px;\\n  top: 5px;\\n  //padding: 5px;\\n\"], [\"\\n  position: absolute;\\n  right: 5px;\\n  top: 5px;\\n  //padding: 5px;\\n\"])));\nvar Title = styled.div(templateObject_8 || (templateObject_8 = __makeTemplateObject([\"\\n  height: 16px;\\n\"], [\"\\n  height: 16px;\\n\"])));\nvar TopicBlockIcon = styled.span(templateObject_9 || (templateObject_9 = __makeTemplateObject([\"\\n  margin: 0px 10px;\\n  &:hover {\\n    color: palevioletred;\\n  }\\n\"], [\"\\n  margin: 0px 10px;\\n  &:hover {\\n    color: palevioletred;\\n  }\\n\"])));\nvar ZIndex = styled.div(templateObject_10 || (templateObject_10 = __makeTemplateObject([\"\\n  z-index: \", \";\\n\"], [\"\\n  z-index: \", \";\\n\"])), function (props) {\n  return props.zIndex;\n});\nvar PanelTabRoot = styled.div(templateObject_11 || (templateObject_11 = __makeTemplateObject([\"\\n  min-width: 360px;\\n  max-height: 470px;\\n  overflow: auto;\\n\"], [\"\\n  min-width: 360px;\\n  max-height: 470px;\\n  overflow: auto;\\n\"])));\nvar templateObject_1$1, templateObject_2$1, templateObject_3, templateObject_4, templateObject_5, templateObject_6, templateObject_7, templateObject_8, templateObject_9, templateObject_10, templateObject_11;\nvar log$2 = debug('plugin:event');\n\nfunction EventPlugin() {\n  var eventListeners = {};\n  return {\n    handleTopicClick: function handleTopicClick(props) {\n      log$2('handleTopicClick');\n      var controller = props.controller,\n          model = props.model,\n          topicKey = props.topicKey;\n      log$2(model.zoomFactor); //TODO\n\n      if (model.editingDescKey !== null) return;\n      if (model.editingContentKey === topicKey) return;\n      if (model.focusKey === topicKey && model.focusMode === FocusMode.EDITING_CONTENT) return;\n      controller.run('operation', _assign(_assign({}, props), {\n        opType: OpType.FOCUS_TOPIC,\n        focusMode: FocusMode.NORMAL\n      }));\n    },\n    handleTopicDoubleClick: function handleTopicDoubleClick(props) {\n      var controller = props.controller,\n          model = props.model;\n      if (model.editingDescKey !== null) return;\n      controller.run('operation', _assign(_assign({}, props), {\n        opType: OpType.FOCUS_TOPIC,\n        focusMode: FocusMode.EDITING_CONTENT\n      }));\n    },\n    handleTopicContextMenu: function handleTopicContextMenu(props) {\n      var controller = props.controller;\n      controller.run('operation', _assign(_assign({}, props), {\n        opType: OpType.FOCUS_TOPIC,\n        focusMode: FocusMode.SHOW_POPUP\n      }));\n    },\n    handleActiveModalClose: function handleActiveModalClose(props) {\n      var controller = props.controller;\n      var activeModalProps = controller.run('getActiveModalProps', props);\n      if (activeModalProps == null) return null;\n\n      if (activeModalProps.name === 'edit-desc') {\n        return function () {\n          controller.run('operation', _assign(_assign({}, props), {\n            focusMode: FocusMode.NORMAL,\n            opType: OpType.FOCUS_TOPIC\n          }));\n        };\n      }\n    },\n    addEventListener: function addEventListener(props) {\n      var key = props.key,\n          listener = props.listener,\n          once = props.once,\n          controller = props.controller;\n      if (!eventListeners[key]) eventListeners[key] = [];\n\n      if (once) {\n        only.origin = listener;\n        eventListeners[key].push(only);\n      } else {\n        eventListeners[key].push(listener);\n      }\n\n      function only() {\n        listener();\n        controller.run('removeEventListener', {\n          key: key,\n          listener: listener\n        });\n      }\n    },\n    removeEventListener: function removeEventListener(props) {\n      var key = props.key,\n          listener = props.listener;\n\n      if (eventListeners[key]) {\n        eventListeners[key] = eventListeners[key].filter(function (fn) {\n          return fn !== listener && fn.origin !== listener;\n        });\n      }\n    },\n    fireEvent: function fireEvent(props) {\n      var key = props.key;\n\n      if (eventListeners[key]) {\n        eventListeners[key].forEach(function (fn) {\n          return fn();\n        });\n      }\n    }\n  };\n}\n\nvar IconName = {\n  SHOW_MENU: 'show-menu',\n  CLOSE: 'close',\n  COLOR_PICKER: 'color-picker',\n  NOTES: 'notes',\n  PLUS: 'plus',\n  MINUS: 'minus',\n  COLLAPSE_ALL: 'collapse',\n  EXPAND_ALL: 'expand',\n  CENTER: 'center',\n  TRASH: 'trash',\n  SEARCH: 'search',\n  THEME: 'theme',\n  EXPORT: 'export',\n  OPEN_FILE: 'openfile'\n};\n\nfunction iconClassName(name) {\n  return \"icon iconfont bm-\" + name;\n}\n\nfunction Icon(iconName) {\n  return createElement(\"span\", {\n    className: iconClassName(iconName)\n  });\n}\n\nfunction contentRefKey(key) {\n  return \"content-\" + key;\n}\n\nfunction contentEditorRefKey(key) {\n  return \"content-editor-\" + key;\n}\n\nfunction descEditorRefKey(key) {\n  return \"desc-editor-\" + key;\n}\n\nfunction topicWidgetRefKey(key) {\n  return \"topic-widget-\" + key;\n}\n\nfunction topicRefKey(key) {\n  return \"topic-\" + key;\n}\n\nfunction linksRefKey(key) {\n  return \"links-\" + key;\n}\n\nfunction linksSvgRefKey(key) {\n  return \"links-svg-\" + key;\n}\n\nfunction collapseRefKey(key) {\n  return \"collapse-\" + key;\n}\n\nfunction dropAreaRefKey(key, dir) {\n  return \"dropArea-\" + dir + \"-\" + key;\n}\n\nvar RefKey = {\n  DIAGRAM_ROOT_KEY: 'DIAGRAM-ROOT',\n  DRAG_SCROLL_WIDGET_KEY: 'DragScrollWidget',\n  SVG_HIGHLIGHT_KEY: 'svg-highlight',\n  FOCUS_HIGHLIGHT_KEY: 'focus-highlight',\n  DROP_EFFECT_KEY: 'drop-effect'\n};\nvar EventKey = {\n  CENTER_ROOT_TOPIC: 'CENTER_ROOT_TOPIC'\n};\nvar PropKey = {\n  DIAGRAM_CUSTOMIZE_BASE_Z_INDEX: 'DIAGRAM_CUSTOMIZE_BASE_Z_INDEX',\n  TOPIC_CONTEXT_MENU_ENABLED: 'TOPIC_CONTEXT_MENU_ENABLED',\n  TOPIC_TITLE: 'TOPIC_TITLE'\n};\n\nvar cancelEvent = function cancelEvent(e) {\n  e.stopPropagation();\n};\n\nfunction browserDownloadFile(url, filename) {\n  var link = document.createElement('a');\n  link.href = url;\n  link.download = filename;\n  link.click();\n}\n\nfunction browserDownloadText(text, filename) {\n  var url = \"data:text/plain,\" + encodeURIComponent(text);\n  browserDownloadFile(url, filename);\n}\n\nfunction browserOpenFile(accept) {\n  var input = document.createElement('input');\n  input.type = 'file';\n  input.accept = accept;\n  return new Promise(function (resolve, reject) {\n    input.addEventListener('change', function (evt) {\n      //@ts-ignore\n      var file = evt.target.files[0];\n      var fr = new FileReader();\n\n      fr.onload = function (evt) {\n        var txt = evt.target.result; //@ts-ignore\n\n        resolve(txt);\n      };\n\n      fr.onerror = function (evt) {\n        reject(evt.target.error);\n      };\n\n      fr.readAsText(file);\n    });\n    input.click();\n  });\n}\n\nfunction paddingCss(arg) {\n  var _a = arg.top,\n      top = _a === void 0 ? 0 : _a,\n      _b = arg.right,\n      right = _b === void 0 ? 0 : _b,\n      _c = arg.bottom,\n      bottom = _c === void 0 ? 0 : _c,\n      _d = arg.left,\n      left = _d === void 0 ? 0 : _d;\n  return top + \"px \" + right + \"px \" + bottom + \"px \" + left + \"px\";\n}\n\nfunction getLinkKey(fromKey, toKey) {\n  return \"link-\" + fromKey + \"-\" + toKey;\n}\n\nfunction centerY(rect) {\n  return (rect.top + rect.bottom) / 2;\n}\n\nfunction centerX(rect) {\n  return (rect.left + rect.right) / 2;\n}\n\nfunction centerPointX(p1, p2) {\n  return (p1.x + p2.x) / 2;\n}\n\nfunction centerPointY(p1, p2) {\n  return (p1.y + p2.y) / 2;\n}\n\nfunction center(rect) {\n  return [(rect.left + rect.right) / 2, (rect.top + rect.bottom) / 2];\n}\n\nfunction _getRelativeRect(el, rel, scale) {\n  if (scale === void 0) {\n    scale = 1;\n  }\n\n  var rect = el.getBoundingClientRect();\n  var relRect = rel.getBoundingClientRect();\n  var relCenter = center(relRect);\n  var elCenter = center(rect);\n  elCenter[0] = (elCenter[0] - relCenter[0]) / scale;\n  elCenter[1] = (elCenter[1] - relCenter[1]) / scale;\n  var width = rect.width / scale;\n  var height = rect.height / scale;\n  return {\n    left: elCenter[0] - width / 2,\n    right: elCenter[0] + width / 2,\n    top: elCenter[1] - height / 2,\n    bottom: elCenter[1] + height / 2,\n    width: width,\n    height: height\n  };\n}\n\nfunction getRelativeVector(el, rel) {\n  var rect = el.getBoundingClientRect();\n  var relRect = rel.getBoundingClientRect();\n  var relCenter = center(relRect);\n  var elCenter = center(rect);\n  return [elCenter[0] - relCenter[0], elCenter[1] - relCenter[1]];\n}\n\nfunction GetValuePlugin() {\n  return {\n    getValue: function getValue(props, next) {\n      var propKey = props.propKey,\n          controller = props.controller;\n\n      switch (propKey) {\n        case PropKey.DIAGRAM_CUSTOMIZE_BASE_Z_INDEX:\n          return 3;\n\n        case PropKey.TOPIC_CONTEXT_MENU_ENABLED:\n          return controller.run('isOperationEnabled', props);\n\n        case PropKey.TOPIC_TITLE:\n          return controller.run('getTopicTitle', props);\n      }\n\n      return next();\n    }\n  };\n}\n\nvar HotKeyName = {\n  ADD_CHILD: 'ADD_CHILD',\n  ADD_SIBLING: 'ADD_SIBLING',\n  DELETE_TOPIC: 'DELETE_TOPIC',\n  EDIT_CONTENT: 'EDIT_CONTENT',\n  EDIT_NOTES: 'EDIT_NOTES',\n  SET_EDITOR_ROOT: 'SET_EDITOR_ROOT'\n};\n\nfunction op(opType, props) {\n  var topicKey = props.topicKey,\n      model = props.model,\n      controller = props.controller;\n\n  if (topicKey === undefined) {\n    props = _assign(_assign({}, props), {\n      topicKey: model.focusKey\n    });\n  }\n\n  controller.run('operation', _assign(_assign({}, props), {\n    opType: opType\n  }));\n}\n\nfunction HotKeyPlugin() {\n  return {\n    customizeHotKeys: function customizeHotKeys(props) {\n      var handleKeyDown = function handleKeyDown(opType) {\n        return function (e) {\n          // log('HotKeyPlugin', opType);\n          op(opType, props);\n        };\n      };\n\n      var topicHotKeys = new Map([[HotKeyName.ADD_CHILD, {\n        label: 'add child',\n        combo: 'tab',\n        onKeyDown: handleKeyDown(OpType.ADD_CHILD)\n      }], [HotKeyName.ADD_SIBLING, {\n        label: 'add sibling',\n        combo: 'enter',\n        onKeyDown: handleKeyDown(OpType.ADD_SIBLING)\n      }], [HotKeyName.DELETE_TOPIC, {\n        label: 'delete topic',\n        combo: 'del',\n        onKeyDown: handleKeyDown(OpType.DELETE_TOPIC)\n      }], [HotKeyName.EDIT_CONTENT, {\n        label: 'edit content',\n        combo: 'space',\n        onKeyDown: handleKeyDown(OpType.START_EDITING_CONTENT)\n      }], [HotKeyName.EDIT_NOTES, {\n        label: 'edit notes',\n        combo: 'alt + d',\n        onKeyDown: handleKeyDown(OpType.START_EDITING_DESC)\n      }], [HotKeyName.SET_EDITOR_ROOT, {\n        label: 'set editor root',\n        combo: 'alt + shift + f',\n        onKeyDown: handleKeyDown(OpType.SET_EDITOR_ROOT)\n      }]]);\n      var globalHotKeys = new Map();\n      return {\n        topicHotKeys: topicHotKeys,\n        globalHotKeys: globalHotKeys\n      };\n    }\n  };\n}\n\nfunction LayoutPlugin() {\n  var _zoomFactor = 1;\n  return {\n    getPartTopics: function getPartTopics(_a) {\n      var layout = _a.layout,\n          model = _a.model,\n          topicKey = _a.topicKey;\n      var topic = model.getTopic(topicKey);\n      var subTopicCount = topic.subKeys.size;\n      var topics = topic.subKeys.toArray();\n\n      switch (layout) {\n        case DiagramLayoutType.LEFT_TO_RIGHT:\n          return {\n            R: topics\n          };\n\n        case DiagramLayoutType.RIGHT_TO_LEFT:\n          return {\n            L: topics\n          };\n\n        case DiagramLayoutType.LEFT_AND_RIGHT:\n          return {\n            L: topics.slice(Math.ceil(subTopicCount / 2), subTopicCount),\n            R: topics.slice(0, Math.ceil(subTopicCount / 2))\n          };\n\n        case DiagramLayoutType.TOP_TO_BOTTOM:\n          return {\n            B: topics\n          };\n      }\n    },\n    createSubTopics: function createSubTopics(props) {\n      var model = props.model,\n          topicKey = props.topicKey,\n          controller = props.controller,\n          topics = props.topics,\n          saveRef = props.saveRef;\n      var topic = model.getTopic(topicKey);\n      if (topics.size === 0 || topic.collapse) return null;\n      var subTopics = [];\n      topics.forEach(function (tKey) {\n        var topicProps = _assign(_assign({}, props), {\n          topicKey: tKey,\n          key: tKey,\n          ref: saveRef(topicWidgetRefKey(tKey))\n        });\n\n        subTopics.push(controller.run('renderTopicWidget', topicProps));\n      });\n      return {\n        subTopics: subTopics\n      };\n    },\n    layout: function layout(props) {\n      var getRef = props.getRef,\n          model = props.model;\n      var links = getRef(linksRefKey(model.editorRootTopicKey));\n      var highlight = getRef(RefKey.FOCUS_HIGHLIGHT_KEY);\n      var dropEffect = getRef(RefKey.DROP_EFFECT_KEY);\n      links && links.layout();\n      highlight && highlight.layout();\n      dropEffect && dropEffect.layout();\n      var editorRootTopic = model.getTopic(model.editorRootTopicKey);\n      layoutTopic(editorRootTopic);\n\n      function layoutTopic(topic) {\n        var e_1, _a;\n\n        if (topic.key !== model.editorRootTopicKey) {\n          var topicWidget = getRef(topicWidgetRefKey(topic.key));\n          topicWidget && topicWidget.layoutLinks();\n        }\n\n        if (!topic.collapse) {\n          try {\n            for (var _b = __values(topic.subKeys), _c = _b.next(); !_c.done; _c = _b.next()) {\n              var subKey = _c.value;\n              layoutTopic(model.getTopic(subKey));\n            }\n          } catch (e_1_1) {\n            e_1 = {\n              error: e_1_1\n            };\n          } finally {\n            try {\n              if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            } finally {\n              if (e_1) throw e_1.error;\n            }\n          }\n        }\n      }\n    },\n    setLayoutDir: function setLayoutDir(props) {\n      var layoutDir = props.layoutDir,\n          model = props.model,\n          controller = props.controller;\n      controller.change(ModelModifier.setLayoutDir({\n        model: model,\n        layoutDir: layoutDir\n      }));\n    },\n    getRelativeRect: function getRelativeRect(props) {\n      var element = props.element,\n          controller = props.controller,\n          getRef = props.getRef;\n      var zoomFactor = controller.run('getZoomFactor', props);\n      var bigView = getRef(RefKey.DRAG_SCROLL_WIDGET_KEY).bigView;\n      return _getRelativeRect(element, bigView, zoomFactor);\n    },\n    getRelativeRectFromViewPort: function getRelativeRectFromViewPort(props) {\n      var element = props.element,\n          controller = props.controller,\n          getRef = props.getRef;\n      var zoomFactor = controller.run('getZoomFactor', props);\n      var viewBox = getRef(RefKey.DRAG_SCROLL_WIDGET_KEY).viewBox;\n      return _getRelativeRect(element, viewBox, zoomFactor);\n    },\n    getRelativeVectorFromViewPort: function getRelativeVectorFromViewPort(props) {\n      var element = props.element,\n          getRef = props.getRef;\n      var viewBox = getRef(RefKey.DRAG_SCROLL_WIDGET_KEY).viewBox;\n      return getRelativeVector(element, viewBox);\n    },\n    addZoomFactorChangeEventListener: function addZoomFactorChangeEventListener(props) {\n      var controller = props.controller;\n      controller.run('addTempValueChangeListener', _assign({\n        key: 'ZoomFactor'\n      }, props));\n    },\n    removeZoomFactorChangeEventListener: function removeZoomFactorChangeEventListener(props) {\n      var controller = props.controller;\n      controller.run('removeTempValueChangeListener', _assign({\n        key: 'ZoomFactor'\n      }, props));\n    },\n    setZoomFactor: function setZoomFactor(props) {\n      var controller = props.controller,\n          zoomFactor = props.zoomFactor;\n      return controller.run('setTempValue', {\n        key: 'ZoomFactor',\n        value: zoomFactor\n      });\n    },\n    getZoomFactor: function getZoomFactor(props) {\n      var controller = props.controller;\n      return controller.run('getTempValue', {\n        key: 'ZoomFactor'\n      }) || _zoomFactor;\n    },\n    moveTopicToCenter: function moveTopicToCenter(props) {\n      var getRef = props.getRef,\n          topicKey = props.topicKey,\n          model = props.model;\n\n      if (model.editorRootTopicKey !== topicKey && getRelationship(model, topicKey, model.editorRootTopicKey) !== TopicRelationship.DESCENDANT) {\n        throw new Error(\"moveTopicToCenter error: topicKey \" + topicKey + \" is not the DESCENDANT of editor root topic\");\n      }\n\n      var topic = getRef(topicRefKey(topicKey));\n      var dragScroll = getRef(RefKey.DRAG_SCROLL_WIDGET_KEY);\n      var viewBox = dragScroll.viewBox;\n\n      if (!topic || !viewBox) {\n        throw new Error(\"moveTopicToCenter error: topic or viewBox is null\");\n      }\n\n      var vector = getRelativeVector(topic, viewBox); //TODO\n\n      dragScroll.setViewBoxScrollDelta(vector[0], vector[1]);\n    },\n    focusTopicAndMoveToCenter: function focusTopicAndMoveToCenter(props) {\n      var controller = props.controller,\n          topicKey = props.topicKey;\n      controller.run('operation', _assign(_assign({}, props), {\n        opArray: [{\n          opType: OpType.FOCUS_TOPIC,\n          topicKey: topicKey,\n          focusMode: FocusMode.NORMAL\n        }, {\n          opType: OpType.EXPAND_TO,\n          topicKey: topicKey\n        }],\n        callback: function callback() {\n          controller.run('moveTopicToCenter', _assign(_assign({}, props), {\n            topicKey: topicKey\n          }));\n        }\n      }));\n    }\n  };\n}\n\nvar log$3 = debug('plugin:operation');\n\nfunction OperationPlugin() {\n  var startEditingContent = function startEditingContent(_a) {\n    var model = _a.model,\n        topicKey = _a.topicKey;\n    return ModelModifier.focusTopic({\n      model: model,\n      topicKey: topicKey,\n      focusMode: FocusMode.EDITING_CONTENT\n    });\n  };\n\n  var startEditingDesc = function startEditingDesc(_a) {\n    var model = _a.model,\n        topicKey = _a.topicKey;\n    var topic = model.getTopic(topicKey);\n    var desc = topic.getBlock(BlockType.DESC);\n\n    if (desc.block == null || desc.block.data == null) {\n      model = ModelModifier.setBlockData({\n        model: model,\n        topicKey: topicKey,\n        blockType: BlockType.DESC,\n        data: ''\n      });\n    }\n\n    model = ModelModifier.focusTopic({\n      model: model,\n      topicKey: topicKey,\n      focusMode: FocusMode.EDITING_DESC\n    });\n    return model;\n  };\n\n  function dragAndDrop(props) {\n    var srcKey = props.srcKey,\n        dstKey = props.dstKey,\n        dropDir = props.dropDir;\n    var model = props.model;\n    var srcTopic = model.getTopic(srcKey);\n    var dstTopic = model.getTopic(dstKey);\n    var srcParentKey = srcTopic.parentKey;\n    var srcParentTopic = model.getTopic(srcParentKey);\n    var srcParentSubKeys = srcParentTopic.subKeys;\n    var srcIndex = srcParentSubKeys.indexOf(srcKey);\n    srcParentSubKeys = srcParentSubKeys.delete(srcIndex);\n\n    if (dropDir === 'in') {\n      var dstSubKeys_1 = dstTopic.subKeys;\n      dstSubKeys_1 = dstSubKeys_1.push(srcKey);\n      model = model.withMutations(function (m) {\n        m.setIn(['topics', srcParentKey, 'subKeys'], srcParentSubKeys).setIn(['topics', srcKey, 'parentKey'], dstKey).setIn(['topics', dstKey, 'subKeys'], dstSubKeys_1).setIn(['topics', dstKey, 'collapse'], false);\n      });\n    } else {\n      var dstParentKey_1 = dstTopic.parentKey;\n      var dstParentItem = model.getTopic(dstParentKey_1);\n      var dstParentSubKeys_1 = dstParentItem.subKeys;\n      var dstIndex = dstParentSubKeys_1.indexOf(dstKey); //src  dst \n\n      if (srcParentKey === dstParentKey_1) {\n        var newDstParentSubKeys_1 = List();\n        dstParentSubKeys_1.forEach(function (key) {\n          if (key !== srcKey) {\n            if (key === dstKey) {\n              if (dropDir === 'prev') {\n                newDstParentSubKeys_1 = newDstParentSubKeys_1.push(srcKey).push(key);\n              } else {\n                newDstParentSubKeys_1 = newDstParentSubKeys_1.push(key).push(srcKey);\n              }\n            } else {\n              newDstParentSubKeys_1 = newDstParentSubKeys_1.push(key);\n            }\n          }\n        });\n        model = model.withMutations(function (m) {\n          m.setIn(['topics', dstParentKey_1, 'subKeys'], newDstParentSubKeys_1);\n        });\n      } else {\n        if (dropDir === 'prev') {\n          dstParentSubKeys_1 = dstParentSubKeys_1.insert(dstIndex, srcKey);\n        } else if (dropDir === 'next') {\n          dstParentSubKeys_1 = dstParentSubKeys_1.insert(dstIndex + 1, srcKey);\n        }\n\n        model = model.withMutations(function (m) {\n          m.setIn(['topics', srcParentKey, 'subKeys'], srcParentSubKeys).setIn(['topics', srcKey, 'parentKey'], dstParentKey_1).setIn(['topics', dstParentKey_1, 'subKeys'], dstParentSubKeys_1).setIn(['topics', dstParentKey_1, 'collapse'], false);\n        });\n      }\n    }\n\n    return model;\n  }\n\n  var OpMap = new Map([[OpType.TOGGLE_COLLAPSE, ModelModifier.toggleCollapse], [OpType.COLLAPSE_ALL, ModelModifier.collapseAll], [OpType.EXPAND_ALL, ModelModifier.expandAll], [OpType.EXPAND_TO, ModelModifier.expandTo], [OpType.ADD_CHILD, ModelModifier.addChild], [OpType.ADD_SIBLING, ModelModifier.addSibling], [OpType.DELETE_TOPIC, ModelModifier.deleteTopic], [OpType.FOCUS_TOPIC, ModelModifier.focusTopic], [OpType.SET_FOCUS_MODE, ModelModifier.setFocusMode], [OpType.SET_STYLE, ModelModifier.setStyle], [OpType.SET_THEME, ModelModifier.setTheme], [OpType.SET_TOPIC_BLOCK, ModelModifier.setBlockData], [OpType.DELETE_TOPIC_BLOCK, ModelModifier.deleteBlock], [OpType.START_EDITING_CONTENT, startEditingContent], [OpType.START_EDITING_DESC, startEditingDesc], [OpType.DRAG_AND_DROP, dragAndDrop], [OpType.SET_EDITOR_ROOT, ModelModifier.setEditorRootTopicKey]]);\n  var undoStack = Stack();\n  var redoStack = Stack();\n  var enabled = true;\n  var whiteListOperation = new Set();\n  return {\n    isOperationEnabled: function isOperationEnabled(props) {\n      return enabled;\n    },\n    enableOperation: function enableOperation() {\n      enabled = true;\n    },\n    disableOperation: function disableOperation(_a) {\n      var whiteList = _a.whiteList;\n      enabled = false;\n      if (whiteList) whiteListOperation = new Set(whiteList);else whiteListOperation.clear();\n    },\n\n    /** plugin can extend Operation Map\r\n     * for example: A plugin can write a function\r\n     * getOpMap(props,next) {\r\n     *   let opMap = next();\r\n     *   opMap.set(\"OpTypeName\",opFunc);\r\n     *   return opMap;\r\n     * }\r\n     * @param props\r\n     */\n    getOpMap: function getOpMap(props) {\n      return OpMap;\n    },\n    getAllowUndo: function getAllowUndo(props) {\n      var model = props.model,\n          opType = props.opType;\n\n      if (opType) {\n        switch (opType) {\n          case OpType.FOCUS_TOPIC:\n          case OpType.START_EDITING_CONTENT:\n          case OpType.START_EDITING_DESC:\n            return false;\n        }\n      }\n\n      switch (model.focusMode) {\n        case 'EDITING_DESC':\n        case 'EDITING_CONTENT':\n          return false;\n      }\n\n      return model.config.allowUndo;\n    },\n    getUndoRedoStack: function getUndoRedoStack() {\n      return {\n        undoStack: undoStack,\n        redoStack: redoStack\n      };\n    },\n    setUndoStack: function setUndoStack(props) {\n      log$3('setUndoStack', props.undoStack);\n      undoStack = props.undoStack;\n    },\n    setRedoStack: function setRedoStack(props) {\n      log$3('setRedoStack', props.redoStack);\n      redoStack = props.redoStack;\n    },\n    canUndo: function canUndo(props) {\n      var controller = props.controller;\n      var undoStack = controller.run('getUndoRedoStack', props).undoStack;\n      var allowUndo = controller.run('getAllowUndo', props);\n      return undoStack.size > 0 && allowUndo;\n    },\n    canRedo: function canRedo(props) {\n      var controller = props.controller;\n      var redoStack = controller.run('getUndoRedoStack', props).redoStack;\n      var allowUndo = controller.run('getAllowUndo', props);\n      return redoStack.size > 0 && allowUndo;\n    },\n    undo: function undo(props) {\n      var controller = props.controller,\n          model = props.model;\n\n      if (!controller.run('getAllowUndo', props)) {\n        return;\n      }\n\n      var _a = controller.run('getUndoRedoStack', props),\n          undoStack = _a.undoStack,\n          redoStack = _a.redoStack;\n\n      var newModel = undoStack.peek();\n      if (!newModel) return;\n      controller.run('setUndoStack', _assign(_assign({}, props), {\n        undoStack: undoStack.shift()\n      }));\n      controller.run('setRedoStack', _assign(_assign({}, props), {\n        redoStack: redoStack.push(model)\n      }));\n      log$3(newModel);\n      controller.change(newModel);\n    },\n    redo: function redo(props) {\n      var controller = props.controller,\n          model = props.model;\n\n      if (!controller.run('getAllowUndo', props)) {\n        return;\n      }\n\n      var _a = controller.run('getUndoRedoStack', props),\n          undoStack = _a.undoStack,\n          redoStack = _a.redoStack;\n\n      var newModel = redoStack.peek();\n      if (!newModel) return;\n      controller.run('setUndoStack', _assign(_assign({}, props), {\n        undoStack: undoStack.push(model)\n      }));\n      controller.run('setRedoStack', _assign(_assign({}, props), {\n        redoStack: redoStack.shift()\n      }));\n      controller.change(newModel);\n    },\n    //TODO \n    operation: function operation(props) {\n      var controller = props.controller,\n          opType = props.opType,\n          model = props.model,\n          opArray = props.opArray,\n          callback = props.callback;\n\n      if (opArray != null && !Array.isArray(opArray)) {\n        throw new Error('operation: the type of opArray must be array!');\n      }\n\n      if (opType != null && opArray != null) {\n        throw new Error('operation: opType and opArray conflict!');\n      }\n\n      var isOperationEnabled = controller.run('isOperationEnabled', props);\n\n      if (!isOperationEnabled) {\n        // warning(\n        //   true,\n        //   `You have disabled operation,but you run operation ${props} now!`\n        // );\n        if (whiteListOperation.size === 0) return;\n\n        if (opArray != null) {\n          var opNotInWhiteList = opArray.filter(function (op) {\n            return !whiteListOperation.has(op.opType);\n          });\n\n          if (opNotInWhiteList && opNotInWhiteList.length > 0) {\n            return;\n          }\n        } else if (!whiteListOperation.has(opType)) {\n          return;\n        }\n      }\n\n      log$3('operation:', opType);\n      log$3('operation:', model);\n      log$3('operation:', props);\n      var opMap = controller.run('getOpMap', props);\n      controller.run('beforeOperation', props);\n\n      if (controller.run('getAllowUndo', props)) {\n        var undoStack_1 = controller.run('getUndoRedoStack', props).undoStack;\n        controller.run('setUndoStack', _assign(_assign({}, props), {\n          undoStack: undoStack_1.push(model)\n        }));\n      }\n\n      var newModel;\n\n      if (opArray != null) {\n        newModel = opArray.reduce(function (acc, cur) {\n          var opType = cur.opType;\n          if (!opMap.has(opType)) throw new Error(\"opType:\" + opType + \" not exist!\");\n          var opFunc = opMap.get(opType);\n\n          var opFuncProps = _assign(_assign({\n            controller: controller\n          }, cur), {\n            model: acc\n          });\n\n          var res = controller.run('beforeOpFunction', opFuncProps);\n          res = opFunc(_assign(_assign({}, opFuncProps), {\n            model: res\n          }));\n          res = controller.run('afterOpFunction', _assign(_assign({}, opFuncProps), {\n            model: res\n          }));\n          return res;\n        }, model);\n      } else {\n        if (!opMap.has(opType)) throw new Error(\"opType:\" + opType + \" not exist!\");\n        var opFunc = opMap.get(opType);\n        newModel = controller.run('beforeOpFunction', props);\n        newModel = opFunc(_assign(_assign({}, props), {\n          model: newModel\n        }));\n        newModel = controller.run('afterOpFunction', _assign(_assign({}, props), {\n          model: newModel\n        }));\n      }\n\n      log$3('newModel:', newModel);\n      controller.change(newModel, callback);\n      controller.run('afterOperation', props);\n    },\n    deleteRefKey: function deleteRefKey(props) {\n      var e_1, _a;\n\n      var model = props.model,\n          topicKey = props.topicKey,\n          deleteRef = props.deleteRef;\n      var allSubKeys = getAllSubTopicKeys(model, topicKey);\n      allSubKeys.push(topicKey);\n\n      try {\n        for (var allSubKeys_1 = __values(allSubKeys), allSubKeys_1_1 = allSubKeys_1.next(); !allSubKeys_1_1.done; allSubKeys_1_1 = allSubKeys_1.next()) {\n          var key = allSubKeys_1_1.value;\n          deleteRef(linksRefKey(key));\n          deleteRef(linksSvgRefKey(key));\n          deleteRef(contentRefKey(key));\n          deleteRef(contentEditorRefKey(key));\n          deleteRef(descEditorRefKey(key));\n          deleteRef(topicWidgetRefKey(key));\n          deleteRef(topicRefKey(key));\n          deleteRef(collapseRefKey(key));\n          deleteRef(dropAreaRefKey(key, 'next'));\n          deleteRef(dropAreaRefKey(key, 'prev'));\n        }\n      } catch (e_1_1) {\n        e_1 = {\n          error: e_1_1\n        };\n      } finally {\n        try {\n          if (allSubKeys_1_1 && !allSubKeys_1_1.done && (_a = allSubKeys_1.return)) _a.call(allSubKeys_1);\n        } finally {\n          if (e_1) throw e_1.error;\n        }\n      }\n    },\n    // Operation\n    beforeOperation: function beforeOperation(props) {},\n    afterOperation: function afterOperation(props) {},\n    // OpFunction\n    beforeOpFunction: function beforeOpFunction(props) {\n      var controller = props.controller,\n          opType = props.opType,\n          model = props.model,\n          topicKey = props.topicKey;\n\n      if (opType === OpType.DELETE_TOPIC && topicKey !== model.editorRootTopicKey) {\n        controller.run('deleteRefKey', props);\n      }\n\n      return model;\n    },\n    afterOpFunction: function afterOpFunction(props) {\n      return props.model;\n    }\n  };\n}\n\nvar TopicContextMenu =\n/** @class */\nfunction (_super) {\n  __extends(TopicContextMenu, _super);\n\n  function TopicContextMenu() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  TopicContextMenu.prototype.render = function () {\n    var controller = this.props.controller;\n    return createElement(Menu, null, controller.run('customizeTopicContextMenu', this.props));\n  };\n\n  return TopicContextMenu;\n}(BaseWidget);\n\nvar items = [{\n  icon: 'edit',\n  label: 'edit',\n  shortcut: 'Space',\n  rootCanUse: true,\n  opType: OpType.START_EDITING_CONTENT\n}, {\n  icon: 'add-sibling',\n  label: 'add sibling',\n  shortcut: 'Enter',\n  opType: OpType.ADD_SIBLING\n}, {\n  icon: 'add-child',\n  label: 'add child',\n  shortcut: 'Tab',\n  rootCanUse: true,\n  opType: OpType.ADD_CHILD\n}, {\n  icon: 'notes',\n  label: 'edit notes',\n  shortcut: 'Alt + D',\n  rootCanUse: true,\n  opType: OpType.START_EDITING_DESC\n}, {\n  icon: 'delete-node',\n  label: 'delete node',\n  shortcut: 'Del',\n  opType: OpType.DELETE_TOPIC\n}, {\n  icon: 'root',\n  label: 'set as editor root',\n  shortcut: 'Alt + Shift + F',\n  opType: OpType.SET_EDITOR_ROOT\n}];\n\nfunction ContextMenuPlugin() {\n  return {\n    renderTopicContextMenu: function renderTopicContextMenu(props) {\n      return createElement(TopicContextMenu, _assign({}, props));\n    },\n    customizeTopicContextMenu: function customizeTopicContextMenu(props) {\n      var topicKey = props.topicKey,\n          model = props.model,\n          controller = props.controller;\n      var isRoot = topicKey === model.editorRootTopicKey;\n\n      function onClickItem(item) {\n        return function (e) {\n          item.opType && controller.run('operation', _assign(_assign({}, props), {\n            opType: item.opType\n          }));\n        };\n      }\n\n      return items.map(function (item) {\n        return isRoot && !item.rootCanUse ? null : createElement(MenuItem, {\n          key: item.label,\n          icon: Icon(item.icon),\n          text: item.label,\n          labelElement: createElement(\"kbd\", null, item.shortcut),\n          onClick: onClickItem(item)\n        });\n      });\n    }\n  };\n}\n\nvar log$4 = debug('node:topic-drop-effect');\nvar DropEffectSvg = styled.svg(templateObject_1$2 || (templateObject_1$2 = __makeTemplateObject([\"\\n  width: 100%;\\n  height: 100%;\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  z-index: 2;\\n  pointer-events: none;\\n\"], [\"\\n  width: 100%;\\n  height: 100%;\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  z-index: 2;\\n  pointer-events: none;\\n\"])));\n\nvar TopicDropEffect =\n/** @class */\nfunction (_super) {\n  __extends(TopicDropEffect, _super);\n\n  function TopicDropEffect() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      content: null\n    };\n    return _this;\n  }\n\n  TopicDropEffect.prototype.layout = function () {\n    var props = this.props;\n    var _a = this.props,\n        getRef = _a.getRef,\n        model = _a.model,\n        zoomFactor = _a.zoomFactor,\n        controller = _a.controller;\n    var targetProps = controller.run('getDragTargetProps', props);\n    var key = targetProps.key,\n        dropDir = targetProps.dropDir;\n    log$4('layout', dropDir);\n\n    if (key === null) {\n      this.setState({\n        content: null\n      });\n      return;\n    }\n\n    var refKey;\n\n    if (dropDir === 'in') {\n      refKey = contentRefKey(key);\n    } else {\n      refKey = dropAreaRefKey(key, dropDir);\n    }\n\n    var content = getRef(refKey);\n    var svg = getRef('svg-drop-effect');\n    var bigView = getRef(RefKey.DRAG_SCROLL_WIDGET_KEY).bigView;\n\n    var contentRect = _getRelativeRect(content, bigView, zoomFactor);\n\n    var svgRect = _getRelativeRect(svg, bigView, zoomFactor);\n\n    var padding = 3;\n    var x = contentRect.left - svgRect.left - padding;\n    var y = contentRect.top - svgRect.top - padding;\n    var width = contentRect.width + 2 * padding;\n    var height = contentRect.height + 2 * padding;\n    this.setState({\n      content: createElement(\"g\", null, createElement(\"rect\", {\n        x: x,\n        y: y,\n        width: width,\n        height: height,\n        fill: \"none\",\n        stroke: model.config.theme.highlightColor,\n        strokeDasharray: \"5,5\",\n        strokeWidth: 2\n      }))\n    });\n  };\n\n  TopicDropEffect.prototype.render = function () {\n    var saveRef = this.props.saveRef;\n    return createElement(DropEffectSvg, {\n      ref: saveRef('svg-drop-effect')\n    }, this.state.content);\n  };\n\n  return TopicDropEffect;\n}(BaseWidget);\n\nvar templateObject_1$2;\nvar log$5 = debug('plugin:drag-and-drop');\nvar DropArea = styled.div(templateObject_1$3 || (templateObject_1$3 = __makeTemplateObject([\"\\n  height: \", \";\\n  width: 100%;\\n  margin: 5px 0px;\\n\"], [\"\\n  height: \", \";\\n  width: 100%;\\n  margin: 5px 0px;\\n\"])), function (props) {\n  return props.height + \"px\";\n});\n\nfunction DragAndDropPlugin() {\n  var dragTargetKey = null;\n  var dragTargetDir = null;\n  return {\n    renderTopicDropArea: function renderTopicDropArea(props) {\n      var topicKey = props.topicKey,\n          dropDir = props.dropDir,\n          saveRef = props.saveRef,\n          controller = props.controller,\n          model = props.model;\n\n      var onDragEnter = function onDragEnter(ev) {\n        log$5('onDragEnter', topicKey, dropDir);\n        controller.run('handleTopicDragEnter', _assign(_assign({}, props), {\n          ev: ev,\n          dropDir: dropDir\n        }));\n      };\n\n      var onDragLeave = function onDragLeave(ev) {\n        log$5('onDragLeave', topicKey, dropDir);\n        controller.run('handleTopicDragLeave', _assign(_assign({}, props), {\n          ev: ev,\n          dropDir: dropDir\n        }));\n      };\n\n      var onDragOver = function onDragOver(ev) {\n        ev.preventDefault();\n      };\n\n      var onDrop = function onDrop(ev) {\n        log$5('onDrop', topicKey, dropDir);\n        controller.run('handleTopicDrop', _assign(_assign({}, props), {\n          ev: ev,\n          dropDir: dropDir\n        }));\n      };\n\n      var eventHandlers = {\n        onDragEnter: onDragEnter,\n        onDragLeave: onDragLeave,\n        onDragOver: onDragOver,\n        onDrop: onDrop\n      };\n      return createElement(DropArea, _assign({\n        height: model.config.theme.marginV / 2,\n        ref: saveRef(dropAreaRefKey(topicKey, dropDir))\n      }, eventHandlers));\n    },\n    renderDragAndDropEffect: function renderDragAndDropEffect(props) {\n      log$5('renderDragAndDropEffect');\n      var saveRef = props.saveRef;\n      return createElement(TopicDropEffect, _assign({\n        ref: saveRef(RefKey.DROP_EFFECT_KEY)\n      }, props));\n    },\n    getDragTargetProps: function getDragTargetProps(props) {\n      return {\n        key: dragTargetKey,\n        dropDir: dragTargetDir\n      };\n    },\n    handleTopicDragStart: function handleTopicDragStart(props) {\n      var controller = props.controller,\n          ev = props.ev;\n      ev.stopPropagation();\n      controller.run('operation', _assign(_assign({}, props), {\n        opType: OpType.FOCUS_TOPIC,\n        focusMode: FocusMode.DRAGGING\n      }));\n    },\n    canDrop: function canDrop(props) {\n      var srcKey = props.srcKey,\n          dstKey = props.dstKey,\n          model = props.model,\n          dropDir = props.dropDir;\n      if (srcKey === model.editorRootTopicKey || srcKey === dstKey || getRelationship(model, srcKey, dstKey) === TopicRelationship.ANCESTOR) return false;\n      if (dstKey === model.editorRootTopicKey && dropDir !== 'in') return false;\n      var srcTopic = model.getTopic(srcKey);\n      if (srcTopic.parentKey === dstKey && dropDir === 'in') return false;\n      return true;\n    },\n    handleTopicDragEnter: function handleTopicDragEnter(props) {\n      var dropDir = props.dropDir,\n          topicKey = props.topicKey,\n          controller = props.controller,\n          model = props.model;\n      log$5('handleTopicDragEnter:', topicKey, dropDir);\n      var canDrop = controller.run('canDrop', _assign(_assign({}, props), {\n        srcKey: model.focusKey,\n        dstKey: topicKey\n      }));\n\n      if (canDrop) {\n        dragTargetKey = topicKey;\n        dragTargetDir = dropDir;\n        controller.change(model);\n      }\n    },\n    handleTopicDragLeave: function handleTopicDragLeave(props) {\n      var controller = props.controller,\n          model = props.model,\n          topicKey = props.topicKey,\n          dropDir = props.dropDir,\n          getRef = props.getRef,\n          ev = props.ev;\n      var relatedTarget = ev.nativeEvent.relatedTarget;\n      log$5('handleTopicDragLeave:', topicKey, dropDir);\n      var content = getRef(contentRefKey(topicKey));\n\n      if (content == relatedTarget || content.contains(relatedTarget)) {\n        return;\n      }\n\n      dragTargetKey = null;\n      dragTargetDir = null;\n      controller.change(model);\n    },\n    handleTopicDrop: function handleTopicDrop(props) {\n      log$5('handleTopicDrop');\n      var controller = props.controller,\n          topicKey = props.topicKey,\n          model = props.model;\n      props = _assign(_assign({}, props), {\n        srcKey: model.focusKey,\n        dstKey: topicKey\n      });\n      dragTargetKey = null;\n      dragTargetDir = null;\n\n      if (controller.run('canDrop', props)) {\n        controller.run('operation', _assign(_assign({}, props), {\n          opType: OpType.DRAG_AND_DROP\n        }));\n      }\n    }\n  };\n}\n\nvar templateObject_1$3;\nvar EditorRootBreadcrumbsRoot = styled(ZIndex)(templateObject_1$4 || (templateObject_1$4 = __makeTemplateObject([\"\\n  position: absolute;\\n  width: 20%;\\n  padding: 0 5px;\\n  background: white;\\n  left: 30px;\\n  top: 20px;\\n  border-radius: 2px;\\n\"], [\"\\n  position: absolute;\\n  width: 20%;\\n  padding: 0 5px;\\n  background: white;\\n  left: 30px;\\n  top: 20px;\\n  border-radius: 2px;\\n\"])));\nvar TooltipContent = styled.div(templateObject_2$2 || (templateObject_2$2 = __makeTemplateObject([\"\\n  max-width: 600px;\\n\"], [\"\\n  max-width: 600px;\\n\"])));\nvar BreadcrumbTitle = styled.span(templateObject_3$1 || (templateObject_3$1 = __makeTemplateObject([\"\"], [\"\"])));\n\nvar EditorRootBreadcrumbs =\n/** @class */\nfunction (_super) {\n  __extends(EditorRootBreadcrumbs, _super);\n\n  function EditorRootBreadcrumbs(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.setEditorRootTopicKey = function (topicKey) {\n      return function () {\n        var _a = _this.props,\n            model = _a.model,\n            controller = _a.controller;\n\n        if (model.editorRootTopicKey !== topicKey) {\n          controller.change(ModelModifier.setEditorRootTopicKey({\n            model: model,\n            topicKey: topicKey\n          }));\n        }\n      };\n    };\n\n    _this.breadcrumbRenderer = function (props) {\n      var text = props.text,\n          breadProps = __rest(props, [\"text\"]);\n\n      var needTooltip = text.length > 8;\n      var title = needTooltip ? text.substr(0, 8) + '...' : text; //TODO\n\n      var content = createElement(TooltipContent, null, text);\n      var tooltipProps = {\n        content: content,\n        position: PopoverPosition.BOTTOM_RIGHT\n      };\n      var breadcrumb = createElement(Breadcrumb, _assign({}, breadProps), createElement(BreadcrumbTitle, null, title));\n      return needTooltip ? createElement(Tooltip, _assign({}, tooltipProps), breadcrumb) : breadcrumb; // return (\n      //   <Breadcrumb {...breadProps}>\n      //     <BreadcrumbTitle>{title}</BreadcrumbTitle>\n      //   </Breadcrumb>\n      // );\n    };\n\n    _this.state = {\n      show: false\n    };\n    return _this;\n  }\n\n  EditorRootBreadcrumbs.prototype.render = function () {\n    var props = this.props;\n    var model = props.model,\n        controller = props.controller,\n        zIndex = props.zIndex;\n    var editingRootKey = model.editorRootTopicKey;\n    if (editingRootKey === model.rootTopicKey) return null;\n    var items = [];\n    var topic = model.getTopic(editingRootKey);\n\n    while (topic != null) {\n      var title = controller.getValue(PropKey.TOPIC_TITLE, _assign(_assign({}, props), {\n        topicKey: topic.key\n      }));\n      items.unshift({\n        text: title,\n        onClick: this.setEditorRootTopicKey(topic.key)\n      });\n      topic = model.getTopic(topic.parentKey);\n    }\n\n    var breadcrumbProps = {\n      items: items,\n      breadcrumbRenderer: this.breadcrumbRenderer\n    };\n    return createElement(EditorRootBreadcrumbsRoot, {\n      zIndex: zIndex\n    }, createElement(Breadcrumbs, _assign({}, breadcrumbProps)));\n  };\n\n  return EditorRootBreadcrumbs;\n}(BaseWidget);\n\nvar templateObject_1$4, templateObject_2$2, templateObject_3$1;\nvar NodeLayer = styled.div(templateObject_1$5 || (templateObject_1$5 = __makeTemplateObject([\"\\n  position: relative;\\n  display: flex;\\n  align-items: center;\\n  padding: 5px;\\n\"], [\"\\n  position: relative;\\n  display: flex;\\n  align-items: center;\\n  padding: 5px;\\n\"])));\nvar DIV = styled.div(templateObject_2$3 || (templateObject_2$3 = __makeTemplateObject([\"\\n  width: 100%;\\n  height: 100%;\\n  background: \", \";\\n\"], [\"\\n  width: 100%;\\n  height: 100%;\\n  background: \", \";\\n\"])), function (props) {\n  return props.theme.background;\n});\n\nvar MindDragScrollWidget =\n/** @class */\nfunction (_super) {\n  __extends(MindDragScrollWidget, _super);\n\n  function MindDragScrollWidget(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.setZoomFactor = function (zoomFactor) {\n      _this.dragScrollWidget.setZoomFactor(zoomFactor);\n    };\n\n    _this.onWheel = function (e) {\n      if (e.altKey || e.ctrlKey) {\n        var controller = _this.props.controller;\n        var zoomFactor = controller.run('getZoomFactor', _this.props);\n        zoomFactor = zoomFactor - (e.nativeEvent.deltaY > 0 ? 0.1 : -0.1);\n        if (zoomFactor < 0.5) zoomFactor = 0.5;\n        if (zoomFactor > 4) zoomFactor = 4; // console.log('zoomFactor=>', zoomFactor);\n\n        controller.run('setZoomFactor', _assign(_assign({}, _this.props), {\n          zoomFactor: zoomFactor\n        }));\n      }\n    };\n\n    return _this;\n  }\n\n  MindDragScrollWidget.prototype.renderHotkeys = function () {\n    var props = this.props;\n    var controller = props.controller,\n        model = props.model;\n    var hotKeys = controller.run('customizeHotKeys', props);\n    if (hotKeys === null) return null;\n\n    if (!(hotKeys.topicHotKeys instanceof Map && hotKeys.globalHotKeys instanceof Map)) {\n      throw new TypeError('topicHotKeys and globalHotKeys must be a Map');\n    }\n\n    var children = [];\n\n    if (model.focusMode === FocusMode.NORMAL || model.focusMode === FocusMode.SHOW_POPUP) {\n      hotKeys.topicHotKeys.forEach(function (v, k) {\n        children.push(createElement(Hotkey, _assign({\n          key: k\n        }, v, {\n          global: true\n        })));\n      });\n    }\n\n    hotKeys.globalHotKeys.forEach(function (v, k) {\n      children.push(createElement(Hotkey, _assign({\n        key: k\n      }, v, {\n        global: true\n      })));\n    });\n    return createElement(Hotkeys, null, children);\n  };\n\n  MindDragScrollWidget.prototype.componentDidMount = function () {\n    var _a = this.props,\n        getRef = _a.getRef,\n        model = _a.model,\n        controller = _a.controller;\n    controller.run('addZoomFactorChangeEventListener', _assign(_assign({}, this.props), {\n      listener: this.setZoomFactor\n    }));\n    var rootTopic = getRef(topicRefKey(model.editorRootTopicKey)); //TODO\n\n    var nodeLayer = getRef('node-layer');\n    var rootTopicRect = rootTopic.getBoundingClientRect();\n    var nodeLayerRect = nodeLayer.getBoundingClientRect();\n    this.dragScrollWidget.setViewBoxScrollDelta(0, rootTopicRect.top - nodeLayerRect.top - this.dragScrollWidget.viewBox.getBoundingClientRect().height / 2 + rootTopicRect.height);\n    this.layout();\n  };\n\n  MindDragScrollWidget.prototype.componentWillUnmount = function () {\n    var controller = this.props.controller;\n    controller.run('removeZoomFactorChangeEventListener', _assign(_assign({}, this.props), {\n      listener: this.setZoomFactor\n    }));\n  };\n\n  Object.defineProperty(MindDragScrollWidget.prototype, \"dragScrollWidget\", {\n    get: function get() {\n      return this.props.getRef(RefKey.DRAG_SCROLL_WIDGET_KEY);\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  MindDragScrollWidget.prototype.componentDidUpdate = function () {\n    var controller = this.props.controller;\n    controller.run('fireEvent', _assign(_assign({}, this.props), {\n      key: EventKey.CENTER_ROOT_TOPIC\n    }));\n    this.layout();\n  };\n\n  MindDragScrollWidget.prototype.layout = function () {\n    var controller = this.props.controller;\n    controller.run('layout', this.props);\n  };\n\n  MindDragScrollWidget.prototype.render = function () {\n    var _this = this;\n\n    var _a = this.props,\n        saveRef = _a.saveRef,\n        model = _a.model,\n        controller = _a.controller;\n    var nodeKey = model.editorRootTopicKey;\n    return createElement(DIV, {\n      onWheel: this.onWheel\n    }, createElement(DragScrollWidget, _assign({}, this.state, {\n      enableMouseWheel: false,\n      zoomFactor: model.zoomFactor,\n      ref: saveRef(RefKey.DRAG_SCROLL_WIDGET_KEY)\n    }), function (setViewBoxScroll, setViewBoxScrollDelta) {\n      var rootWidgetProps = _assign(_assign({}, _this.props), {\n        topicKey: nodeKey,\n        setViewBoxScroll: setViewBoxScroll,\n        setViewBoxScrollDelta: setViewBoxScrollDelta\n      });\n\n      return createElement(NodeLayer, {\n        ref: saveRef('node-layer')\n      }, controller.run('renderRootWidget', rootWidgetProps));\n    }));\n  };\n\n  MindDragScrollWidget = __decorate([HotkeysTarget], MindDragScrollWidget);\n  return MindDragScrollWidget;\n}(Component);\n\nvar templateObject_1$5, templateObject_2$3;\n\nvar Modals =\n/** @class */\nfunction (_super) {\n  __extends(Modals, _super);\n\n  function Modals() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.handleClose = function () {\n      var controller = _this.props.controller;\n      var handleActiveModalClose = controller.run('handleActiveModalClose', _this.props);\n      handleActiveModalClose && handleActiveModalClose();\n    };\n\n    return _this;\n  }\n\n  Modals.prototype.render = function () {\n    var controller = this.props.controller;\n    var activeModal = controller.run('renderModal', this.props);\n    var activeModalProps = controller.run('getActiveModalProps', this.props);\n    return createElement(Dialog, {\n      onClose: this.handleClose,\n      isOpen: activeModal !== null,\n      autoFocus: true,\n      enforceFocus: true,\n      usePortal: true,\n      title: activeModalProps && activeModalProps.title,\n      style: activeModalProps && activeModalProps.style\n    }, createElement(\"div\", {\n      className: Classes.DIALOG_BODY,\n      style: {\n        minHeight: 0\n      }\n    }, activeModal));\n  };\n\n  return Modals;\n}(BaseWidget);\n\nvar RootLinksSvg = styled.svg(templateObject_1$6 || (templateObject_1$6 = __makeTemplateObject([\"\\n  width: 100%;\\n  height: 100%;\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  z-index: 1;\\n  pointer-events: none;\\n\"], [\"\\n  width: 100%;\\n  height: 100%;\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  z-index: 1;\\n  pointer-events: none;\\n\"])));\nvar log$6 = debug('node:root-sub-links');\n\nvar RootSubLinks =\n/** @class */\nfunction (_super) {\n  __extends(RootSubLinks, _super);\n\n  function RootSubLinks() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      curves: []\n    };\n    return _this;\n  }\n\n  RootSubLinks.prototype.layout = function () {\n    var props = this.props;\n    var model = props.model,\n        getRef = props.getRef,\n        topicKey = props.topicKey,\n        zoomFactor = props.zoomFactor,\n        controller = props.controller;\n    var topic = model.getTopic(topicKey);\n    var content = getRef(contentRefKey(topicKey));\n    var svg = getRef(linksSvgRefKey(topicKey));\n    var bigView = getRef(RefKey.DRAG_SCROLL_WIDGET_KEY).bigView;\n\n    var contentRect = _getRelativeRect(content, bigView, zoomFactor);\n\n    var svgRect = _getRelativeRect(svg, bigView, zoomFactor);\n\n    var p1, p2;\n    p1 = {\n      x: centerX(contentRect) - svgRect.left,\n      y: centerY(contentRect) - svgRect.top\n    };\n    var curves = [];\n    topic.subKeys.forEach(function (key) {\n      var linkStyle = controller.run('getLinkStyle', _assign(_assign({}, props), {\n        topicKey: key\n      }));\n      var lineType = linkStyle.lineType;\n      var subTopicContent = getRef(contentRefKey(key));\n\n      var rect = _getRelativeRect(subTopicContent, bigView, zoomFactor);\n\n      if (rect.left > contentRect.right) {\n        p2 = {\n          x: rect.left,\n          y: centerY(rect)\n        };\n      } else {\n        p2 = {\n          x: rect.right,\n          y: centerY(rect)\n        };\n      }\n\n      p2 = {\n        x: p2.x - svgRect.left,\n        y: p2.y - svgRect.top\n      };\n      var curve;\n\n      if (lineType === 'curve') {\n        curve = \"M \" + p1.x + \" \" + p1.y + \" C \" + p1.x + \" \" + centerPointY(p1, p2) + \" \" + centerPointX(p1, p2) + \" \" + p2.y + \" \" + p2.x + \" \" + p2.y;\n      } else if (lineType === 'line') {\n        curve = \"M \" + p1.x + \" \" + p1.y + \" L \" + p2.x + \" \" + p2.y;\n      } else if (lineType === 'round') {\n        var vDir = p2.y > p1.y ? 1 : -1;\n        var hDir = p2.x > p1.x ? 1 : -1;\n        var radius = linkStyle.lineRadius;\n\n        if (radius == null) {\n          throw new Error('link line type is round, but lineRadius is not provided!');\n        }\n\n        if (p2.y === p1.y) {\n          curve = \"M \" + p1.x + \" \" + p1.y + \" H \" + p2.x;\n        } else {\n          // 0  1 \n          curve = \"M \" + p1.x + \" \" + p1.y + \"  V \" + (p2.y - vDir * radius) + \" A \" + radius + \" \" + radius + \" 0 0 \" + (vDir * hDir === 1 ? 0 : 1) + \" \" + (p1.x + radius * hDir) + \" \" + p2.y + \" H \" + p2.x;\n        }\n      }\n\n      curves.push(createElement(\"path\", {\n        key: \"link-\" + key,\n        d: curve,\n        strokeWidth: linkStyle.lineWidth,\n        stroke: linkStyle.lineColor,\n        fill: \"none\"\n      }));\n    });\n    this.setState({\n      curves: curves\n    });\n  };\n\n  RootSubLinks.prototype.render = function () {\n    log$6('render');\n    var _a = this.props,\n        topicKey = _a.topicKey,\n        saveRef = _a.saveRef;\n    return createElement(RootLinksSvg, {\n      ref: saveRef(linksSvgRefKey(topicKey))\n    }, createElement(\"g\", null, this.state.curves));\n  };\n\n  return RootSubLinks;\n}(BaseWidget);\n\nvar templateObject_1$6;\nvar log$7 = debug('RootNode');\nvar LayerPart = styled.div(templateObject_1$7 || (templateObject_1$7 = __makeTemplateObject([\"\\n  display: flex;\\n  position: relative;\\n\\n  align-items: \", \";\\n  flex-direction: column;\\n\\n  padding: \", \";\\n\"], [\"\\n  display: flex;\\n  position: relative;\\n\\n  align-items: \", \";\\n  flex-direction: column;\\n\\n  padding: \", \";\\n\"])), function (props) {\n  //@ts-ignore\n  return props.topicDirection === TopicDirection.LEFT ? 'flex-end' : 'flex-start';\n}, function (props) {\n  //@ts-ignore\n  return props.topicDirection === TopicDirection.LEFT ? '15px 60px 15px 0px' : '15px 0px 15px 60px';\n});\nvar Topic = styled.div(templateObject_2$4 || (templateObject_2$4 = __makeTemplateObject([\"\\n  display: flex;\\n  position: relative;\\n  align-items: center;\\n  z-index: 3;\\n\"], [\"\\n  display: flex;\\n  position: relative;\\n  align-items: center;\\n  z-index: 3;\\n\"])));\n\nvar RootWidget =\n/** @class */\nfunction (_super) {\n  __extends(RootWidget, _super);\n\n  function RootWidget() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  RootWidget.prototype.renderPartTopics = function (topics, dir) {\n    var _a = this.props,\n        controller = _a.controller,\n        saveRef = _a.saveRef;\n    var res = controller.run('createSubTopics', _assign(_assign({}, this.props), {\n      dir: dir,\n      isRoot: true,\n      topics: topics\n    }));\n    if (!res) return null;\n    var subTopics = res.subTopics;\n    var cxName = \"bm-layer-\" + (dir === TopicDirection.LEFT ? 'left' : 'right');\n    return (//@ts-ignore\n      createElement(LayerPart, {\n        topicDirection: dir,\n        ref: saveRef(cxName)\n      }, subTopics)\n    );\n  };\n\n  RootWidget.prototype.render = function () {\n    log$7('render');\n    var props = this.props;\n    var model = props.model,\n        topicKey = props.topicKey,\n        saveRef = props.saveRef,\n        controller = props.controller;\n    var topicStyle = controller.run('getTopicContentStyle', props);\n    var config = model.config;\n    var topicContent = controller.run('renderTopicContent', _assign(_assign({}, props), {\n      topicStyle: topicStyle,\n      dir: TopicDirection.MAIN\n    }));\n    var partTopics = controller.run('getPartTopics', {\n      layout: config.layoutDir,\n      model: model,\n      topicKey: topicKey\n    });\n    var rootTopic = createElement(Topic, {\n      ref: saveRef(topicRefKey(topicKey))\n    }, topicContent);\n    var children = controller.run('renderRootWidgetOtherChildren', props);\n\n    switch (config.layoutDir) {\n      case DiagramLayoutType.LEFT_AND_RIGHT:\n        return createElement(Fragment, null, this.renderPartTopics(partTopics.L, 'L'), rootTopic, this.renderPartTopics(partTopics.R, 'R'), children);\n\n      case DiagramLayoutType.LEFT_TO_RIGHT:\n        return createElement(Fragment, null, rootTopic, this.renderPartTopics(partTopics.R, 'R'), children);\n\n      case DiagramLayoutType.RIGHT_TO_LEFT:\n        return createElement(Fragment, null, this.renderPartTopics(partTopics.L, 'L'), rootTopic, children);\n\n      case DiagramLayoutType.TOP_TO_BOTTOM:\n        return createElement(Fragment, null, rootTopic, this.renderPartTopics(partTopics.B, 'B'), children);\n    }\n\n    return null;\n  };\n\n  return RootWidget;\n}(Component);\n\nvar templateObject_1$7, templateObject_2$4;\nvar Icon$1 = styled.div(templateObject_3$2 || (templateObject_3$2 = __makeTemplateObject([\"\\n  position: absolute;\\n  top: calc(50% - 10px);\\n  \", \";\\n  border-radius: 50%;\\n  width: 20px;\\n  height: 20px;\\n  text-align: center;\\n  //@ts-ignore\\n  background: \", \";\\n  cursor: pointer;\\n  padding: 0;\\n  font-size: 14px;\\n  line-height: 20px;\\n  border: 0;\\n  z-index: 2;\\n\"], [\"\\n  position: absolute;\\n  top: calc(50% - 10px);\\n  \", \";\\n  border-radius: 50%;\\n  width: 20px;\\n  height: 20px;\\n  text-align: center;\\n  //@ts-ignore\\n  background: \", \";\\n  cursor: pointer;\\n  padding: 0;\\n  font-size: 14px;\\n  line-height: 20px;\\n  border: 0;\\n  z-index: 2;\\n\"])), function (_a) {\n  var dir = _a.dir;\n  if (dir === TopicDirection.RIGHT) return css(templateObject_1$8 || (templateObject_1$8 = __makeTemplateObject([\"\\n        right: -25px;\\n      \"], [\"\\n        right: -25px;\\n      \"])));\n  if (dir === TopicDirection.LEFT) return css(templateObject_2$5 || (templateObject_2$5 = __makeTemplateObject([\"\\n        left: -25px;\\n      \"], [\"\\n        left: -25px;\\n      \"])));\n}, function (props) {\n  return props.background;\n});\n\nfunction TopicCollapseIcon(props) {\n  var _a;\n\n  var model = props.model,\n      topicKey = props.topicKey,\n      topicStyle = props.topicStyle,\n      dir = props.dir,\n      saveRef = props.saveRef,\n      onClickCollapse = props.onClickCollapse;\n  var topic = model.getTopic(topicKey);\n  return topic.subKeys.size > 0 ? createElement(Icon$1, {\n    ref: saveRef(collapseRefKey(topicKey)),\n    onClick: onClickCollapse,\n    background: topicStyle.background,\n    dir: dir,\n    className: cx((_a = {\n      icon: true,\n      iconfont: true\n    }, _a[\"bm-\" + (topic.collapse ? 'plus' : 'minus')] = true, _a))\n  }) : null;\n}\n\nvar templateObject_1$8, templateObject_2$5, templateObject_3$2;\nvar log$8 = debug('node:topic-content2');\nvar EditingRoot = styled.div(templateObject_1$9 || (templateObject_1$9 = __makeTemplateObject([\"\\n  position: relative;\\n\"], [\"\\n  position: relative;\\n\"])));\nvar EditingWrapper = styled.div(templateObject_2$6 || (templateObject_2$6 = __makeTemplateObject([\"\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  width: auto;\\n  z-index: 10;\\n  color: black;\\n\"], [\"\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  width: auto;\\n  z-index: 10;\\n  color: black;\\n\"])));\n\nvar cancelEvent$1 = function cancelEvent$1(e) {\n  log$8('cancelEvent');\n  e.preventDefault();\n  e.stopPropagation();\n};\n\nfunction TopicContent(props) {\n  var controller = props.controller,\n      model = props.model,\n      topicKey = props.topicKey,\n      getRef = props.getRef;\n  var readOnly = model.editingContentKey !== topicKey;\n  var editor = controller.run('renderTopicContentEditor', _assign(_assign({}, props), {\n    readOnly: readOnly\n  }));\n  var child;\n\n  if (readOnly) {\n    child = editor;\n  } else {\n    var wrapper_1;\n\n    var wrapperRef = function wrapperRef(ref) {\n      if (ref) {\n        wrapper_1 = ref;\n        contentResizeObserver_1.observe(wrapper_1);\n      }\n    };\n\n    var rect_1 = {\n      width: 50,\n      height: 40\n    };\n    var editorDiv = getRef(\"content-editor-\" + topicKey);\n    if (editorDiv) rect_1 = editorDiv.getBoundingClientRect();\n\n    var contentResizeCallback = function contentResizeCallback(entries, observer) {\n      var r = entries[0].contentRect;\n      wrapper_1.style.left = (rect_1.width - r.width) / 2 + 'px';\n      wrapper_1.style.top = (rect_1.height - r.height) / 2 + 'px';\n    };\n\n    var contentResizeObserver_1 = new ResizeObserver(contentResizeCallback);\n    log$8(rect_1);\n    child = createElement(Fragment, null, createElement(\"div\", {\n      style: {\n        width: rect_1.width,\n        height: rect_1.height\n      }\n    }), createElement(EditingWrapper, {\n      ref: wrapperRef\n    }, editor));\n  }\n\n  return createElement(EditingRoot, {\n    onDragEnter: cancelEvent$1,\n    onDragOver: cancelEvent$1\n  }, child);\n}\n\nvar templateObject_1$9, templateObject_2$6;\nvar log$9 = debug('node:topic-content-widget');\nvar TopicContent$1 = styled.div(templateObject_1$a || (templateObject_1$a = __makeTemplateObject([\"\\n  display: flex;\\n  align-items: center;\\n  cursor: pointer;\\n  //overflow: hidden;\\n  position: relative;\\n\"], [\"\\n  display: flex;\\n  align-items: center;\\n  cursor: pointer;\\n  //overflow: hidden;\\n  position: relative;\\n\"])));\nvar TopicContentWithDropArea = styled.div(templateObject_2$7 || (templateObject_2$7 = __makeTemplateObject([\"\\n  position: relative;\\n\"], [\"\\n  position: relative;\\n\"])));\n\nvar TopicContentWidget =\n/** @class */\nfunction (_super) {\n  __extends(TopicContentWidget, _super);\n\n  function TopicContentWidget(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.onDragStart = function (ev) {\n      _this.run('handleTopicDragStart', _assign(_assign({}, _this.props), {\n        ev: ev\n      }));\n    };\n\n    _this.onDragOver = function (ev) {\n      // log('onDragOver');\n      ev.preventDefault();\n    };\n\n    _this.onDragEnter = function (ev) {\n      log$9('onDragEnter', _this.props.topicKey);\n\n      _this.run('handleTopicDragEnter', _assign(_assign({}, _this.props), {\n        ev: ev,\n        dropDir: 'in'\n      }));\n    };\n\n    _this.onDragLeave = function (ev) {\n      _this.run('handleTopicDragLeave', _assign(_assign({}, _this.props), {\n        ev: ev,\n        dropDir: 'in'\n      }));\n    };\n\n    _this.onDrop = function (ev) {\n      log$9('onDrop');\n\n      _this.run('handleTopicDrop', _assign(_assign({}, _this.props), {\n        ev: ev,\n        dropDir: 'in'\n      }));\n    };\n\n    _this.onClick = function (ev) {\n      var props = _this.props;\n      var controller = props.controller; //TODO bug [Violation] 'setTimeout' handler took 69ms\n\n      _this.handleTopicClickTimeout = setTimeout(function () {\n        // log('handleTopicClick');\n        //this.props, props, onClick, topic-content-editoronClickOutside\n        //onClickOutside,model, props,model model\n        controller.run('handleTopicClick', _assign(_assign({}, _this.props), {\n          ev: ev\n        }));\n      }, 200);\n    };\n\n    _this.onDoubleClick = function (ev) {\n      clearTimeout(_this.handleTopicClickTimeout);\n      var controller = _this.props.controller;\n      controller.run('handleTopicDoubleClick', _assign(_assign({}, _this.props), {\n        ev: ev\n      }));\n    };\n\n    _this.needRelocation = false;\n\n    _this.onClickCollapse = function (e) {\n      e.stopPropagation();\n      var _a = _this.props,\n          topicKey = _a.topicKey,\n          getRef = _a.getRef;\n      _this.needRelocation = true;\n      var collapseIcon = getRef(collapseRefKey(topicKey));\n      var rect = collapseIcon.getBoundingClientRect();\n      log$9('oldRect', rect);\n      _this.oldCollapseIconVector = [rect.left + rect.width / 2, rect.top + rect.height / 2];\n      log$9('oldCollapseIconVector', _this.oldCollapseIconVector); // this.oldCollapseIconVector = controller.run('getRelativeVectorFromViewPort', {\n      //   ...this.props,\n      //   element: collapseIcon\n      // });\n\n      _this.operation(OpType.TOGGLE_COLLAPSE, _this.props);\n    };\n\n    _this.state = {\n      dragEnter: false\n    };\n    return _this;\n  }\n\n  TopicContentWidget.prototype.renderContextMenu = function () {\n    var controller = this.props.controller;\n\n    if (!controller.getValue(PropKey.TOPIC_CONTEXT_MENU_ENABLED, _assign({}, this.props))) {\n      return;\n    }\n\n    this.operation(OpType.FOCUS_TOPIC, _assign(_assign({}, this.props), {\n      focusMode: FocusMode.SHOW_POPUP\n    }));\n    return controller.run('renderTopicContextMenu', this.props);\n  };\n\n  TopicContentWidget.prototype.onContextMenuClose = function () {// Optional method called once the context menu is closed.\n  };\n\n  TopicContentWidget.prototype.componentDidUpdate = function () {\n    if (this.needRelocation) {\n      var _a = this.props,\n          getRef = _a.getRef,\n          topicKey = _a.topicKey,\n          setViewBoxScrollDelta = _a.setViewBoxScrollDelta;\n      var newIcon = getRef(collapseRefKey(topicKey));\n      var newRect = newIcon.getBoundingClientRect(); // const newVector = controller.run('getRelativeVectorFromViewPort', {\n      //   ...this.props,\n      //   element: getRef(collapseRefKey(topicKey))\n      // });\n\n      var newVector = [newRect.left + newRect.width / 2, newRect.top + newRect.height / 2];\n      log$9('newVector:', newVector);\n      log$9('oldVector:', this.oldCollapseIconVector); //TODO bug\n\n      var vector = [newVector[0] - this.oldCollapseIconVector[0], newVector[1] - this.oldCollapseIconVector[1]];\n      log$9('vector', vector);\n      setViewBoxScrollDelta(vector[0], vector[1]);\n      this.needRelocation = false;\n    }\n  };\n\n  TopicContentWidget.prototype.render = function () {\n    var props = this.props;\n    var saveRef = props.saveRef,\n        topicKey = props.topicKey,\n        model = props.model,\n        controller = props.controller,\n        topicStyle = props.topicStyle,\n        dir = props.dir;\n    log$9('render', topicKey, model.focusMode);\n    var draggable = controller.run('isOperationEnabled', props) && model.editingContentKey !== topicKey;\n    var collapseIcon = controller.run('renderTopicCollapseIcon', _assign(_assign({}, props), {\n      onClickCollapse: this.onClickCollapse.bind(this)\n    }));\n    var prevDropArea = controller.run('renderTopicDropArea', _assign(_assign({}, props), {\n      dropDir: 'prev'\n    }));\n    var nextDropArea = controller.run('renderTopicDropArea', _assign(_assign({}, props), {\n      dropDir: 'next'\n    }));\n    var dropEventHandlers = {\n      onDragEnter: this.onDragEnter,\n      onDragLeave: this.onDragLeave,\n      onDragOver: this.onDragOver,\n      onDrop: this.onDrop\n    }; // log(topicKey, 'style', topicStyle);\n\n    return createElement(TopicContentWithDropArea, null, prevDropArea, createElement(TopicContent$1, _assign({\n      style: topicStyle,\n      draggable: draggable,\n      ref: saveRef(contentRefKey(topicKey)),\n      onDragStart: this.onDragStart,\n      onClick: this.onClick,\n      onDoubleClick: this.onDoubleClick\n    }, dropEventHandlers), controller.run('renderTopicBlocks', props), controller.run('renderTopicContentOthers', props)), nextDropArea, dir !== TopicDirection.MAIN && collapseIcon);\n  };\n\n  TopicContentWidget = __decorate([ContextMenuTarget], TopicContentWidget);\n  return TopicContentWidget;\n}(BaseWidget);\n\nvar templateObject_1$a, templateObject_2$7;\nvar log$a = debug('node:topic-desc');\nvar TooltipContentWrapper = styled.div(templateObject_1$b || (templateObject_1$b = __makeTemplateObject([\"\\n  overflow: auto;\\n\"], [\"\\n  overflow: auto;\\n\"])));\n\nfunction TopicDesc(props) {\n  var controller = props.controller,\n      model = props.model,\n      topicKey = props.topicKey,\n      getRef = props.getRef;\n  var isEditing = model.editingDescKey === topicKey;\n  log$a('isEditing', isEditing);\n\n  var onClick = function onClick(e) {\n    e.stopPropagation();\n    controller.run('operation', _assign(_assign({}, props), {\n      opType: OpType.START_EDITING_DESC\n    }));\n  };\n\n  var desc = model.getTopic(topicKey).getBlock(BlockType.DESC);\n  if (!isEditing && controller.run('isBlockEmpty', _assign(_assign({}, props), {\n    block: desc.block\n  }))) return null;\n  var descEditor = controller.run('renderTopicDescEditor', props);\n  var diagramRoot = getRef(RefKey.DIAGRAM_ROOT_KEY);\n  var style = {\n    maxWidth: '800px',\n    maxHeight: '600px'\n  };\n\n  if (diagramRoot) {\n    var dRect = diagramRoot.getBoundingClientRect();\n    style.maxWidth = dRect.width * 0.6 + \"px\";\n    style.maxHeight = dRect.height * 0.8 + \"px\";\n  }\n\n  var tooltipContent = createElement(TooltipContentWrapper, {\n    onClick: cancelEvent,\n    classname: Classes.POPOVER_DISMISS,\n    style: style\n  }, descEditor);\n  var icon = createElement(TopicBlockIcon, {\n    onClick: onClick,\n    className: iconClassName(IconName.NOTES),\n    tabIndex: -1\n  });\n  var tooltipProps = {\n    autoFocus: false,\n    content: tooltipContent,\n    target: icon,\n    interactionKind: PopoverInteractionKind.HOVER,\n    hoverOpenDelay: 500\n  };\n  var descIcon = desc.block && createElement(Popover, _assign({}, tooltipProps));\n  return descIcon;\n}\n\nvar templateObject_1$b;\nvar FocusHighlightSvg = styled.svg(templateObject_1$c || (templateObject_1$c = __makeTemplateObject([\"\\n  width: 100%;\\n  height: 100%;\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  z-index: 2;\\n  pointer-events: none;\\n\"], [\"\\n  width: 100%;\\n  height: 100%;\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  z-index: 2;\\n  pointer-events: none;\\n\"])));\n\nvar TopicHighlight =\n/** @class */\nfunction (_super) {\n  __extends(TopicHighlight, _super);\n\n  function TopicHighlight() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      content: null\n    };\n    return _this;\n  }\n\n  TopicHighlight.prototype.layout = function () {\n    var _a = this.props,\n        getRef = _a.getRef,\n        model = _a.model,\n        zoomFactor = _a.zoomFactor;\n    var focusKey = model.focusKey;\n    var focusMode = model.focusMode;\n\n    if (!focusKey || focusMode === FocusMode.EDITING_CONTENT) {\n      this.setState({\n        content: null\n      });\n      return;\n    }\n\n    var content = getRef(contentRefKey(focusKey));\n    var bigView = getRef(RefKey.DRAG_SCROLL_WIDGET_KEY).bigView;\n    var svg = getRef(RefKey.SVG_HIGHLIGHT_KEY);\n\n    var contentRect = _getRelativeRect(content, bigView, zoomFactor);\n\n    var svgRect = _getRelativeRect(svg, bigView, zoomFactor);\n\n    var padding = 3;\n    var x = contentRect.left - svgRect.left - padding;\n    var y = contentRect.top - svgRect.top - padding;\n    var width = contentRect.width + 2 * padding;\n    var height = contentRect.height + 2 * padding;\n    this.setState({\n      content: createElement(\"rect\", {\n        x: x,\n        y: y,\n        width: width,\n        height: height,\n        fill: \"none\",\n        stroke: model.config.theme.highlightColor,\n        strokeWidth: 2\n      })\n    });\n  };\n\n  TopicHighlight.prototype.render = function () {\n    var saveRef = this.props.saveRef;\n    return createElement(FocusHighlightSvg, {\n      ref: saveRef(RefKey.SVG_HIGHLIGHT_KEY)\n    }, this.state.content);\n  };\n\n  return TopicHighlight;\n}(BaseWidget);\n\nvar templateObject_1$c;\nvar TopicLinksSvg = styled.svg(templateObject_1$d || (templateObject_1$d = __makeTemplateObject([\"\\n  width: 100%;\\n  height: 100%;\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  z-index: 1;\\n  pointer-events: none;\\n\"], [\"\\n  width: 100%;\\n  height: 100%;\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  z-index: 1;\\n  pointer-events: none;\\n\"])));\nvar log$b = debug('node:topic-sub-links');\n\nvar TopicSubLinks =\n/** @class */\nfunction (_super) {\n  __extends(TopicSubLinks, _super);\n\n  function TopicSubLinks() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      curves: []\n    };\n    return _this;\n  }\n\n  TopicSubLinks.prototype.layout = function () {\n    var props = this.props;\n    var model = props.model,\n        getRef = props.getRef,\n        topicKey = props.topicKey,\n        dir = props.dir,\n        controller = props.controller;\n    var z = controller.run('getZoomFactor', props);\n    var topic = model.getTopic(topicKey);\n    var content = getRef(contentRefKey(topicKey));\n    var svg = getRef(linksSvgRefKey(topicKey));\n    var collapseIcon = getRef(collapseRefKey(topicKey));\n    var bigView = getRef(RefKey.DRAG_SCROLL_WIDGET_KEY).bigView;\n\n    var svgRect = _getRelativeRect(svg, bigView, z);\n\n    var collapseRect = _getRelativeRect(collapseIcon, bigView, z);\n\n    var contentRect = _getRelativeRect(content, bigView, z);\n\n    log$b(topicKey);\n    log$b('svgRect', svgRect);\n    log$b('collapseRect', collapseRect);\n    log$b('contentRect', contentRect);\n    var p1, p2, p3;\n\n    if (dir === TopicDirection.RIGHT) {\n      p1 = {\n        x: 0,\n        y: centerY(contentRect) - svgRect.top\n      };\n      p2 = {\n        x: collapseRect.right - svgRect.left + 10,\n        y: p1.y\n      };\n    } else if (dir === TopicDirection.LEFT) {\n      p1 = {\n        x: svgRect.right - svgRect.left,\n        y: centerY(contentRect) - svgRect.top\n      };\n      p2 = {\n        x: collapseRect.left - svgRect.left - 10,\n        y: p1.y\n      };\n    }\n\n    var curves = [];\n    topic.subKeys.forEach(function (key) {\n      var curve;\n      var linkStyle = controller.run('getLinkStyle', _assign(_assign({}, props), {\n        topicKey: key\n      })); // log(key);\n\n      var subContent = getRef(contentRefKey(key));\n      if (!subContent) return;\n\n      var rect = _getRelativeRect(subContent, bigView, z);\n\n      if (dir === TopicDirection.RIGHT) {\n        p3 = {\n          x: rect.left - svgRect.left,\n          y: centerY(rect) - svgRect.top\n        };\n      }\n\n      if (dir === TopicDirection.LEFT) {\n        p3 = {\n          x: rect.right - svgRect.left,\n          y: centerY(rect) - svgRect.top\n        };\n      }\n\n      var lineType = linkStyle.lineType;\n\n      if (lineType === 'curve') {\n        curve = \"M \" + p1.x + \" \" + p1.y + \" L \" + p2.x + \" \" + p2.y + \" C \" + p2.x + \" \" + centerPointY(p2, p3) + \" \" + centerPointX(p2, p3) + \" \" + p3.y + \" \" + p3.x + \" \" + p3.y;\n      } else if (lineType === 'round') {\n        var vDir = p3.y > p1.y ? 1 : -1;\n        var hDir = p3.x > p1.x ? 1 : -1;\n        var radius = linkStyle.lineRadius; // if (p3.y === p1.y) { //\n\n        if (topic.subKeys.size === 1 || Math.abs(p3.y - p1.y) <= 1) {\n          curve = \"M \" + p1.x + \" \" + p1.y + \" L \" + p3.x + \" \" + p3.y;\n        } else {\n          // 0  1 \n          curve = \"M \" + p1.x + \" \" + p1.y + \" H \" + p2.x + \" V \" + (p3.y - vDir * radius) + \" A \" + radius + \" \" + radius + \" 0 0 \" + (vDir * hDir === 1 ? 0 : 1) + \" \" + (p2.x + radius * hDir) + \" \" + p3.y + \" H \" + p3.x;\n        }\n      } else if (lineType === 'line') {\n        curve = \"M \" + p1.x + \" \" + p1.y + \" H \" + p2.x + \" L \" + p3.x + \" \" + p3.y;\n      }\n\n      curves.push(createElement(\"path\", {\n        key: \"link-\" + key,\n        d: curve,\n        strokeWidth: linkStyle.lineWidth,\n        stroke: linkStyle.lineColor,\n        fill: \"none\"\n      }));\n    });\n    this.setState({\n      curves: curves\n    });\n  };\n\n  TopicSubLinks.prototype.render = function () {\n    var _a = this.props,\n        topicKey = _a.topicKey,\n        saveRef = _a.saveRef;\n    return createElement(TopicLinksSvg, {\n      ref: saveRef(linksSvgRefKey(topicKey))\n    }, createElement(\"g\", null, this.state.curves));\n  };\n\n  return TopicSubLinks;\n}(BaseWidget);\n\nvar templateObject_1$d;\nvar log$c = debug('node:topic-widget');\nvar Node = styled.div(templateObject_1$e || (templateObject_1$e = __makeTemplateObject([\"\\n  display: flex;\\n  align-items: center;\\n  flex-direction: \", \";\\n\"], [\"\\n  display: flex;\\n  align-items: center;\\n  flex-direction: \", \";\\n\"])), function (props) {\n  return props.topicDirection === TopicDirection.RIGHT ? 'row' : 'row-reverse';\n}); // TODO\n\nvar NodeChildren = styled.div(templateObject_2$8 || (templateObject_2$8 = __makeTemplateObject([\"\\n  position: relative;\\n  padding: \", \";\\n\"], [\"\\n  position: relative;\\n  padding: \", \";\\n\"])), function (props) {\n  return props.dir === TopicDirection.RIGHT ? \"0 0 0 \" + props.marginH + \"px\" : \"0 \" + props.marginH + \"px 0 0\";\n});\nvar NodeTopic = styled.div(templateObject_3$3 || (templateObject_3$3 = __makeTemplateObject([\"\\n  display: flex;\\n  position: relative;\\n  align-items: center;\\n\\n  flex-direction: \", \";\\n\"], [\"\\n  display: flex;\\n  position: relative;\\n  align-items: center;\\n\\n  flex-direction: \", \";\\n\"])), function (props) {\n  return props.topicDirection === TopicDirection.RIGHT ? 'row' : 'row-reverse';\n});\n\nvar TopicWidget =\n/** @class */\nfunction (_super) {\n  __extends(TopicWidget, _super);\n\n  function TopicWidget() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  TopicWidget.prototype.renderSubTopics = function () {\n    var props = this.props;\n    var controller = props.controller,\n        model = props.model,\n        topicKey = props.topicKey,\n        dir = props.dir;\n    var topics = model.getTopic(topicKey).subKeys.toArray();\n    var res = controller.run('createSubTopics', _assign(_assign({}, props), {\n      topics: topics\n    }));\n    if (!res) return null;\n    var subTopics = res.subTopics;\n    var subLinks = controller.run('renderSubLinks', props);\n    return createElement(NodeChildren, {\n      dir: dir,\n      marginH: model.config.theme.marginH\n    }, subTopics, \" \", subLinks);\n  }; // componentDidUpdate(): void {\n  //   this.layoutLinks();\n  // }\n  //\n  // componentDidMount(): void {\n  //   this.layoutLinks();\n  // }\n\n\n  TopicWidget.prototype.layoutLinks = function () {\n    var _a = this.props,\n        getRef = _a.getRef,\n        topicKey = _a.topicKey,\n        model = _a.model;\n    var topic = model.getTopic(topicKey);\n    if (topic.subKeys.size === 0 || topic.collapse) return;\n    log$c('layoutLinks', topicKey);\n    var links = getRef(linksRefKey(topicKey));\n    links && links.layout();\n  };\n\n  TopicWidget.prototype.render = function () {\n    var props = this.props;\n    var controller = props.controller,\n        topicKey = props.topicKey,\n        dir = props.dir,\n        saveRef = props.saveRef;\n    log$c('render', topicKey);\n    var topicStyle = controller.run('getTopicContentStyle', props);\n\n    var propsMore = _assign(_assign({}, props), {\n      topicStyle: topicStyle\n    });\n\n    var topicContent = controller.run('renderTopicContent', propsMore);\n    return createElement(Node, {\n      topicDirection: dir\n    }, createElement(NodeTopic, {\n      topicDirection: dir,\n      ref: saveRef(topicRefKey(topicKey))\n    }, topicContent), this.renderSubTopics());\n  };\n\n  return TopicWidget;\n}(Component);\n\nvar templateObject_1$e, templateObject_2$8, templateObject_3$3;\nvar log$d = debug('node:view-port-viewer');\nvar ViewerRoot = styled(ZIndex)(templateObject_1$f || (templateObject_1$f = __makeTemplateObject([\"\\n  position: absolute;\\n  background: white;\\n  right: 30px;\\n  bottom: 20px;\\n  border-radius: 2px;\\n  display: flex;\\n  flex-direction: row;\\n  user-select: none;\\n\"], [\"\\n  position: absolute;\\n  background: white;\\n  right: 30px;\\n  bottom: 20px;\\n  border-radius: 2px;\\n  display: flex;\\n  flex-direction: row;\\n  user-select: none;\\n\"])));\nvar Item_ = styled(Btn)(templateObject_2$9 || (templateObject_2$9 = __makeTemplateObject([\"\\n  margin: 10px;\\n\"], [\"\\n  margin: 10px;\\n\"])));\nvar ZoomFactorSpan = styled.span(templateObject_3$4 || (templateObject_3$4 = __makeTemplateObject([\"\\n  display: inline-block;\\n  width: 80px;\\n  height: 18px;\\n\"], [\"\\n  display: inline-block;\\n  width: 80px;\\n  height: 18px;\\n\"])));\n\nvar Item = function Item(props) {\n  return createElement(Tooltip, {\n    content: props.tooltip,\n    position: Position.TOP,\n    className: Classes.ICON\n  }, createElement(Item_, {\n    onClick: props.onClick,\n    tabIndex: -1\n  }, props.children));\n};\n\nvar ViewPortViewer =\n/** @class */\nfunction (_super) {\n  __extends(ViewPortViewer, _super);\n\n  function ViewPortViewer(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.zoomFactorChange = function (zoomFactor) {\n      log$d('zoomFactorChange', zoomFactor);\n\n      _this.setState({\n        zoomFactor: zoomFactor\n      });\n    };\n\n    _this.onClickResetZoom = function (e) {\n      var props = _this.props;\n      var controller = props.controller;\n      controller.run('setZoomFactor', _assign(_assign({}, props), {\n        zoomFactor: 1\n      }));\n    };\n\n    _this.onClickAddZoom = function (e) {\n      var props = _this.props;\n      var controller = props.controller;\n      var zoomFactor = controller.run('getZoomFactor', props);\n      controller.run('setZoomFactor', _assign(_assign({}, props), {\n        zoomFactor: zoomFactor + 0.1\n      }));\n    };\n\n    _this.onClickMinusZoom = function (e) {\n      var props = _this.props;\n      var controller = props.controller;\n      var zoomFactor = controller.run('getZoomFactor', props);\n      controller.run('setZoomFactor', _assign(_assign({}, props), {\n        zoomFactor: zoomFactor - 0.1\n      }));\n    };\n\n    _this.onClickCollapseAll = function (e) {\n      var props = _this.props;\n      var controller = props.controller;\n      controller.run('addEventListener', _assign(_assign({}, props), {\n        key: EventKey.CENTER_ROOT_TOPIC,\n        listener: _this.centerRootTopic,\n        once: true\n      }));\n      controller.run('operation', _assign(_assign({}, props), {\n        opType: OpType.COLLAPSE_ALL\n      }));\n    };\n\n    _this.onClickExpandAll = function (e) {\n      var props = _this.props;\n      var controller = props.controller;\n      controller.run('addEventListener', _assign(_assign({}, props), {\n        key: EventKey.CENTER_ROOT_TOPIC,\n        listener: _this.centerRootTopic,\n        once: true\n      }));\n      controller.run('operation', _assign(_assign({}, props), {\n        opType: OpType.EXPAND_ALL\n      }));\n    };\n\n    _this.centerRootTopic = function () {\n      var _a = _this.props,\n          model = _a.model,\n          controller = _a.controller;\n      controller.run('moveTopicToCenter', _assign(_assign({}, _this.props), {\n        topicKey: model.editorRootTopicKey\n      }));\n    };\n\n    return _this;\n  }\n\n  ViewPortViewer.prototype.componentDidMount = function () {\n    var props = this.props;\n    var controller = props.controller;\n    controller.run('addZoomFactorChangeEventListener', _assign(_assign({}, props), {\n      listener: this.zoomFactorChange\n    }));\n  };\n\n  ViewPortViewer.prototype.componentWillUnmount = function () {\n    var props = this.props;\n    var controller = props.controller;\n    controller.run('removeZoomFactorChangeEventListener', _assign(_assign({}, props), {\n      listener: this.zoomFactorChange\n    }));\n  };\n\n  ViewPortViewer.prototype.render = function () {\n    log$d('render');\n    var props = this.props;\n    var controller = props.controller,\n        zIndex = props.zIndex;\n    var zoomFactor = controller.run('getZoomFactor', props);\n    return createElement(ViewerRoot, {\n      zIndex: zIndex\n    }, createElement(Item, {\n      onClick: this.onClickCollapseAll,\n      tooltip: \"collapse all\"\n    }, Icon(IconName.COLLAPSE_ALL)), createElement(Item, {\n      onClick: this.onClickExpandAll,\n      tooltip: \"expand all\"\n    }, Icon(IconName.EXPAND_ALL)), createElement(Item, {\n      onClick: this.centerRootTopic,\n      tooltip: \"center root topic\"\n    }, Icon(IconName.CENTER)), createElement(Item, {\n      onClick: this.onClickMinusZoom,\n      tooltip: \"zoom in\"\n    }, Icon(IconName.MINUS)), createElement(Item, {\n      onClick: this.onClickResetZoom,\n      tooltip: \"reset zoom\"\n    }, createElement(ZoomFactorSpan, null, \"zoom:\" + Math.floor(zoomFactor * 100) + \"%\")), createElement(Item, {\n      onClick: this.onClickAddZoom,\n      tooltip: \"zoom out\"\n    }, Icon(IconName.PLUS)));\n  };\n\n  return ViewPortViewer;\n}(BaseWidget);\n\nvar templateObject_1$f, templateObject_2$9, templateObject_3$4;\nvar DescEditorWrapper = styled.div(templateObject_1$g || (templateObject_1$g = __makeTemplateObject([\"\\n  overflow: auto;\\n  padding: 0px 0px 0px 20px;\\n  background: #88888850;\\n\"], [\"\\n  overflow: auto;\\n  padding: 0px 0px 0px 20px;\\n  background: #88888850;\\n\"])));\n\nfunction renderDrawer(props) {\n  var controller = props.controller,\n      model = props.model,\n      topicKey = props.topicKey;\n\n  if (model.focusMode === FocusMode.EDITING_DESC) {\n    var onDescEditorClose = function onDescEditorClose(e) {\n      e.stopPropagation();\n      var key = \"topic-desc-data-\" + topicKey;\n      var descData = controller.run('deleteTempValue', {\n        key: key\n      });\n      controller.run('operation', _assign(_assign({}, props), {\n        opType: OpType.SET_TOPIC_BLOCK,\n        topicKey: topicKey,\n        blockType: BlockType.DESC,\n        data: descData,\n        focusMode: FocusMode.NORMAL\n      }));\n    };\n\n    var descEditor = controller.run('renderTopicDescEditor', props);\n    return createElement(Drawer, {\n      key: \"drawer\",\n      title: \"Edit Notes\",\n      icon: Icon('note'),\n      isOpen: true,\n      hasBackdrop: true,\n      backdropProps: {\n        onMouseDown: cancelEvent\n      },\n      isCloseButtonShown: false,\n      onClose: onDescEditorClose,\n      size: \"70%\"\n    }, createElement(DescEditorWrapper, null, descEditor));\n  }\n}\n\nvar templateObject_1$g; //TODO themeProvider\n\nfunction Theme(_a) {\n  var theme = _a.theme,\n      children = _a.children;\n  return (//@ts-ignore\n    createElement(ThemeProvider, {\n      theme: theme\n    }, createElement(Fragment, null, children))\n  );\n}\n\nvar log$e = debug('plugin:rendering');\n\nfunction RenderingPlugin() {\n  var DiagramRoot = styled.div(templateObject_1$h || (templateObject_1$h = __makeTemplateObject([\"\\n    width: 100%;\\n    height: 100%;\\n    background: \", \";\\n    position: relative;\\n  \"], [\"\\n    width: 100%;\\n    height: 100%;\\n    background: \", \";\\n    position: relative;\\n  \"])), function (props) {\n    return props.theme.background;\n  });\n  var diagramProps;\n  return {\n    getDiagramProps: function getDiagramProps() {\n      return diagramProps;\n    },\n    renderDiagram: function renderDiagram(props) {\n      var model = props.model,\n          controller = props.controller;\n      return createElement(SaveRef, null, function (saveRef, getRef, deleteRef) {\n        diagramProps = _assign(_assign({}, props), {\n          saveRef: saveRef,\n          getRef: getRef,\n          deleteRef: deleteRef\n        });\n        log$e('renderDiagram', model);\n        return createElement(Theme, {\n          theme: model.config.theme\n        }, createElement(DiagramRoot, {\n          ref: saveRef(RefKey.DIAGRAM_ROOT_KEY)\n        }, createElement(MindDragScrollWidget, _assign({}, diagramProps)), controller.run('renderDiagramCustomize', diagramProps)));\n      });\n    },\n    renderDrawer: renderDrawer,\n    renderDiagramCustomize: function renderDiagramCustomize(props) {\n      var controller = props.controller,\n          model = props.model;\n      var zIndex = controller.getValue(PropKey.DIAGRAM_CUSTOMIZE_BASE_Z_INDEX);\n\n      var nProps = _assign(_assign({}, props), {\n        zIndex: zIndex,\n        topicKey: model.focusKey\n      });\n\n      var breadcrumbs = controller.run('renderEditorRootBreadcrumbs', nProps); // const styleEditor = controller.run('renderStyleEditor', nProps);\n\n      var rightTopPanel = controller.run('renderRightTopPanel', nProps);\n      var modals = controller.run('renderModals', _assign(_assign({}, nProps), {\n        zIndex: zIndex + 1\n      }));\n      var drawer = controller.run('renderDrawer', _assign(_assign({}, nProps), {\n        zIndex: zIndex + 1\n      }));\n      var viewportViewer = controller.run('renderViewPortViewer', nProps);\n      return [breadcrumbs, rightTopPanel, modals, drawer, viewportViewer];\n    },\n    renderEditorRootBreadcrumbs: function renderEditorRootBreadcrumbs(props) {\n      return createElement(EditorRootBreadcrumbs, _assign({\n        key: \"EditorRootBreadcrumbs\"\n      }, props));\n    },\n    renderModals: function renderModals(props) {\n      return createElement(Modals, _assign({\n        key: \"modals\"\n      }, props));\n    },\n    renderModal: function renderModal(props) {\n      return null;\n    },\n    getActiveModalProps: function getActiveModalProps(props) {\n      return null;\n    },\n    renderDoc: function renderDoc(_a) {\n      var children = _a.children;\n      return children;\n    },\n    renderRootWidget: function renderRootWidget(props) {\n      return createElement(RootWidget, _assign({}, props));\n    },\n    renderTopicWidget: function renderTopicWidget(props) {\n      return createElement(TopicWidget, _assign({}, props));\n    },\n    renderTopicContent: function renderTopicContent(props) {\n      return createElement(TopicContentWidget, _assign({}, props));\n    },\n    renderTopicCollapseIcon: function renderTopicCollapseIcon(props) {\n      return createElement(TopicCollapseIcon, _assign({}, props));\n    },\n    renderTopicContentOthers: function renderTopicContentOthers(props) {\n      return [];\n    },\n    renderTopicBlocks: function renderTopicBlocks(props) {\n      var model = props.model,\n          topicKey = props.topicKey,\n          controller = props.controller;\n      var topic = model.getTopic(topicKey);\n      var blocks = topic.blocks;\n      var res = [];\n      var i = 0;\n      blocks.forEach(function (block) {\n        var b = controller.run('renderTopicBlock', _assign(_assign({}, props), {\n          block: block,\n          blockKey: \"block-\" + i\n        }));\n\n        if (b) {\n          res.push(createElement(Fragment, {\n            key: \"block-\" + i\n          }, b));\n          i++;\n        }\n      });\n      return res;\n    },\n    renderTopicBlock: function renderTopicBlock(props) {\n      var controller = props.controller,\n          block = props.block;\n\n      switch (block.type) {\n        case BlockType.CONTENT:\n          return controller.run('renderTopicBlockContent', props);\n\n        case BlockType.DESC:\n          return controller.run('renderTopicBlockDesc', props);\n      }\n\n      return null;\n    },\n    renderTopicBlockContent: function renderTopicBlockContent(props) {\n      return createElement(TopicContent, _assign({}, props));\n    },\n    renderTopicBlockDesc: function renderTopicBlockDesc(props) {\n      return createElement(TopicDesc, _assign({}, props));\n    },\n    renderSubLinks: function renderSubLinks(props) {\n      var saveRef = props.saveRef,\n          topicKey = props.topicKey,\n          model = props.model;\n      var topic = model.getTopic(topicKey);\n      if (topic.subKeys.size === 0 || topic.collapse) return null;\n      return createElement(TopicSubLinks, _assign({\n        ref: saveRef(linksRefKey(topicKey))\n      }, props));\n    },\n    renderRootSubLinks: function renderRootSubLinks(props) {\n      // log('renderRootSubLinks');\n      var saveRef = props.saveRef,\n          topicKey = props.topicKey; // ,layout \n      // const topic = model.getTopic(topicKey);\n      // if (topic.subKeys.size === 0) return null;\n\n      return createElement(RootSubLinks, _assign({\n        ref: saveRef(linksRefKey(topicKey))\n      }, props));\n    },\n    renderFocusItemHighlight: function renderFocusItemHighlight(props) {\n      var saveRef = props.saveRef;\n      return createElement(TopicHighlight, _assign({\n        ref: saveRef(RefKey.FOCUS_HIGHLIGHT_KEY)\n      }, props));\n    },\n    renderRootWidgetOtherChildren: function renderRootWidgetOtherChildren(props) {\n      var controller = props.controller;\n      var zoomFactor = controller.run('getZoomFactor', props);\n      props = _assign(_assign({}, props), {\n        zoomFactor: zoomFactor\n      });\n      return createElement(Fragment, null, controller.run('renderRootSubLinks', props), controller.run('renderFocusItemHighlight', props), controller.run('renderDragAndDropEffect', props));\n    },\n    renderViewPortViewer: function renderViewPortViewer(props) {\n      return createElement(ViewPortViewer, _assign({\n        key: \"view-port-viewer\"\n      }, props));\n    }\n  };\n}\n\nvar templateObject_1$h;\nvar PanelRoot = styled(ZIndex)(templateObject_1$i || (templateObject_1$i = __makeTemplateObject([\"\\n  position: absolute;\\n  background: white;\\n  right: 30px;\\n  top: 20px;\\n  border-radius: 2px;\\n  user-select: none;\\n\"], [\"\\n  position: absolute;\\n  background: white;\\n  right: 30px;\\n  top: 20px;\\n  border-radius: 2px;\\n  user-select: none;\\n\"])));\nvar StyledTabs = styled(Tabs)(templateObject_2$a || (templateObject_2$a = __makeTemplateObject([\"\\n  padding: 0px 10px;\\n\"], [\"\\n  padding: 0px 10px;\\n\"])));\n\nfunction RightTopPanel(props) {\n  var controller = props.controller,\n      zIndex = props.zIndex,\n      selectedTabId = props.selectedTabId,\n      handleTabIdChange = props.handleTabIdChange;\n\n  var _a = __read(useState(false), 2),\n      expand = _a[0],\n      setExpand = _a[1];\n\n  if (!expand) {\n    return createElement(PanelRoot, {\n      zIndex: zIndex\n    }, createElement(IconBg, {\n      onClick: function onClick() {\n        return setExpand(true);\n      }\n    }, createElement(ShowMenuIcon, {\n      className: iconClassName(IconName.SHOW_MENU)\n    })));\n  }\n\n  return createElement(PanelRoot, {\n    zIndex: zIndex\n  }, createElement(Title, null, createElement(CloseIcon, {\n    className: iconClassName(IconName.CLOSE),\n    onClick: function onClick() {\n      return setExpand(false);\n    }\n  })), createElement(StyledTabs, {\n    id: selectedTabId,\n    onChange: handleTabIdChange\n  }, controller.run('renderRightTopPanelTabs', props)));\n}\n\nvar templateObject_1$i, templateObject_2$a;\nvar SettingTitle = styled.div(templateObject_1$j || (templateObject_1$j = __makeTemplateObject([\"\\n  margin-top: 10px;\\n  margin-bottom: 5px;\\n  font-weight: bold;\\n\"], [\"\\n  margin-top: 10px;\\n  margin-bottom: 5px;\\n  font-weight: bold;\\n\"])));\nvar SettingItem = styled.span(templateObject_2$b || (templateObject_2$b = __makeTemplateObject([\"\\n  margin: 0px 10px 0px 0px;\\n\"], [\"\\n  margin: 0px 10px 0px 0px;\\n\"])));\nvar SettingBoxContainer = styled.div(templateObject_3$5 || (templateObject_3$5 = __makeTemplateObject([\"\\n  padding: 10px;\\n  margin: 0 0 10px 0;\\n  border: rgba(16, 22, 26, 0.15) solid 1px;\\n  border-radius: 5px;\\n\"], [\"\\n  padding: 10px;\\n  margin: 0 0 10px 0;\\n  border: rgba(16, 22, 26, 0.15) solid 1px;\\n  border-radius: 5px;\\n\"])));\nvar SettingLabel = styled(SettingItem)(templateObject_4$1 || (templateObject_4$1 = __makeTemplateObject([\"\"], [\"\"])));\nvar SettingRow = styled.div(templateObject_5$1 || (templateObject_5$1 = __makeTemplateObject([\"\\n  display: flex;\\n  align-items: center;\\n  //justify-content: center;\\n  margin: 5px 0;\\n\"], [\"\\n  display: flex;\\n  align-items: center;\\n  //justify-content: center;\\n  margin: 5px 0;\\n\"])));\nvar ColorBar = styled.div(templateObject_6$1 || (templateObject_6$1 = __makeTemplateObject([\"\\n  height: 3px;\\n  width: 80%;\\n  margin-left: 10%;\\n  margin-right: 10%;\\n  margin-bottom: 2px;\\n  background: \", \";\\n\"], [\"\\n  height: 3px;\\n  width: 80%;\\n  margin-left: 10%;\\n  margin-right: 10%;\\n  margin-bottom: 2px;\\n  background: \", \";\\n\"])), function (props) {\n  return props.color;\n});\nvar WithBorder = styled.div(templateObject_7$1 || (templateObject_7$1 = __makeTemplateObject([\"\\n  border: 1px solid grey;\\n  cursor: pointer;\\n  font-weight: bold;\\n\"], [\"\\n  border: 1px solid grey;\\n  cursor: pointer;\\n  font-weight: bold;\\n\"])));\nvar templateObject_1$j, templateObject_2$b, templateObject_3$5, templateObject_4$1, templateObject_5$1, templateObject_6$1, templateObject_7$1;\n\nfunction SettingGroup(props) {\n  return createElement(\"div\", null, props.children, createElement(Divider, {\n    style: {\n      margin: '10px 0'\n    }\n  }));\n}\n\nfunction SettingItemColorPicker(props) {\n  var color = props.color,\n      handleColorChange = props.handleColorChange;\n  return createElement(SettingItem, null, createElement(Popover, null, createElement(WithBorder, null, createElement(\"div\", {\n    className: iconClassName(IconName.COLOR_PICKER)\n  }), createElement(ColorBar, {\n    color: color\n  })), createElement(\"div\", null, createElement(SketchPicker, {\n    color: color,\n    onChangeComplete: function onChangeComplete(color) {\n      return handleColorChange(color.hex);\n    }\n  }))));\n}\n\nfunction SettingItemButton(props) {\n  var title = props.title,\n      handleClick = props.handleClick;\n  return createElement(SettingItem, null, createElement(Button, {\n    onClick: handleClick\n  }, title));\n}\n\nfunction SettingItemNumericInput(props) {\n  var _a = props.layout,\n      layout = _a === void 0 ? 'h' : _a,\n      title = props.title,\n      restProps = __rest(props, [\"layout\", \"title\"]);\n\n  var flexProps = {\n    flexDirection: layout === 'h' ? 'row' : 'column',\n    alignItems: 'center'\n  };\n  return createElement(SettingItem, null, createElement(Flex, _assign({}, flexProps), createElement(Margin, {\n    margin: \"0 5px 0 0\"\n  }, title), createElement(NumericInput, _assign({}, restProps))));\n}\n\nfunction SettingItemSelect(props) {\n  var text = props.text,\n      items = props.items,\n      itemRenderer = props.itemRenderer,\n      onItemSelect = props.onItemSelect;\n  var PxSelect = Select.ofType();\n  var pxProps = {\n    items: items,\n    itemRenderer: itemRenderer,\n    onItemSelect: onItemSelect,\n    filterable: false\n  };\n  return createElement(SettingItem, null, createElement(PxSelect, _assign({}, pxProps), createElement(Button, {\n    text: text\n  })));\n}\n\nvar renderItem = function renderItem(unit) {\n  return function (width, _a) {\n    var handleClick = _a.handleClick;\n    return createElement(MenuItem, {\n      text: \"\" + width + unit,\n      key: width,\n      onClick: handleClick\n    });\n  };\n};\n\nvar PxSelect = Select.ofType();\n\nvar borderWidthItems = __spread(Array(7).keys());\n\nvar borderWidthItems$1 = __spread(Array(7).keys());\n\nvar borderRadiusItems = [0, 5, 10, 15, 20, 25, 30, 35];\nvar borderStyleItems = ['none', 'solid', 'dotted', 'dashed', 'double'];\n\nfunction BorderStyleEditor(props) {\n  var contentStyle = props.contentStyle,\n      setContentStyle = props.setContentStyle;\n\n  var handleBorderWidthChange = function handleBorderWidthChange(value) {\n    // log('handleBorderWithChange:', value);\n    setContentStyle({\n      borderWidth: value + \"px\"\n    });\n  };\n\n  var handleBorderStyleChange = function handleBorderStyleChange(value) {\n    setContentStyle({\n      borderStyle: value\n    });\n  };\n\n  var handleBorderRadiusChange = function handleBorderRadiusChange(value) {\n    // log('handleBorderRadiusChange:', value);\n    setContentStyle({\n      borderRadius: value + \"px\"\n    });\n  };\n\n  var handleBorderColorChange = function handleBorderColorChange(color) {\n    setContentStyle({\n      borderColor: color\n    });\n  };\n\n  return createElement(SettingGroup, null, createElement(SettingTitle, null, \"Border\"), createElement(\"div\", null, createElement(SettingItemSelect, {\n    text: \"width: \" + (contentStyle.borderWidth ? contentStyle.borderWidth : '0px'),\n    items: borderWidthItems$1,\n    itemRenderer: renderItem('px'),\n    onItemSelect: handleBorderWidthChange\n  }), createElement(SettingItemSelect, {\n    text: \"style: \" + (contentStyle.borderStyle ? contentStyle.borderStyle : 'none'),\n    items: borderStyleItems,\n    itemRenderer: renderItem(''),\n    onItemSelect: handleBorderStyleChange\n  }), createElement(SettingItemSelect, {\n    text: \"radius: \" + contentStyle.borderRadius,\n    items: borderRadiusItems,\n    itemRenderer: renderItem('px'),\n    onItemSelect: handleBorderRadiusChange\n  }), createElement(SettingItemColorPicker, {\n    color: contentStyle.borderColor,\n    handleColorChange: handleBorderColorChange\n  })));\n}\n\nfunction ClearAllCustomStyle(props) {\n  var controller = props.controller;\n\n  var handleClearAllCustomStyle = function handleClearAllCustomStyle(e) {\n    controller.run('clearAllCustomStyle', props);\n  };\n\n  return createElement(SettingGroup, null, createElement(SettingItem, null, createElement(Button, {\n    onClick: handleClearAllCustomStyle\n  }, \"Clear All Custom Styles\")));\n}\n\nvar lineTypes = ['curve', 'round', 'line'];\n\nvar renderLineTypeItem = function renderLineTypeItem(lineType, _a) {\n  var handleClick = _a.handleClick,\n      modifiers = _a.modifiers,\n      query = _a.query;\n  return createElement(MenuItem, {\n    text: \"\" + lineType,\n    key: lineType,\n    onClick: handleClick\n  });\n};\n\nfunction LinkStyleEditor(props) {\n  var _a = props.showLinkStyle,\n      showLinkStyle = _a === void 0 ? true : _a,\n      _b = props.showSubLinkStyle,\n      showSubLinkStyle = _b === void 0 ? true : _b,\n      _c = props.linkStyle,\n      linkStyle = _c === void 0 ? {} : _c,\n      _d = props.subLinkStyle,\n      subLinkStyle = _d === void 0 ? {} : _d,\n      setLinkStyle = props.setLinkStyle,\n      setSubLinkStyle = props.setSubLinkStyle;\n\n  var handleLinkWidthChange = function handleLinkWidthChange(value) {\n    setLinkStyle({\n      lineWidth: value + \"px\"\n    });\n  };\n\n  var handleLinkTypeChange = function handleLinkTypeChange(value) {\n    setLinkStyle({\n      lineType: value\n    });\n  };\n\n  var handleLinkColorChange = function handleLinkColorChange(color) {\n    setLinkStyle({\n      lineColor: color\n    });\n  };\n\n  var handleSubLinkWidthChange = function handleSubLinkWidthChange(value) {\n    setSubLinkStyle({\n      lineWidth: value + \"px\"\n    });\n  };\n\n  var handleSubLinkTypeChange = function handleSubLinkTypeChange(value) {\n    setSubLinkStyle({\n      lineType: value\n    });\n  };\n\n  var handleSubLinkColorChange = function handleSubLinkColorChange(color) {\n    setSubLinkStyle({\n      lineColor: color\n    });\n  };\n\n  return createElement(SettingGroup, null, createElement(SettingTitle, null, \"Link\"), showLinkStyle && createElement(SettingRow, {\n    alignItems: \"center\"\n  }, createElement(Margin, {\n    margin: \"0 5px 0 0\"\n  }, \"LinkToParent: \"), createElement(SettingItemSelect, {\n    text: \"width: \" + (linkStyle ? linkStyle.lineWidth : '0px'),\n    items: borderWidthItems,\n    itemRenderer: renderItem('px'),\n    onItemSelect: handleLinkWidthChange\n  }), createElement(SettingItemSelect, {\n    text: \"lineType: \" + linkStyle.lineType,\n    items: lineTypes,\n    itemRenderer: renderLineTypeItem,\n    onItemSelect: handleLinkTypeChange\n  }), createElement(SettingItemColorPicker, {\n    color: linkStyle.lineColor,\n    handleColorChange: handleLinkColorChange\n  })), showSubLinkStyle && createElement(SettingRow, {\n    alignItems: \"center\"\n  }, createElement(Margin, {\n    margin: \"0 5px 0 0\"\n  }, \"SubLinks: \"), createElement(SettingItemSelect, {\n    text: \"width: \" + (subLinkStyle ? subLinkStyle.lineWidth : '0px'),\n    items: borderWidthItems,\n    itemRenderer: renderItem('px'),\n    onItemSelect: handleSubLinkWidthChange\n  }), createElement(SettingItemSelect, {\n    text: \"lineType: \" + subLinkStyle.lineType,\n    items: lineTypes,\n    itemRenderer: renderLineTypeItem,\n    onItemSelect: handleSubLinkTypeChange\n  }), createElement(SettingItemColorPicker, {\n    color: subLinkStyle.lineColor,\n    handleColorChange: handleSubLinkColorChange\n  })));\n}\n\nfunction TextStyleEditor(props) {\n  var contentStyle = props.contentStyle,\n      setContentStyle = props.setContentStyle;\n\n  var handleFontSizeChange = function handleFontSizeChange(value) {\n    // log('handleFontSizeChange:', value);\n    setContentStyle({\n      fontSize: value\n    });\n  };\n\n  var handleLineHeightChange = function handleLineHeightChange(e) {\n    // log('handleLineHeightChange:', e.target.value);\n    setContentStyle({\n      lineHeight: e.target.value\n    });\n  };\n\n  var handleColorChange = function handleColorChange(color) {\n    setContentStyle({\n      color: color\n    });\n  };\n\n  var fontSizeNumInputProps = {\n    title: 'FontSize:',\n    min: 12,\n    max: 100,\n    value: parseInt(contentStyle.fontSize),\n    style: {\n      width: 50\n    },\n    onValueChange: handleFontSizeChange\n  };\n  var lineHeightInputProps = {\n    style: {\n      width: 50\n    },\n    value: contentStyle.lineHeight || '',\n    onChange: handleLineHeightChange\n  };\n  return createElement(SettingGroup, null, createElement(SettingTitle, null, \"Text Editor\"), createElement(Flex, null, createElement(SettingItemNumericInput, _assign({}, fontSizeNumInputProps)), createElement(SettingItem, null, createElement(Flex, {\n    alignItems: \"center\"\n  }, createElement(Margin, {\n    margin: \"0 5px 0 0\"\n  }, \"LineHeight: \"), createElement(InputGroup, _assign({}, lineHeightInputProps)))), createElement(SettingItemColorPicker, {\n    color: contentStyle.color,\n    handleColorChange: handleColorChange\n  })));\n}\n\nvar log$f = debug('node:style-editor');\nvar copiedStyle;\n\nfunction StyleEditor(props) {\n  var controller = props.controller,\n      model = props.model,\n      topicKey = props.topicKey;\n  var topic = model.getTopic(topicKey);\n\n  var setContentStyle = function setContentStyle(style) {\n    controller.run('setTopicContentStyle', _assign(_assign({}, props), {\n      style: style\n    }));\n  };\n\n  var handleBackgroundColorChange = function handleBackgroundColorChange(color) {\n    setContentStyle({\n      background: color\n    });\n  };\n\n  var handleClearStyle = function handleClearStyle() {\n    if (topic.style) {\n      controller.run('operation', _assign(_assign({}, props), {\n        opType: OpType.SET_STYLE,\n        style: null\n      }));\n    }\n  };\n\n  var handleCopyStyle = function handleCopyStyle() {\n    copiedStyle = controller.run('getTopicStyle', props);\n    log$f(copiedStyle);\n  };\n\n  var handlePasteStyle = function handlePasteStyle() {\n    if (copiedStyle) {\n      controller.run('operation', _assign(_assign({}, props), {\n        opType: OpType.SET_STYLE,\n        style: JSON.stringify(copiedStyle)\n      }));\n    }\n  };\n\n  if (!model.focusKey) return null;\n  var contentStyle = controller.run('getTopicContentStyle', props);\n  var linkStyle = controller.run('getLinkStyle', props);\n  var subLinkStyle = controller.run('getSubLinkStyle', props);\n\n  var setLinkStyle = function setLinkStyle(linkStyle) {\n    controller.run('setLinkStyle', _assign(_assign({}, props), {\n      linkStyle: linkStyle\n    }));\n  };\n\n  var setSubLinkStyle = function setSubLinkStyle(subLinkStyle) {\n    controller.run('setSubLinkStyle', _assign(_assign({}, props), {\n      subLinkStyle: subLinkStyle\n    }));\n  };\n\n  var linkStyleEditorProps = {\n    linkStyle: linkStyle,\n    subLinkStyle: subLinkStyle,\n    setLinkStyle: setLinkStyle,\n    setSubLinkStyle: setSubLinkStyle\n  };\n  var contentStyleEditorPros = {\n    contentStyle: contentStyle,\n    setContentStyle: setContentStyle\n  };\n  return createElement(PanelTabRoot, null, createElement(BorderStyleEditor, _assign({}, contentStyleEditorPros)), createElement(TextStyleEditor, _assign({}, contentStyleEditorPros)), createElement(SettingGroup, null, createElement(SettingTitle, null, \"Background\"), createElement(SettingItemColorPicker, {\n    color: contentStyle.background,\n    handleColorChange: handleBackgroundColorChange\n  })), createElement(LinkStyleEditor, _assign({}, linkStyleEditorProps)), createElement(SettingGroup, null, createElement(SettingItemButton, {\n    title: \"Clear Topic Style\",\n    handleClick: handleClearStyle\n  }), createElement(SettingItemButton, {\n    title: \"Copy Style\",\n    handleClick: handleCopyStyle\n  }), createElement(SettingItemButton, {\n    title: \"Paste Style\",\n    handleClick: handlePasteStyle\n  })), ClearAllCustomStyle(props));\n}\n/** Event handler that exposes the target element's value as a boolean. */\n\n\nfunction handleBooleanChange(handler) {\n  return function (event) {\n    return handler(event.target.checked);\n  };\n}\n\nvar expand = require('css-shorthand-expand');\n\nfunction PaddingStyleEditor(props) {\n  var contentStyle = props.contentStyle,\n      setContentStyle = props.setContentStyle;\n  var padding = expand('padding', contentStyle.padding || '0');\n  var commonProps = {\n    layout: 'v',\n    min: 0,\n    max: 99,\n    style: {\n      width: 38\n    }\n  };\n  var top = parseInt(padding['padding-top']);\n  var right = parseInt(padding['padding-right']);\n  var bottom = parseInt(padding['padding-bottom']);\n  var left = parseInt(padding['padding-left']);\n  var p = {\n    top: top,\n    right: right,\n    bottom: bottom,\n    left: left\n  };\n\n  var setPadding = function setPadding(dir) {\n    return function (v) {\n      var _a;\n\n      setContentStyle({\n        padding: paddingCss(_assign(_assign({}, p), (_a = {}, _a[dir] = v, _a)))\n      });\n    };\n  };\n\n  var topProps = _assign(_assign({}, commonProps), {\n    title: 'top',\n    value: top,\n    onValueChange: setPadding('top')\n  });\n\n  var rightProps = _assign(_assign({}, commonProps), {\n    title: 'right',\n    value: right,\n    onValueChange: setPadding('right')\n  });\n\n  var bottomProps = _assign(_assign({}, commonProps), {\n    title: 'bottom',\n    value: bottom,\n    onValueChange: setPadding('bottom')\n  });\n\n  var leftProps = _assign(_assign({}, commonProps), {\n    title: 'left',\n    value: left,\n    onValueChange: setPadding('left')\n  });\n\n  return createElement(SettingGroup, null, createElement(SettingTitle, null, \"Padding\"), createElement(SettingRow, null, createElement(SettingItemNumericInput, _assign({}, topProps)), createElement(SettingItemNumericInput, _assign({}, rightProps)), createElement(SettingItemNumericInput, _assign({}, bottomProps)), createElement(SettingItemNumericInput, _assign({}, leftProps))));\n}\n\nvar TopicThemeEditorRoot = styled.div(templateObject_1$k || (templateObject_1$k = __makeTemplateObject([\"\\n  height: 250px;\\n  overflow: auto;\\n\"], [\"\\n  height: 250px;\\n  overflow: auto;\\n\"])));\n\nfunction TopicThemeEditor(props) {\n  var topicStyle = props.topicStyle,\n      setTopicStyle = props.setTopicStyle;\n  var _a = topicStyle.contentStyle,\n      contentStyle = _a === void 0 ? {} : _a,\n      _b = topicStyle.linkStyle,\n      linkStyle = _b === void 0 ? {} : _b,\n      _c = topicStyle.subLinkStyle,\n      subLinkStyle = _c === void 0 ? {} : _c;\n\n  var setContentStyle = function setContentStyle(contentStyle) {\n    setTopicStyle({\n      contentStyle: contentStyle\n    });\n  };\n\n  var nProps = {\n    contentStyle: contentStyle,\n    setContentStyle: setContentStyle\n  };\n\n  var setLinkStyle = function setLinkStyle(linkStyle) {\n    setTopicStyle({\n      linkStyle: linkStyle\n    });\n  };\n\n  var setSubLinkStyle = function setSubLinkStyle(subLinkStyle) {\n    setTopicStyle({\n      subLinkStyle: subLinkStyle\n    });\n  };\n\n  var linkStyleEditorProps = {\n    showLinkStyle: false,\n    linkStyle: linkStyle,\n    subLinkStyle: subLinkStyle,\n    setLinkStyle: setLinkStyle,\n    setSubLinkStyle: setSubLinkStyle\n  };\n  return createElement(TopicThemeEditorRoot, null, createElement(BorderStyleEditor, _assign({}, nProps)), createElement(PaddingStyleEditor, _assign({}, nProps)), createElement(TextStyleEditor, _assign({}, nProps)), createElement(SettingGroup, null, createElement(SettingTitle, null, \"Background\"), createElement(SettingItemColorPicker, {\n    color: contentStyle.background,\n    handleColorChange: function handleColorChange(color) {\n      setContentStyle({\n        background: color\n      });\n    }\n  })), createElement(LinkStyleEditor, _assign({}, linkStyleEditorProps)));\n}\n\nvar templateObject_1$k;\nvar tabId = 'normal';\n\nfunction ThemeEditor(props) {\n  var _a = __read(useState(false), 2),\n      showExportDialog = _a[0],\n      setShowExportDialog = _a[1];\n\n  var _b = __read(useState(false), 2),\n      alertThemeError = _b[0],\n      setAlertThemeError = _b[1];\n\n  var model = props.model,\n      controller = props.controller;\n  var theme = model.config.theme;\n  var rootTopic = theme.rootTopic,\n      primaryTopic = theme.primaryTopic,\n      normalTopic = theme.normalTopic;\n\n  var setTheme = function setTheme(theme) {\n    controller.run('operation', _assign(_assign({}, props), {\n      opType: OpType.SET_THEME,\n      theme: clone(theme)\n    }));\n  };\n\n  var handleBackgroundColorChange = function handleBackgroundColorChange(background) {\n    setTheme(merge(theme, {\n      background: background\n    }));\n  };\n\n  var handleHighlightColorChange = function handleHighlightColorChange(highlightColor) {\n    setTheme(merge(theme, {\n      highlightColor: highlightColor\n    }));\n  };\n\n  var handleRandomColorChange = handleBooleanChange(function (randomColor) {\n    setTheme(merge(theme, {\n      randomColor: randomColor\n    }));\n  });\n\n  var setRootTopicStyle = function setRootTopicStyle(style) {\n    setTheme(merge(theme, {\n      rootTopic: style\n    }));\n  };\n\n  var setPrimaryTopicStyle = function setPrimaryTopicStyle(style) {\n    setTheme(merge(theme, {\n      primaryTopic: style\n    }));\n  };\n\n  var setNormalTopicStyle = function setNormalTopicStyle(style) {\n    setTheme(merge(theme, {\n      normalTopic: style\n    }));\n  };\n\n  var rootTopicEditorProps = {\n    topicStyle: rootTopic,\n    setTopicStyle: setRootTopicStyle\n  };\n  var rootTopicEditor = createElement(TopicThemeEditor, _assign({}, rootTopicEditorProps));\n  var primaryTopicEditorProps = {\n    topicStyle: primaryTopic,\n    setTopicStyle: setPrimaryTopicStyle\n  };\n  var primaryTopicEditor = createElement(TopicThemeEditor, _assign({}, primaryTopicEditorProps));\n  var normalTopicEditorProps = {\n    topicStyle: normalTopic,\n    setTopicStyle: setNormalTopicStyle\n  };\n  var normalTopicEditor = createElement(TopicThemeEditor, _assign({}, normalTopicEditorProps));\n  var tabsProps = {\n    id: tabId,\n    handleTabIdChange: function handleTabIdChange(id) {\n      tabId = id;\n    }\n  };\n  var topicThemes = createElement(SettingBoxContainer, null, createElement(Tabs, _assign({}, tabsProps), createElement(Tab, {\n    id: \"normal\",\n    title: \"NormalTopic\",\n    panel: normalTopicEditor\n  }), createElement(Tab, {\n    id: \"primary\",\n    title: \"PrimaryTopic\",\n    panel: primaryTopicEditor\n  }), createElement(Tab, {\n    id: \"root\",\n    title: \"RootTopic\",\n    panel: rootTopicEditor\n  })));\n\n  var handleExportTheme = function handleExportTheme(e) {\n    // setShowExportDialog(true);\n    var text = JSON.stringify(theme);\n    browserDownloadText(text, 'blink-mind-theme.json');\n  };\n\n  var handleImportTheme = function handleImportTheme(e) {\n    browserOpenFile('.json,.txt').then(function (txt) {\n      var t = JSON.parse(txt);\n\n      if (!isThemeType(t)) {\n        setAlertThemeError(true);\n        return;\n      }\n\n      setTheme(t);\n    });\n  };\n\n  var alertProps = {\n    isOpen: alertThemeError,\n    onClose: function onClose(e) {\n      setAlertThemeError(false);\n    }\n  };\n  var alert = createElement(Alert, _assign({}, alertProps), createElement(\"p\", null, \"File format error\"));\n  return createElement(PanelTabRoot, null, createElement(SettingGroup, null, createElement(SettingTitle, null, \"Global\"), createElement(SettingRow, null, createElement(SettingLabel, null, \"Background:\"), createElement(SettingItemColorPicker, {\n    color: theme.background,\n    handleColorChange: handleBackgroundColorChange\n  }), createElement(SettingLabel, null, \"Highlight:\"), createElement(SettingItemColorPicker, {\n    color: theme.highlightColor,\n    handleColorChange: handleHighlightColorChange\n  }), createElement(SettingLabel, null, \"Random Color:\"), createElement(StyledCheckbox, {\n    checked: theme.randomColor,\n    onChange: handleRandomColorChange\n  }))), topicThemes, createElement(SettingGroup, null, createElement(SettingItemButton, {\n    title: \"Export Theme\",\n    handleClick: handleExportTheme\n  }), createElement(SettingItemButton, {\n    title: \"Import Theme\",\n    handleClick: handleImportTheme\n  })), alert);\n}\n\nfunction RightTopPanelPlugin() {\n  var selectedTabId = 'topic-style';\n\n  var handleTabIdChange = function handleTabIdChange(tabId) {\n    selectedTabId = tabId;\n  };\n\n  return {\n    renderRightTopPanel: function renderRightTopPanel(props) {\n      var nProps = _assign(_assign({}, props), {\n        key: 'right-top-panel',\n        selectedTabId: selectedTabId,\n        handleTabIdChange: handleTabIdChange\n      });\n\n      return createElement(RightTopPanel, _assign({}, nProps));\n    },\n    renderRightTopPanelTabs: function renderRightTopPanelTabs(props) {\n      var controller = props.controller;\n      var styleEditorTab = controller.run('renderTopicStyleEditor', props);\n      var themeEditorTab = controller.run('renderThemeEditor', props);\n      return [styleEditorTab, themeEditorTab];\n    },\n    renderTopicStyleEditor: function renderTopicStyleEditor(props) {\n      var tProps = {\n        id: 'topic-style',\n        key: 'topic-style',\n        title: 'TopicStyle',\n        panel: createElement(StyleEditor, _assign({}, props))\n      };\n      return createElement(Tab, _assign({}, tProps));\n    },\n    renderThemeEditor: function renderThemeEditor(props) {\n      var tProps = {\n        id: 'theme-editor',\n        key: 'theme-editor',\n        title: 'Theme',\n        panel: createElement(ThemeEditor, _assign({}, props))\n      };\n      return createElement(Tab, _assign({}, tProps));\n    }\n  };\n}\n\nvar log$g = debug('plugin:utils');\n\nfunction UtilsPlugin() {\n  var tempValueMap = new Map();\n  var eventListenerMap = new Map();\n  return {\n    addTempValueChangeListener: function addTempValueChangeListener(props) {\n      var key = props.key,\n          listener = props.listener;\n\n      if (!eventListenerMap.has(key)) {\n        eventListenerMap.set(key, []);\n      }\n\n      eventListenerMap.get(key).push(listener);\n    },\n    removeTempValueChangeListener: function removeTempValueChangeListener(props) {\n      var key = props.key,\n          listener = props.listener;\n\n      if (eventListenerMap.has(key)) {\n        eventListenerMap[key] = eventListenerMap.get(key).filter(function (l) {\n          return l !== listener;\n        });\n      }\n    },\n    getTempValue: function getTempValue(props) {\n      var key = props.key;\n      log$g('getTempValue', key);\n      return tempValueMap.get(key);\n    },\n    setTempValue: function setTempValue(props) {\n      var e_1, _a;\n\n      var key = props.key,\n          value = props.value;\n      log$g('setTempValue', key);\n      tempValueMap.set(key, value);\n\n      if (eventListenerMap.has(key)) {\n        var listeners = eventListenerMap.get(key);\n\n        try {\n          for (var listeners_1 = __values(listeners), listeners_1_1 = listeners_1.next(); !listeners_1_1.done; listeners_1_1 = listeners_1.next()) {\n            var listener = listeners_1_1.value;\n            listener(value);\n          }\n        } catch (e_1_1) {\n          e_1 = {\n            error: e_1_1\n          };\n        } finally {\n          try {\n            if (listeners_1_1 && !listeners_1_1.done && (_a = listeners_1.return)) _a.call(listeners_1);\n          } finally {\n            if (e_1) throw e_1.error;\n          }\n        }\n      }\n    },\n    deleteTempValue: function deleteTempValue(props) {\n      var key = props.key;\n      log$g('deleteTempValue', key);\n      var value = tempValueMap.get(key);\n      tempValueMap.delete(key);\n      return value;\n    }\n  };\n}\n\nfunction ReactPlugin(options) {\n  return [RenderingPlugin(), UtilsPlugin(), ContextMenuPlugin(), RightTopPanelPlugin(), DragAndDropPlugin()];\n}\n\nvar log$h = debug('plugin:StylePlugin');\n\nfunction StylePlugin() {\n  var colorMap = new Map();\n  var colorIndex = 0;\n  return {\n    getTopicStyle: function getTopicStyle(props) {\n      var controller = props.controller;\n      return {\n        contentStyle: controller.run('getTopicContentStyle', props),\n        linkStyle: controller.run('getLinkStyle', props),\n        subLinkStyle: controller.run('getSubLinkStyle', props)\n      };\n    },\n    getTopicContentStyle: function getTopicContentStyle(props) {\n      var topicKey = props.topicKey,\n          model = props.model,\n          controller = props.controller;\n      log$h('getTopicContentStyle:', topicKey, model);\n      var visualLevel = model.getTopicVisualLevel(topicKey);\n      var theme = model.config.theme;\n      var themeStyle;\n      if (visualLevel === TopicVisualLevel.ROOT) themeStyle = theme.rootTopic;else if (visualLevel === TopicVisualLevel.PRIMARY) themeStyle = theme.primaryTopic;else themeStyle = theme.normalTopic;\n      themeStyle = _assign(_assign({}, theme.contentStyle), themeStyle.contentStyle);\n\n      if (theme.randomColor) {\n        var randomColor = controller.run('getRandomColor', props);\n        themeStyle = _assign(_assign({}, themeStyle), {\n          background: randomColor,\n          borderColor: randomColor,\n          subLinkStyle: _assign(_assign({}, themeStyle.subLinkStyle), {\n            lineColor: randomColor\n          })\n        });\n      }\n\n      var topic = model.getTopic(topicKey);\n\n      if (!topic.style) {\n        return themeStyle;\n      }\n\n      var customStyle = JSON.parse(topic.style);\n      return _assign(_assign({}, themeStyle), customStyle.contentStyle);\n    },\n    getLinkStyle: function getLinkStyle(props) {\n      var topicKey = props.topicKey,\n          model = props.model,\n          controller = props.controller;\n      log$h('getLinkStyle', topicKey);\n      var visualLevel = model.getTopicVisualLevel(topicKey);\n      var theme = model.config.theme;\n      var linkStyle = theme.linkStyle;\n      var presetStyle;\n      if (visualLevel === TopicVisualLevel.ROOT) presetStyle = theme.rootTopic.linkStyle;else if (visualLevel === TopicVisualLevel.PRIMARY) presetStyle = theme.primaryTopic.linkStyle;else presetStyle = theme.normalTopic.linkStyle;\n      linkStyle = _assign(_assign({}, linkStyle), presetStyle);\n      var topic = model.getTopic(topicKey);\n\n      if (topic.parentKey != null) {\n        var parentSubLinkStyle = controller.run('getSubLinkStyle', _assign(_assign({}, props), {\n          topicKey: topic.parentKey\n        }));\n        linkStyle = _assign(_assign({}, linkStyle), parentSubLinkStyle);\n      }\n\n      if (!topic.style) {\n        return linkStyle;\n      }\n\n      var customStyle = JSON.parse(topic.style);\n      return _assign(_assign({}, linkStyle), customStyle.linkStyle);\n    },\n    getSubLinkStyle: function getSubLinkStyle(props) {\n      var topicKey = props.topicKey,\n          model = props.model,\n          controller = props.controller;\n      log$h('getLinkStyle', topicKey);\n      var visualLevel = model.getTopicVisualLevel(topicKey);\n      var theme = model.config.theme;\n      var subLinkStyle = theme.linkStyle;\n      var presetStyle;\n      if (visualLevel === TopicVisualLevel.ROOT) presetStyle = theme.rootTopic.subLinkStyle;else if (visualLevel === TopicVisualLevel.PRIMARY) presetStyle = theme.primaryTopic.subLinkStyle;else presetStyle = theme.normalTopic.subLinkStyle;\n      subLinkStyle = _assign(_assign({}, subLinkStyle), presetStyle);\n      var topic = model.getTopic(topicKey); // color\n\n      if (theme.randomColor) {\n        var randomColor = controller.run('getRandomColor', props);\n        log$h(randomColor);\n        subLinkStyle = _assign(_assign({}, subLinkStyle), {\n          lineColor: randomColor\n        });\n      }\n\n      if (!topic.style) {\n        return subLinkStyle;\n      }\n\n      var customStyle = JSON.parse(topic.style);\n\n      var res = _assign(_assign({}, subLinkStyle), customStyle.subLinkStyle); // if (res.lineRadius == null) res.lineRadius = 5;\n\n\n      return res;\n    },\n    setTopicContentStyle: function setTopicContentStyle(props) {\n      var topicKey = props.topicKey,\n          controller = props.controller,\n          style = props.style,\n          model = props.model;\n      var topic = model.getTopic(topicKey);\n      var topicStyle = topic.style;\n      var styleObj = topicStyle ? JSON.parse(topicStyle) : {};\n\n      var newStyleObj = _assign(_assign({}, styleObj), {\n        contentStyle: _assign(_assign({}, styleObj.contentStyle), style)\n      });\n\n      if (!isEqual(styleObj, newStyleObj)) {\n        var newStyleStr = JSON.stringify(newStyleObj);\n        controller.run('operation', _assign(_assign({}, props), {\n          opType: OpType.SET_STYLE,\n          style: newStyleStr\n        }));\n      }\n    },\n    setLinkStyle: function setLinkStyle(props) {\n      var topicKey = props.topicKey,\n          controller = props.controller,\n          linkStyle = props.linkStyle,\n          model = props.model;\n      var topic = model.getTopic(topicKey);\n      var style = topic.style;\n      var styleObj = style ? JSON.parse(style) : {};\n\n      var newStyleObj = _assign(_assign({}, styleObj), {\n        linkStyle: _assign(_assign({}, styleObj.linkStyle), linkStyle)\n      });\n\n      if (!isEqual(styleObj, newStyleObj)) {\n        var newStyleStr = JSON.stringify(newStyleObj);\n        controller.run('operation', _assign(_assign({}, props), {\n          opType: OpType.SET_STYLE,\n          style: newStyleStr\n        }));\n      }\n    },\n    setSubLinkStyle: function setSubLinkStyle(props) {\n      var topicKey = props.topicKey,\n          controller = props.controller,\n          subLinkStyle = props.subLinkStyle,\n          model = props.model;\n      var topic = model.getTopic(topicKey);\n      var style = topic.style;\n      var styleObj = style ? JSON.parse(style) : {};\n\n      var newStyleObj = _assign(_assign({}, styleObj), {\n        subLinkStyle: _assign(_assign({}, styleObj.subLinkStyle), subLinkStyle)\n      });\n\n      if (!isEqual(styleObj, newStyleObj)) {\n        var newStyleStr = JSON.stringify(newStyleObj);\n        controller.run('operation', _assign(_assign({}, props), {\n          opType: OpType.SET_STYLE,\n          style: newStyleStr\n        }));\n      }\n    },\n    getTopicThemeStyle: function getTopicThemeStyle(props) {\n      var topicKey = props.topicKey,\n          model = props.model;\n      var visualLevel = model.getTopicVisualLevel(topicKey);\n      var theme = model.config.theme;\n      if (visualLevel === TopicVisualLevel.ROOT) return theme.rootTopic;\n      if (visualLevel === TopicVisualLevel.PRIMARY) return theme.primaryTopic;\n      return theme.normalTopic;\n    },\n    getRandomColor: function getRandomColor(props) {\n      var topicKey = props.topicKey;\n      if (colorMap.has(topicKey)) return colorMap.get(topicKey);\n      var colors = ['#00CC99', '#FFEE88', '#A167A5', '#E5F993', '#F5C396', '#DB995A', '#83BCFF', '#ED7B84', '#739E82', '#D3BCC0', '#FFA0FD', '#EFD3D7', '#C6878F'];\n      var color = colors[++colorIndex % colors.length];\n      colorMap.set(topicKey, color);\n      log$h('getRandomColor', topicKey, color);\n      return color;\n    },\n    clearAllCustomStyle: function clearAllCustomStyle(props) {\n      var model = props.model,\n          controller = props.controller;\n      var newModel = model.withMutations(function (model) {\n        model.topics.keySeq().forEach(function (key) {\n          model.setIn(['topics', key, 'style'], null);\n        });\n      });\n      controller.change(newModel);\n    }\n  };\n}\n\nfunction DefaultPlugin() {\n  return [ReactPlugin(), LayoutPlugin(), OperationPlugin(), StylePlugin(), EventPlugin(), HotKeyPlugin(), GetValuePlugin(), SimpleTextEditorPlugin()];\n}\n\nvar log$i = debug('node:Diagram');\n\nvar Diagram =\n/** @class */\nfunction (_super) {\n  __extends(Diagram, _super);\n\n  function Diagram() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.resolveController = memoizeOne(function (plugins, TheDefaultPlugin) {\n      if (plugins === void 0) {\n        plugins = [];\n      }\n\n      var defaultPlugin = TheDefaultPlugin();\n      _this.controller = new Controller({\n        plugins: [plugins, defaultPlugin],\n        construct: false,\n        onChange: _this.props.onChange\n      }); // this.controller.run('onConstruct');\n    });\n    return _this;\n  }\n\n  Diagram.prototype.getDiagramProps = function () {\n    return this.controller.run('getDiagramProps');\n  };\n\n  Diagram.prototype.openNewModel = function (newModel) {\n    var _this = this;\n\n    var props = this.getDiagramProps();\n    var model = props.model,\n        controller = props.controller;\n    controller.run('deleteRefKey', _assign(_assign({}, props), {\n      topicKey: model.rootTopicKey\n    }));\n    controller.run('operation', _assign(_assign({}, props), {\n      opType: OpType.EXPAND_TO,\n      topicKey: newModel.focusKey,\n      model: newModel,\n      callback: function callback() {\n        var props = _this.getDiagramProps();\n\n        var model = props.model;\n        controller.run('moveTopicToCenter', _assign(_assign({}, props), {\n          topicKey: model.focusKey\n        }));\n      }\n    }));\n  };\n\n  Diagram.prototype.render = function () {\n    var plugins = this.props.plugins;\n    this.resolveController(plugins, DefaultPlugin);\n    this.diagramProps = _assign(_assign({}, this.props), {\n      controller: this.controller\n    });\n    return this.controller.run('renderDiagram', this.diagramProps);\n  };\n\n  return Diagram;\n}(Component);\n\nexport { BaseWidget, Btn, CloseIcon, DefaultPlugin, Diagram, DragScrollWidget, EventKey, Flex, HotKeyName, HotKeyPlugin, Icon, IconBg, IconName, Margin, PanelTabRoot, PropKey, RefKey, SaveRef, ShowMenuIcon, StyledCheckbox, Title, TopicBlockIcon, ZIndex, browserDownloadFile, browserDownloadText, browserOpenFile, cancelEvent, center, centerPointX, centerPointY, centerX, centerY, collapseRefKey, contentEditorRefKey, contentRefKey, descEditorRefKey, dropAreaRefKey, getLinkKey, _getRelativeRect as getRelativeRect, getRelativeVector, iconClassName, linksRefKey, linksSvgRefKey, paddingCss, topicRefKey, topicWidgetRefKey };","import { BlockType } from '@blink-mind/core';\nimport { createElement } from 'react';\nimport { BaseWidget, descEditorRefKey } from '@blink-mind/renderer-react';\nimport RichMarkDownEditor from 'awehook-rich-markdown-editor';\nimport debug from 'debug';\nimport styled from 'styled-components';\nimport MarkdownSerializer from 'slate-md-serializer';\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\n\n/* global Reflect, Promise */\n\nvar _extendStatics = function extendStatics(d, b) {\n  _extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) {\n      if (b.hasOwnProperty(p)) d[p] = b[p];\n    }\n  };\n\n  return _extendStatics(d, b);\n};\n\nfunction __extends(d, b) {\n  _extendStatics(d, b);\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nvar _assign = function __assign() {\n  _assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return _assign.apply(this, arguments);\n};\n\nfunction __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n}\n\nvar log = debug('node:topic-content-editor');\nvar NodeContent = styled.div(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  \", \";\\n\"], [\"\\n  \", \";\\n\"])), function (props) {\n  return !props.readOnly && \"\\n    // padding: 75px\\n    // min-width: 150px\\n    // min-height: 150px\\n  \";\n});\n\nvar RichTextEditor =\n/** @class */\nfunction (_super) {\n  __extends(RichTextEditor, _super);\n\n  function RichTextEditor(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.onMouseDown = function (e) {\n      e.stopPropagation();\n    };\n\n    _this.onMouseMove = function (e) {\n      e.stopPropagation();\n    };\n\n    _this.rootRef = function (saveRef) {\n      return function (ref) {\n        saveRef(ref);\n        _this.root = ref;\n      };\n    };\n\n    _this._handleClick = function (event) {\n      var wasOutside = !_this.root.contains(event.target);\n      wasOutside && _this.onClickOutSide(event);\n    };\n\n    _this.initState();\n\n    return _this;\n  }\n\n  RichTextEditor.prototype.initState = function () {\n    this.state = {\n      content: this.getContent()\n    };\n  };\n\n  RichTextEditor.prototype.getContent = function () {\n    var block = this.getCustomizeProps().block;\n    return block.data;\n  };\n\n  RichTextEditor.prototype.onChange = function (value) {\n    this.setState({\n      content: value\n    });\n  };\n\n  RichTextEditor.prototype.getCustomizeProps = function () {\n    return null;\n  };\n\n  RichTextEditor.prototype.componentDidMount = function () {\n    document.addEventListener('click', this._handleClick);\n  };\n\n  RichTextEditor.prototype.componentWillUnmount = function () {\n    document.removeEventListener('click', this._handleClick);\n  };\n\n  RichTextEditor.prototype.onClickOutSide = function (e) {};\n\n  RichTextEditor.prototype.render = function () {\n    var _a = this.props,\n        topicKey = _a.topicKey,\n        saveRef = _a.saveRef;\n\n    var _b = this.getCustomizeProps(),\n        readOnly = _b.readOnly,\n        getRefKeyFunc = _b.getRefKeyFunc,\n        placeholder = _b.placeholder;\n\n    log('readOnly:', readOnly);\n    var content = readOnly ? this.getContent() : this.state.content;\n    if (content == null) return null;\n    var key = getRefKeyFunc(topicKey);\n\n    var _c = this,\n        onMouseDown = _c.onMouseDown,\n        onMouseMove = _c.onMouseMove;\n\n    var richEditorProps = {\n      editorValue: content,\n      readOnly: readOnly,\n      onChange: this.onChange.bind(this),\n      placeholder: placeholder\n    };\n    var nodeContentProps = {\n      key: key,\n      ref: this.rootRef(saveRef(key)),\n      readOnly: readOnly,\n      onMouseDown: onMouseDown,\n      onMouseMove: onMouseMove\n    };\n    return createElement(NodeContent, _assign({}, nodeContentProps), createElement(RichMarkDownEditor, _assign({}, richEditorProps)));\n  };\n\n  return RichTextEditor;\n}(BaseWidget);\n\nvar templateObject_1;\n\nvar TopicDescEditor =\n/** @class */\nfunction (_super) {\n  __extends(TopicDescEditor, _super);\n\n  function TopicDescEditor() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  TopicDescEditor.prototype.initState = function () {\n    _super.prototype.initState.call(this);\n\n    var _a = this.props,\n        controller = _a.controller,\n        topicKey = _a.topicKey;\n    var key = \"topic-desc-data-\" + topicKey;\n    var value = this.state.content;\n    controller.run('setTempValue', {\n      key: key,\n      value: value\n    });\n  };\n\n  TopicDescEditor.prototype.getCustomizeProps = function () {\n    var _a = this.props,\n        model = _a.model,\n        topicKey = _a.topicKey;\n    var block = model.getTopic(topicKey).getBlock(BlockType.DESC).block;\n    var readOnly = model.editingDescKey !== topicKey; //TODO\n\n    var getRefKeyFunc = descEditorRefKey;\n    return {\n      block: block,\n      readOnly: readOnly,\n      getRefKeyFunc: getRefKeyFunc,\n      placeholder: 'write topic notes here'\n    };\n  };\n\n  TopicDescEditor.prototype.onChange = function (value) {\n    var _a = this.props,\n        controller = _a.controller,\n        topicKey = _a.topicKey;\n    var key = \"topic-desc-data-\" + topicKey;\n    controller.run('setTempValue', {\n      key: key,\n      value: value\n    });\n    this.setState({\n      content: value\n    });\n  };\n\n  return TopicDescEditor;\n}(RichTextEditor);\n\nvar markdownSerializer = new MarkdownSerializer();\n\nfunction RichTextEditorPlugin() {\n  return {\n    renderTopicDescEditor: function renderTopicDescEditor(props) {\n      return createElement(TopicDescEditor, _assign({}, props));\n    },\n    isBlockEmpty: function isBlockEmpty(props, next) {\n      var block = props.block,\n          controller = props.controller;\n\n      if (block.type === BlockType.CONTENT || block.type === BlockType.DESC) {\n        return block.data == null || controller.run('serializeBlockData', props) === '';\n      }\n\n      return next();\n    },\n    serializeBlockData: function serializeBlockData(props, next) {\n      var block = props.block;\n\n      if (block.type === BlockType.DESC) {\n        return typeof block.data === 'string' ? block.data : markdownSerializer.serialize(block.data);\n      }\n\n      return next();\n    }\n  };\n}\n\nexport default RichTextEditorPlugin;","import { Model, FocusMode, Config, Topic, Block } from '@blink-mind/core';\nimport debug from 'debug';\nimport { Map, isImmutable, List } from 'immutable';\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\n\nvar _assign = function __assign() {\n  _assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return _assign.apply(this, arguments);\n};\n\nvar log = debug('plugin:json-serializer');\n\nfunction JsonSerializerPlugin() {\n  return {\n    serializeModel: function serializeModel(props, next) {\n      var nextRes = next();\n      if (nextRes != null) return nextRes;\n      var model = props.model,\n          controller = props.controller;\n      var obj = {\n        rootTopicKey: model.rootTopicKey,\n        editorRootTopicKey: model.editorRootTopicKey,\n        focusKey: model.focusKey,\n        extData: controller.run('serializeExtData', _assign(_assign({}, props), {\n          extData: model.extData\n        })),\n        topics: model.topics.valueSeq().toArray().map(function (topic) {\n          return controller.run('serializeTopic', _assign(_assign({}, props), {\n            topic: topic\n          }));\n        }),\n        config: controller.run('serializeConfig', _assign(_assign({}, props), {\n          config: model.config\n        })),\n        formatVersion: model.formatVersion\n      };\n      return obj;\n    },\n    deserializeModel: function deserializeModel(props, next) {\n      var nextRes = next();\n      if (nextRes != null) return nextRes;\n      var obj = props.obj,\n          controller = props.controller;\n\n      if (obj.formatVersion == null) {\n        obj.formatVersion = '0.0';\n      }\n\n      var rootTopicKey = obj.rootTopicKey,\n          editorRootTopicKey = obj.editorRootTopicKey,\n          focusKey = obj.focusKey,\n          topics = obj.topics,\n          config = obj.config,\n          extData = obj.extData,\n          formatVersion = obj.formatVersion;\n      var res = new Model();\n      res = res.merge({\n        rootTopicKey: rootTopicKey,\n        editorRootTopicKey: editorRootTopicKey == null ? rootTopicKey : editorRootTopicKey,\n        focusKey: focusKey,\n        extData: controller.run('deserializeExtData', _assign(_assign({}, props), {\n          extData: extData,\n          formatVersion: formatVersion\n        })),\n        config: controller.run('deserializeConfig', _assign(_assign({}, props), {\n          config: config,\n          formatVersion: formatVersion\n        })),\n        topics: controller.run('deserializeTopics', _assign(_assign({}, props), {\n          topics: topics,\n          formatVersion: formatVersion\n        })),\n        formatVersion: obj.formatVersion\n      });\n\n      if (res.focusKey == null) {\n        res = res.set('focusKey', res.rootTopicKey);\n      }\n\n      if (res.focusMode == null) {\n        res = res.set('focusMode', FocusMode.NORMAL);\n      }\n\n      log('deserializeModel', res);\n      return res;\n    },\n    serializeExtData: function serializeExtData(props, next) {\n      var nextRes = next();\n      if (nextRes != null) return nextRes;\n      var extData = props.extData,\n          controller = props.controller;\n      var res = {};\n      extData.forEach(function (v, k) {\n        res[k] = controller.run('serializeExtDataItem', {\n          props: props,\n          extDataKey: k,\n          extDataItem: v\n        });\n      });\n      return res;\n    },\n    deserializeExtData: function deserializeExtData(props, next) {\n      var nextRes = next();\n      if (nextRes != null) return nextRes;\n      var extData = props.extData,\n          controller = props.controller;\n      var res = Map();\n\n      for (var extDataKey in extData) {\n        res = res.set(extDataKey, controller.run('deserializeExtDataItem', _assign(_assign({}, props), {\n          extDataKey: extDataKey,\n          extDataItem: extData[extDataKey]\n        })));\n      }\n\n      return res;\n    },\n    serializeExtDataItem: function serializeExtDataItem(props, next) {\n      var nextRes = next();\n      if (nextRes != null) return nextRes;\n      var extDataItem = props.extDataItem;\n\n      if (isImmutable(extDataItem)) {\n        return extDataItem.toJS();\n      }\n\n      return extDataItem;\n    },\n    deserializeExtDataItem: function deserializeExtDataItem(props, next) {\n      var nextRes = next();\n      if (nextRes != null) return nextRes;\n      var extDataItem = props.extDataItem;\n      return extDataItem;\n    },\n    serializeConfig: function serializeConfig(props, next) {\n      var nextRes = next();\n      if (nextRes != null) return nextRes;\n      var config = props.config;\n      return config.toJS();\n    },\n    deserializeConfig: function deserializeConfig(props, next) {\n      var nextRes = next();\n      if (nextRes != null) return nextRes;\n      var config = props.config;\n      return new Config(config);\n    },\n    serializeTopic: function serializeTopic(props, next) {\n      var nextRes = next();\n      if (nextRes != null) return nextRes;\n      var topic = props.topic,\n          controller = props.controller;\n      return {\n        key: topic.key,\n        parentKey: topic.parentKey,\n        subKeys: topic.subKeys.toArray(),\n        collapse: topic.collapse,\n        style: topic.style,\n        blocks: topic.blocks.map(function (block) {\n          return controller.run('serializeBlock', _assign(_assign({}, props), {\n            block: block\n          }));\n        })\n      };\n    },\n    deserializeTopic: function deserializeTopic(props, next) {\n      var nextRes = next();\n      if (nextRes != null) return nextRes;\n      var topic = props.topic,\n          controller = props.controller;\n      var key = topic.key,\n          parentKey = topic.parentKey,\n          subKeys = topic.subKeys,\n          blocks = topic.blocks,\n          style = topic.style,\n          collapse = topic.collapse;\n      var res = new Topic();\n      res = res.merge({\n        key: key,\n        parentKey: parentKey,\n        subKeys: List(subKeys),\n        style: style,\n        collapse: collapse,\n        blocks: controller.run('deserializeBlocks', _assign(_assign({}, props), {\n          blocks: blocks\n        }))\n      });\n      return res;\n    },\n    deserializeTopics: function deserializeTopics(props, next) {\n      var nextRes = next();\n      if (nextRes != null) return nextRes;\n      var topics = props.topics,\n          controller = props.controller;\n      var res = Map();\n      res = res.withMutations(function (r) {\n        topics.forEach(function (topic) {\n          return r.set(topic.key, controller.run('deserializeTopic', _assign(_assign({}, props), {\n            topic: topic\n          })));\n        });\n      });\n      return res;\n    },\n    serializeBlock: function serializeBlock(props, next) {\n      var nextRes = next();\n      if (nextRes != null) return nextRes;\n      var block = props.block,\n          controller = props.controller;\n      var res = {\n        type: block.type,\n        data: controller.run('serializeBlockData', _assign({}, props))\n      };\n      return res;\n    },\n    serializeBlockData: function serializeBlockData(props, next) {\n      var nextRes = next();\n      if (nextRes != null) return nextRes;\n      var block = props.block;\n      return block.data;\n    },\n    deserializeBlock: function deserializeBlock(props, next) {\n      var nextRes = next();\n      if (nextRes != null) return nextRes;\n      var block = props.block,\n          controller = props.controller;\n      var type = block.type;\n      return new Block({\n        type: type,\n        data: controller.run('deserializeBlockData', _assign(_assign({}, props), {\n          block: block\n        }))\n      });\n    },\n    deserializeBlockData: function deserializeBlockData(props, next) {\n      var nextRes = next();\n      if (nextRes != null) return nextRes;\n      var block = props.block;\n      return block.data;\n    },\n    deserializeBlocks: function deserializeBlocks(props, next) {\n      var nextRes = next();\n      if (nextRes != null) return nextRes;\n      var blocks = props.blocks,\n          controller = props.controller;\n      var res = List();\n      res = res.withMutations(function (res) {\n        blocks.forEach(function (block) {\n          return res.push(controller.run('deserializeBlock', _assign(_assign({}, props), {\n            block: block\n          })));\n        });\n      });\n      return res;\n    }\n  };\n}\n\nexport { JsonSerializerPlugin };","import { ModelModifier, defaultTheme } from '@blink-mind/core';\nvar themeRandomColorSquare = {\n  name: 'default',\n  randomColor: true,\n  background: 'rgb(57,60,65)',\n  highlightColor: '#50C9CE',\n  marginH: 60,\n  marginV: 20,\n  contentStyle: {\n    lineHeight: '1.5',\n    fontSize: '16px'\n  },\n  linkStyle: {\n    lineRadius: 5,\n    lineType: 'curve',\n    lineWidth: '3px'\n  },\n  rootTopic: {\n    contentStyle: {\n      fontSize: '36px'\n    },\n    subLinkStyle: {\n      lineType: 'curve',\n      lineWidth: '3px'\n    }\n  },\n  primaryTopic: {\n    contentStyle: {\n      fontSize: '24px'\n    },\n    subLinkStyle: {\n      lineType: 'curve',\n      lineWidth: '3px'\n    }\n  },\n  normalTopic: {\n    subLinkStyle: {\n      lineType: 'curve',\n      lineWidth: '3px'\n    }\n  }\n};\nvar theme1 = {\n  name: 'theme1',\n  randomColor: false,\n  background: 'rgb(250,245,205)',\n  highlightColor: '#50C9CE',\n  marginH: 50,\n  marginV: 30,\n  contentStyle: {\n    lineHeight: '1.5'\n  },\n  linkStyle: {\n    lineRadius: 5\n  },\n  rootTopic: {\n    contentStyle: {\n      background: 'rgb(221, 170, 68)',\n      color: '#fff',\n      fontSize: '34px',\n      borderRadius: '5px',\n      padding: '16px 18px 16px 18px'\n    },\n    subLinkStyle: {\n      lineType: 'curve',\n      lineWidth: '2px',\n      lineColor: 'rgb(221, 170, 68)'\n    }\n  },\n  primaryTopic: {\n    contentStyle: {\n      background: '#e8eaec',\n      borderWidth: '2px',\n      borderStyle: 'solid',\n      borderColor: 'rgb(221, 170, 68)',\n      borderRadius: '5px',\n      fontSize: '17px',\n      padding: '10px 15px 10px 15px'\n    },\n    subLinkStyle: {\n      lineType: 'curve',\n      lineWidth: '2px',\n      lineColor: 'rgb(221, 170, 68)'\n    }\n  },\n  normalTopic: {\n    contentStyle: {\n      background: '#fff',\n      border: '1px solid #e8eaec',\n      borderRadius: '20px',\n      color: 'rgb(187, 136, 34)',\n      fontSize: '13px',\n      padding: '4px 10px'\n    },\n    subLinkStyle: {\n      lineType: 'round',\n      lineRadius: 5,\n      lineWidth: '1px',\n      lineColor: 'rgb(187, 136, 34)'\n    }\n  }\n};\nvar theme2 = {\n  name: 'theme2',\n  randomColor: false,\n  background: '#f8f8f8',\n  highlightColor: '#50C9CE',\n  marginH: 45,\n  marginV: 10,\n  contentStyle: {\n    lineHeight: '1.5'\n  },\n  linkStyle: {\n    lineRadius: 5\n  },\n  rootTopic: {\n    contentStyle: {\n      background: '#50C18A',\n      color: '#fff',\n      fontSize: '34px',\n      borderRadius: '5px',\n      padding: '16px 18px 16px 18px'\n    },\n    subLinkStyle: {\n      lineType: 'curve',\n      lineWidth: '2px',\n      lineColor: '#43a9ff'\n    }\n  },\n  primaryTopic: {\n    contentStyle: {\n      background: '#ffffff',\n      borderWidth: '1px',\n      borderStyle: 'solid',\n      borderColor: 'rgb(221, 170, 68)',\n      borderRadius: '5px',\n      color: 'rgb(103,103,103)',\n      fontSize: '14px',\n      padding: '6px 10px 5px 10px'\n    },\n    subLinkStyle: {\n      lineType: 'round',\n      lineRadius: 5,\n      lineWidth: '2px',\n      lineColor: '#43a9ff'\n    }\n  },\n  normalTopic: {\n    contentStyle: {\n      background: '#fff',\n      borderRadius: '5px',\n      color: 'rgb(103,103,103)',\n      fontSize: '13px',\n      padding: '3px 9px 4px',\n      boxShadow: '1px 1px 1px #ccc'\n    },\n    subLinkStyle: {\n      lineType: 'round',\n      lineRadius: 5,\n      lineWidth: '1px',\n      lineColor: '#43a9ff'\n    }\n  }\n};\nvar theme3 = {\n  name: 'theme3',\n  randomColor: false,\n  background: '#A9DEF9',\n  highlightColor: '#50C9CE',\n  marginH: 50,\n  marginV: 20,\n  contentStyle: {\n    lineHeight: '1.5'\n  },\n  linkStyle: {\n    lineRadius: 5\n  },\n  rootTopic: {\n    contentStyle: {\n      background: '#FF99C8',\n      color: '#fff',\n      fontSize: '34px',\n      borderRadius: '5px',\n      padding: '16px 18px 16px 18px'\n    },\n    subLinkStyle: {\n      lineType: 'curve',\n      lineWidth: '2px',\n      lineColor: '#43a9ff'\n    }\n  },\n  primaryTopic: {\n    contentStyle: {\n      background: '#FCF6BD',\n      borderWidth: '1px',\n      borderStyle: 'solid',\n      borderColor: '#E4C1F9',\n      borderRadius: '5px',\n      color: 'rgb(103,103,103)',\n      fontSize: '14px',\n      padding: '6px 10px 5px 10px'\n    },\n    subLinkStyle: {\n      lineType: 'curve',\n      lineWidth: '2px',\n      lineColor: '#43a9ff'\n    }\n  },\n  normalTopic: {\n    contentStyle: {\n      background: '#E4FDE1',\n      borderRadius: '5px',\n      color: 'rgb(103,103,103)',\n      fontSize: '13px',\n      padding: '3px 9px 4px',\n      boxShadow: '1px 1px 1px #ccc'\n    },\n    subLinkStyle: {\n      lineType: 'round',\n      lineRadius: 5,\n      lineWidth: '1px',\n      lineColor: '#43a9ff'\n    }\n  }\n};\nvar theme4 = {\n  name: 'theme3',\n  randomColor: false,\n  background: '#CCFBFE',\n  highlightColor: '#50C9CE',\n  marginH: 50,\n  marginV: 20,\n  contentStyle: {\n    lineHeight: '1.5'\n  },\n  linkStyle: {\n    lineRadius: 5\n  },\n  rootTopic: {\n    contentStyle: {\n      background: '#CD8987',\n      color: '#fff',\n      fontSize: '34px',\n      borderRadius: '5px',\n      padding: '16px 18px 16px 18px'\n    },\n    subLinkStyle: {\n      lineType: 'curve',\n      lineWidth: '2px',\n      lineColor: '#43a9ff'\n    }\n  },\n  primaryTopic: {\n    contentStyle: {\n      background: '#CDACA1',\n      borderWidth: '1px',\n      borderStyle: 'solid',\n      borderColor: '#E4C1F9',\n      borderRadius: '5px',\n      color: 'rgb(103,103,103)',\n      fontSize: '14px',\n      padding: '6px 10px 5px 10px'\n    },\n    subLinkStyle: {\n      lineType: 'line',\n      lineWidth: '2px',\n      lineColor: '#43a9ff'\n    }\n  },\n  normalTopic: {\n    contentStyle: {\n      background: '#CDCACC',\n      borderRadius: '5px',\n      color: 'rgb(103,103,103)',\n      fontSize: '13px',\n      padding: '3px 9px 4px',\n      boxShadow: '1px 1px 1px #ccc'\n    },\n    subLinkStyle: {\n      lineType: 'line',\n      lineRadius: 5,\n      lineWidth: '1px',\n      lineColor: '#43a9ff'\n    }\n  }\n};\n\nfunction ThemeSelectorPlugin() {\n  var themeMap = new Map([['default', defaultTheme], ['random-color-square', themeRandomColorSquare], ['theme1', theme1], ['theme2', theme2], ['theme3', theme3], ['theme4', theme4]]);\n  return {\n    getAllThemes: function getAllThemes(props) {\n      return themeMap;\n    },\n    setTheme: function setTheme(props) {\n      var model = props.model,\n          controller = props.controller,\n          themeKey = props.themeKey;\n      var allTheme = controller.run('getAllThemes', props);\n\n      if (!allTheme.has(themeKey)) {\n        throw new Error('setTheme: the theme key is not correct!');\n      }\n\n      var theme = allTheme.get(themeKey);\n      var newModel = ModelModifier.setTheme({\n        model: model,\n        theme: theme\n      });\n      controller.change(newModel);\n    }\n  };\n}\n\nexport { ThemeSelectorPlugin, theme1, theme2, theme3, theme4, themeRandomColorSquare };","import { OpType, FocusMode, ModelModifier } from '@blink-mind/core';\nimport { iconClassName, TopicBlockIcon, BaseWidget, Btn, Icon, IconName, cancelEvent } from '@blink-mind/renderer-react';\nimport { Alert, Tooltip, Position, Classes, Drawer, MenuDivider, MenuItem } from '@blueprintjs/core';\nimport { createElement, Component, Fragment } from 'react';\nimport { Topology } from 'topology-core';\nimport { registerNode } from 'topology-core/middles';\nimport { flowData, flowDataAnchors, flowDataIconRect, flowDataTextRect, flowSubprocess, flowSubprocessIconRect, flowSubprocessTextRect, flowDb, flowDbIconRect, flowDbTextRect, flowDocument, flowDocumentAnchors, flowDocumentIconRect, flowDocumentTextRect, flowInternalStorage, flowInternalStorageIconRect, flowInternalStorageTextRect, flowExternStorage, flowExternStorageAnchors, flowExternStorageIconRect, flowExternStorageTextRect, flowQueue, flowQueueIconRect, flowQueueTextRect, flowManually, flowManuallyAnchors, flowManuallyIconRect, flowManuallyTextRect, flowDisplay, flowDisplayAnchors, flowDisplayIconRect, flowDisplayTextRect, flowParallel, flowParallelAnchors, flowComment, flowCommentAnchors } from 'topology-flow-diagram';\nimport '@blink-mind/icons/iconfont/topology';\nimport styled from 'styled-components';\nimport { activityFinal, activityFinalIconRect, activityFinalTextRect, swimlaneV, swimlaneVIconRect, swimlaneVTextRect, swimlaneH, swimlaneHIconRect, swimlaneHTextRect, fork, forkHAnchors, forkIconRect, forkTextRect, forkVAnchors } from 'topology-activity-diagram';\nimport { simpleClass, simpleClassIconRect, simpleClassTextRect, interfaceClass, interfaceClassIconRect, interfaceClassTextRect } from 'topology-class-diagram';\nimport { lifeline, lifelineAnchors, lifelineIconRect, lifelineTextRect, sequenceFocus, sequenceFocusAnchors, sequenceFocusIconRect, sequenceFocusTextRect } from 'topology-sequence-diagram';\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\n\n/* global Reflect, Promise */\n\nvar _extendStatics = function extendStatics(d, b) {\n  _extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) {\n      if (b.hasOwnProperty(p)) d[p] = b[p];\n    }\n  };\n\n  return _extendStatics(d, b);\n};\n\nfunction __extends(d, b) {\n  _extendStatics(d, b);\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nvar _assign = function __assign() {\n  _assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return _assign.apply(this, arguments);\n};\n\nfunction __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n}\n\nvar FOCUS_MODE_EDITING_TOPOLOGY = 'FOCUS_MODE_EDITING_TOPOLOGY';\nvar OP_TYPE_START_EDITING_TOPOLOGY = 'OP_TYPE_START_EDITING_TOPOLOGY';\nvar BLOCK_TYPE_TOPOLOGY = 'TOPOLOGY';\nvar REF_KEY_TOPOLOGY_DIAGRAM = 'TOPOLOGY_DIAGRAM';\nvar REF_KEY_TOPOLOGY_DIAGRAM_UTIL = 'TOPOLOGY_DIAGRAM_UTIL';\n\nfunction TopicBlockTopology(props) {\n  var controller = props.controller,\n      model = props.model,\n      topicKey = props.topicKey;\n\n  var onClick = function onClick(e) {\n    e.stopPropagation();\n    controller.run('operation', _assign(_assign({}, props), {\n      opType: OP_TYPE_START_EDITING_TOPOLOGY\n    }));\n  };\n\n  var isEditing = model.focusKey === topicKey && model.focusMode === FOCUS_MODE_EDITING_TOPOLOGY;\n  var block = model.getTopic(topicKey).getBlock(BLOCK_TYPE_TOPOLOGY).block;\n  if (!isEditing && !block) return null;\n  var iconProps = {\n    className: iconClassName('topology'),\n    onClick: onClick,\n    tabIndex: -1\n  };\n  return createElement(TopicBlockIcon, _assign({}, iconProps));\n}\n\nvar ToolsConfig = [{\n  group: 'Basic',\n  children: [{\n    name: 'rectangle',\n    icon: 'icon-rect',\n    data: {\n      text: 'Topology',\n      rect: {\n        width: 100,\n        height: 100\n      },\n      paddingLeft: 10,\n      paddingRight: 10,\n      paddingTop: 10,\n      paddingBottom: 10,\n      name: 'rectangle',\n      icon: \"\\uE64D\",\n      iconFamily: 'topology',\n      iconColor: '#2f54eb'\n    }\n  }, {\n    name: 'rectangle',\n    icon: 'icon-rectangle',\n    data: {\n      text: 'rectangle',\n      rect: {\n        width: 200,\n        height: 50\n      },\n      paddingLeft: 10,\n      paddingRight: 10,\n      paddingTop: 10,\n      paddingBottom: 10,\n      borderRadius: 0.1,\n      name: 'rectangle'\n    }\n  }, {\n    name: 'circle',\n    icon: 'icon-circle',\n    data: {\n      text: 'circle',\n      rect: {\n        width: 100,\n        height: 100\n      },\n      name: 'circle',\n      textMaxLine: 1\n    }\n  }, {\n    name: 'triangle',\n    icon: 'icon-triangle',\n    data: {\n      text: 'triangle',\n      rect: {\n        width: 100,\n        height: 100\n      },\n      name: 'triangle'\n    }\n  }, {\n    name: 'diamond',\n    icon: 'icon-diamond',\n    data: {\n      text: 'diamond',\n      rect: {\n        width: 100,\n        height: 100\n      },\n      name: 'diamond'\n    }\n  }, {\n    name: 'pentagon',\n    icon: 'icon-pentagon',\n    data: {\n      text: 'pentagon',\n      rect: {\n        width: 100,\n        height: 100\n      },\n      name: 'pentagon'\n    }\n  }, {\n    name: 'hexagon',\n    icon: 'icon-hexagon',\n    data: {\n      text: 'hexagon',\n      rect: {\n        width: 100,\n        height: 100\n      },\n      paddingTop: 10,\n      paddingBottom: 10,\n      name: 'hexagon'\n    }\n  }, {\n    name: 'pentagram',\n    icon: 'icon-pentagram',\n    data: {\n      text: 'pentagram',\n      rect: {\n        width: 100,\n        height: 100\n      },\n      name: 'pentagram'\n    }\n  }, {\n    name: 'left arrow',\n    icon: 'icon-arrow-left',\n    data: {\n      text: '',\n      rect: {\n        width: 200,\n        height: 100\n      },\n      name: 'leftArrow'\n    }\n  }, {\n    name: 'right arrow',\n    icon: 'icon-arrow-right',\n    data: {\n      text: '',\n      rect: {\n        width: 200,\n        height: 100\n      },\n      name: 'rightArrow'\n    }\n  }, {\n    name: 'bidirectional arrow',\n    icon: 'icon-twoway-arrow',\n    data: {\n      text: '',\n      rect: {\n        width: 200,\n        height: 100\n      },\n      name: 'twowayArrow'\n    }\n  }, {\n    name: 'line',\n    icon: 'icon-line',\n    data: {\n      text: 'line',\n      rect: {\n        width: 100,\n        height: 100\n      },\n      name: 'line'\n    }\n  }, {\n    name: 'cloud',\n    icon: 'icon-cloud',\n    data: {\n      text: 'cloud',\n      rect: {\n        width: 100,\n        height: 100\n      },\n      name: 'cloud'\n    }\n  }, {\n    name: 'message',\n    icon: 'icon-msg',\n    data: {\n      text: 'message',\n      rect: {\n        width: 100,\n        height: 100\n      },\n      paddingLeft: 10,\n      paddingRight: 10,\n      paddingTop: 10,\n      paddingBottom: 10,\n      name: 'message'\n    }\n  }, {\n    name: 'file',\n    icon: 'icon-file',\n    data: {\n      text: 'file',\n      rect: {\n        width: 80,\n        height: 100\n      },\n      paddingLeft: 10,\n      paddingRight: 10,\n      paddingTop: 10,\n      paddingBottom: 10,\n      name: 'file'\n    }\n  }, {\n    name: 'text',\n    icon: 'icon-text',\n    data: {\n      text: 'text',\n      rect: {\n        width: 160,\n        height: 30\n      },\n      name: 'text'\n    }\n  }, {\n    name: 'image',\n    icon: 'icon-image',\n    data: {\n      text: '',\n      rect: {\n        width: 100,\n        height: 100\n      },\n      name: 'image',\n      image: '/assets/img/logo.png'\n    }\n  }, {\n    name: 'cube',\n    icon: 'icon-cube',\n    data: {\n      rect: {\n        width: 50,\n        height: 70\n      },\n      is3D: true,\n      z: 10,\n      zRotate: 15,\n      fillStyle: '#ddd',\n      name: 'cube',\n      icon: \"\\uE63C\",\n      iconFamily: 'topology',\n      iconColor: '#777',\n      iconSize: 30\n    }\n  }, {\n    name: 'people',\n    icon: 'icon-people',\n    data: {\n      rect: {\n        width: 70,\n        height: 100\n      },\n      name: 'people'\n    }\n  }, {\n    name: 'multi media',\n    icon: 'icon-pc',\n    data: {\n      text: 'multi media',\n      rect: {\n        width: 200,\n        height: 200\n      },\n      paddingLeft: 10,\n      paddingRight: 10,\n      paddingTop: 10,\n      paddingBottom: 10,\n      // strokeStyle: 'transparent',\n      name: 'div'\n    }\n  }]\n}, {\n  group: 'Flow Graph',\n  children: [{\n    name: 'start/end',\n    icon: 'icon-flow-start',\n    data: {\n      text: 'start',\n      rect: {\n        width: 120,\n        height: 40\n      },\n      borderRadius: 0.5,\n      name: 'rectangle'\n    }\n  }, {\n    name: 'flow',\n    icon: 'icon-rectangle',\n    data: {\n      text: 'flow',\n      rect: {\n        width: 120,\n        height: 40\n      },\n      name: 'rectangle'\n    }\n  }, {\n    name: 'judgement',\n    icon: 'icon-diamond',\n    data: {\n      text: 'judgement',\n      rect: {\n        width: 120,\n        height: 60\n      },\n      name: 'diamond'\n    }\n  }, {\n    name: 'data',\n    icon: 'icon-flow-data',\n    data: {\n      text: 'data',\n      rect: {\n        width: 120,\n        height: 50\n      },\n      name: 'flowData'\n    }\n  }, {\n    name: 'prepare',\n    icon: 'icon-flow-ready',\n    data: {\n      text: 'prepare',\n      rect: {\n        width: 120,\n        height: 50\n      },\n      name: 'hexagon'\n    }\n  }, {\n    name: 'sub flow',\n    icon: 'icon-flow-subprocess',\n    data: {\n      text: 'sub flow',\n      rect: {\n        width: 120,\n        height: 50\n      },\n      name: 'flowSubprocess'\n    }\n  }, {\n    name: 'database',\n    icon: 'icon-db',\n    data: {\n      text: 'database',\n      rect: {\n        width: 80,\n        height: 120\n      },\n      name: 'flowDb'\n    }\n  }, {\n    name: 'document',\n    icon: 'icon-flow-document',\n    data: {\n      text: 'document',\n      rect: {\n        width: 120,\n        height: 100\n      },\n      name: 'flowDocument'\n    }\n  }, {\n    name: 'internal storage',\n    icon: 'icon-internal-storage',\n    data: {\n      text: 'internal storage',\n      rect: {\n        width: 120,\n        height: 80\n      },\n      name: 'flowInternalStorage'\n    }\n  }, {\n    name: 'external storage',\n    icon: 'icon-extern-storage',\n    data: {\n      text: 'external storage',\n      rect: {\n        width: 120,\n        height: 80\n      },\n      name: 'flowExternStorage'\n    }\n  }, {\n    name: 'queue',\n    icon: 'icon-flow-queue',\n    data: {\n      text: 'queue',\n      rect: {\n        width: 100,\n        height: 100\n      },\n      name: 'flowQueue'\n    }\n  }, {\n    name: 'input manually',\n    icon: 'icon-flow-manually',\n    data: {\n      text: 'input manually',\n      rect: {\n        width: 120,\n        height: 80\n      },\n      name: 'flowManually'\n    }\n  }, {\n    name: 'display',\n    icon: 'icon-flow-display',\n    data: {\n      text: 'display',\n      rect: {\n        width: 120,\n        height: 80\n      },\n      name: 'flowDisplay'\n    }\n  }, {\n    name: 'parallel',\n    icon: 'icon-flow-parallel',\n    data: {\n      text: 'parallel',\n      rect: {\n        width: 120,\n        height: 50\n      },\n      name: 'flowParallel'\n    }\n  }, {\n    name: 'comment',\n    icon: 'icon-flow-comment',\n    data: {\n      text: 'comment',\n      rect: {\n        width: 100,\n        height: 100\n      },\n      name: 'flowComment'\n    }\n  }]\n}, {\n  group: 'Activity Diagram',\n  children: [{\n    name: 'start',\n    icon: 'icon-inital',\n    data: {\n      text: '',\n      rect: {\n        width: 30,\n        height: 30\n      },\n      name: 'circle',\n      fillStyle: '#555',\n      strokeStyle: 'transparent'\n    }\n  }, {\n    name: 'end',\n    icon: 'icon-final',\n    data: {\n      text: '',\n      rect: {\n        width: 30,\n        height: 30\n      },\n      name: 'activityFinal'\n    }\n  }, {\n    name: 'action',\n    icon: 'icon-action',\n    data: {\n      text: 'action',\n      rect: {\n        width: 120,\n        height: 50\n      },\n      borderRadius: 0.25,\n      name: 'rectangle'\n    }\n  }, {\n    name: 'decision/merge',\n    icon: 'icon-diamond',\n    data: {\n      text: '',\n      rect: {\n        width: 120,\n        height: 50\n      },\n      name: 'diamond'\n    }\n  }, {\n    name: 'vertical swimming lane',\n    icon: 'icon-swimlane-v',\n    data: {\n      text: 'vertical swimming lane',\n      rect: {\n        width: 200,\n        height: 500\n      },\n      name: 'swimlaneV'\n    }\n  }, {\n    name: 'horizontal swimming lane',\n    icon: 'icon-swimlane-h',\n    data: {\n      text: 'horizontal swimming lane',\n      rect: {\n        width: 500,\n        height: 200\n      },\n      name: 'swimlaneH'\n    }\n  }, {\n    name: 'vertical fork/merge',\n    icon: 'icon-fork-v',\n    data: {\n      text: '',\n      rect: {\n        width: 10,\n        height: 150\n      },\n      name: 'forkV',\n      fillStyle: '#555',\n      strokeStyle: 'transparent'\n    }\n  }, {\n    name: 'horizontal fork/merge',\n    icon: 'icon-fork',\n    data: {\n      text: '',\n      rect: {\n        width: 150,\n        height: 10\n      },\n      name: 'forkH',\n      fillStyle: '#555',\n      strokeStyle: 'transparent'\n    }\n  }]\n}, {\n  group: 'Sequence Diagram && Class Diagram',\n  children: [{\n    name: 'lifeline',\n    icon: 'icon-lifeline',\n    data: {\n      text: 'lifeline',\n      rect: {\n        width: 150,\n        height: 400\n      },\n      name: 'lifeline'\n    }\n  }, {\n    name: 'activation',\n    icon: 'icon-focus',\n    data: {\n      text: '',\n      rect: {\n        width: 12,\n        height: 200\n      },\n      name: 'sequenceFocus'\n    }\n  }, {\n    name: 'simple class',\n    icon: 'icon-simple-class',\n    data: {\n      text: 'Topolgoy',\n      rect: {\n        width: 270,\n        height: 200\n      },\n      paddingTop: 40,\n      font: {\n        fontFamily: 'Arial',\n        color: '#222',\n        fontWeight: 'bold'\n      },\n      fillStyle: '#ffffba',\n      strokeStyle: '#7e1212',\n      name: 'simpleClass',\n      children: [{\n        text: '- name: string\\n+ setName(name: string): void',\n        name: 'text',\n        paddingLeft: 10,\n        paddingRight: 10,\n        paddingTop: 10,\n        paddingBottom: 10,\n        rectInParent: {\n          x: 0,\n          y: 0,\n          width: '100%',\n          height: '100%',\n          rotate: 0\n        },\n        font: {\n          fontFamily: 'Arial',\n          color: '#222',\n          textAlign: 'left',\n          textBaseline: 'top'\n        }\n      }]\n    }\n  }, {\n    name: 'class',\n    icon: 'icon-class',\n    data: {\n      text: 'Topolgoy',\n      rect: {\n        width: 270,\n        height: 200\n      },\n      paddingTop: 40,\n      font: {\n        fontFamily: 'Arial',\n        color: '#222',\n        fontWeight: 'bold'\n      },\n      fillStyle: '#ffffba',\n      strokeStyle: '#7e1212',\n      name: 'interfaceClass',\n      children: [{\n        text: '- name: string',\n        name: 'text',\n        paddingLeft: 10,\n        paddingRight: 10,\n        paddingTop: 10,\n        paddingBottom: 10,\n        rectInParent: {\n          x: 0,\n          y: 0,\n          width: '100%',\n          height: '50%',\n          rotate: 0\n        },\n        font: {\n          fontFamily: 'Arial',\n          color: '#222',\n          textAlign: 'left',\n          textBaseline: 'top'\n        }\n      }, {\n        text: '+ setName(name: string): void',\n        name: 'text',\n        paddingLeft: 10,\n        paddingRight: 10,\n        paddingTop: 10,\n        paddingBottom: 10,\n        rectInParent: {\n          x: 0,\n          y: '50%',\n          width: '100%',\n          height: '50%',\n          rotate: 0\n        },\n        font: {\n          fontFamily: 'Arial',\n          color: '#222',\n          textAlign: 'left',\n          textBaseline: 'top'\n        }\n      }]\n    }\n  }]\n}];\nvar Root = styled.div(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  position: relative;\\n  display: flex;\\n  width: 100%;\\n  height: 100%;\\n\"], [\"\\n  position: relative;\\n  display: flex;\\n  width: 100%;\\n  height: 100%;\\n\"])));\nvar Canvas = styled.div(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n  flex: 1;\\n  width: initial;\\n  position: relative;\\n  overflow: auto;\\n  background: #fff;\\n\"], [\"\\n  flex: 1;\\n  width: initial;\\n  position: relative;\\n  overflow: auto;\\n  background: #fff;\\n\"])));\nvar Tools = styled.div(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\\n  flex-shrink: 0;\\n  width: 1.75rem;\\n  background-color: #f8f8f8;\\n  border-right: 1px solid #d9d9d9;\\n  overflow-y: auto;\\n\"], [\"\\n  flex-shrink: 0;\\n  width: 1.75rem;\\n  background-color: #f8f8f8;\\n  border-right: 1px solid #d9d9d9;\\n  overflow-y: auto;\\n\"])));\nvar ToolTitle = styled.div(templateObject_4 || (templateObject_4 = __makeTemplateObject([\"\\n  color: #0d1a26;\\n  font-weight: 600;\\n  font-size: 0.12rem;\\n  padding: 0.05rem 0.1rem;\\n  margin-top: 0.08rem;\\n  border-bottom: 1px solid #ddd;\\n\\n  &:first-child {\\n    border-top: none;\\n  }\\n\"], [\"\\n  color: #0d1a26;\\n  font-weight: 600;\\n  font-size: 0.12rem;\\n  padding: 0.05rem 0.1rem;\\n  margin-top: 0.08rem;\\n  border-bottom: 1px solid #ddd;\\n\\n  &:first-child {\\n    border-top: none;\\n  }\\n\"])));\nvar ToolbarButtons = styled.div(templateObject_5 || (templateObject_5 = __makeTemplateObject([\"\\n  padding: 0.1rem 0;\\n  a {\\n    display: inline-block;\\n    color: @text-color;\\n    line-height: 1;\\n    width: 0.4rem;\\n    height: 0.4rem;\\n    text-align: center;\\n    text-decoration: none !important;\\n\\n    .iconfont {\\n      font-size: 0.24rem;\\n    }\\n  }\\n\"], [\"\\n  padding: 0.1rem 0;\\n  a {\\n    display: inline-block;\\n    color: @text-color;\\n    line-height: 1;\\n    width: 0.4rem;\\n    height: 0.4rem;\\n    text-align: center;\\n    text-decoration: none !important;\\n\\n    .iconfont {\\n      font-size: 0.24rem;\\n    }\\n  }\\n\"])));\n\nvar TopologyDiagram =\n/** @class */\nfunction (_super) {\n  __extends(TopologyDiagram, _super);\n\n  function TopologyDiagram() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      id: '',\n      data: null,\n      toolsConfig: ToolsConfig,\n      iconfont: {\n        fontSize: '0.24rem'\n      }\n    };\n    _this.canvasOptions = {};\n\n    _this.handleContextMenu = function (e) {\n      e.preventDefault();\n      e.stopPropagation();\n    };\n\n    _this.onMessage = function (event, data) {\n      var getRef = _this.props.getRef;\n      var diagramUtil = getRef(REF_KEY_TOPOLOGY_DIAGRAM_UTIL);\n\n      switch (event) {\n        case 'resize':\n        case 'scale':\n        case 'locked':\n          if (_this.topology && diagramUtil) {\n            diagramUtil.setCanvasData(_this.topology.data);\n          }\n\n          break;\n      }\n    };\n\n    return _this;\n  }\n\n  TopologyDiagram.prototype.canvasRegister = function () {\n    registerNode('flowData', flowData, flowDataAnchors, flowDataIconRect, flowDataTextRect);\n    registerNode('flowSubprocess', flowSubprocess, null, flowSubprocessIconRect, flowSubprocessTextRect);\n    registerNode('flowDb', flowDb, null, flowDbIconRect, flowDbTextRect);\n    registerNode('flowDocument', flowDocument, flowDocumentAnchors, flowDocumentIconRect, flowDocumentTextRect);\n    registerNode('flowInternalStorage', flowInternalStorage, null, flowInternalStorageIconRect, flowInternalStorageTextRect);\n    registerNode('flowExternStorage', flowExternStorage, flowExternStorageAnchors, flowExternStorageIconRect, flowExternStorageTextRect);\n    registerNode('flowQueue', flowQueue, null, flowQueueIconRect, flowQueueTextRect);\n    registerNode('flowManually', flowManually, flowManuallyAnchors, flowManuallyIconRect, flowManuallyTextRect);\n    registerNode('flowDisplay', flowDisplay, flowDisplayAnchors, flowDisplayIconRect, flowDisplayTextRect);\n    registerNode('flowParallel', flowParallel, flowParallelAnchors, null, null);\n    registerNode('flowComment', flowComment, flowCommentAnchors, null, null); // activity\n\n    registerNode('activityFinal', activityFinal, null, activityFinalIconRect, activityFinalTextRect);\n    registerNode('swimlaneV', swimlaneV, null, swimlaneVIconRect, swimlaneVTextRect);\n    registerNode('swimlaneH', swimlaneH, null, swimlaneHIconRect, swimlaneHTextRect);\n    registerNode('forkH', fork, forkHAnchors, forkIconRect, forkTextRect);\n    registerNode('forkV', fork, forkVAnchors, forkIconRect, forkTextRect); // class\n\n    registerNode('simpleClass', simpleClass, null, simpleClassIconRect, simpleClassTextRect);\n    registerNode('interfaceClass', interfaceClass, null, interfaceClassIconRect, interfaceClassTextRect); // sequence\n\n    registerNode('lifeline', lifeline, lifelineAnchors, lifelineIconRect, lifelineTextRect);\n    registerNode('sequenceFocus', sequenceFocus, sequenceFocusAnchors, sequenceFocusIconRect, sequenceFocusTextRect);\n  };\n\n  TopologyDiagram.prototype.componentDidMount = function () {\n    this.canvasRegister();\n    this.canvasOptions.on = this.onMessage;\n    this.topology = new Topology('topology-canvas', this.canvasOptions);\n    this.openData();\n  };\n\n  TopologyDiagram.prototype.componentDidUpdate = function () {\n    this.openData();\n  };\n\n  TopologyDiagram.prototype.openData = function () {\n    var _a = this.props,\n        model = _a.model,\n        topicKey = _a.topicKey;\n    var topic = model.getTopic(topicKey);\n    var block = topic.getBlock(BLOCK_TYPE_TOPOLOGY).block;\n\n    if (block && block.data && block.data !== '') {\n      this.setState({\n        data: block.data\n      });\n      this.topology.open(block.data);\n    }\n  };\n\n  TopologyDiagram.prototype.onDrag = function (event, node) {\n    event.dataTransfer.setData('Text', JSON.stringify(node.data));\n  };\n\n  TopologyDiagram.prototype.renderTools = function () {\n    var _this = this;\n\n    return createElement(Tools, null, this.state.toolsConfig.map(function (item, index) {\n      return createElement(\"div\", {\n        key: index\n      }, createElement(ToolTitle, null, item.group), createElement(ToolbarButtons, null, //TODO\n      //@ts-ignore\n      item.children.map(function (btn, i) {\n        return createElement(\"a\", {\n          key: i,\n          title: btn.name,\n          draggable: true,\n          onDragStart: function onDragStart(ev) {\n            _this.onDrag(ev, btn);\n          }\n        }, createElement(\"i\", {\n          className: 'iconfont ' + btn.icon,\n          style: _this.state.iconfont\n        }));\n      })));\n    }));\n  };\n\n  TopologyDiagram.prototype.render = function () {\n    return createElement(Root, null, this.renderTools(), createElement(Canvas, {\n      id: \"topology-canvas\",\n      onContextMenu: this.handleContextMenu\n    }));\n  };\n\n  return TopologyDiagram;\n}(BaseWidget);\n\nvar templateObject_1, templateObject_2, templateObject_3, templateObject_4, templateObject_5;\nvar Root$1 = styled.div(templateObject_1$1 || (templateObject_1$1 = __makeTemplateObject([\"\\n  position: absolute;\\n  background: white;\\n  right: 30px;\\n  bottom: 20px;\\n  border-radius: 2px;\\n  z-index: 3;\\n  display: flex;\\n  flex-direction: row;\\n  user-select: none;\\n\"], [\"\\n  position: absolute;\\n  background: white;\\n  right: 30px;\\n  bottom: 20px;\\n  border-radius: 2px;\\n  z-index: 3;\\n  display: flex;\\n  flex-direction: row;\\n  user-select: none;\\n\"])));\nvar Item_ = styled(Btn)(templateObject_2$1 || (templateObject_2$1 = __makeTemplateObject([\"\\n  margin: 10px;\\n\"], [\"\\n  margin: 10px;\\n\"])));\n\nvar Item = function Item(props) {\n  return createElement(Tooltip, {\n    content: props.tooltip,\n    position: Position.TOP,\n    className: Classes.ICON\n  }, createElement(Item_, {\n    onClick: props.onClick\n  }, props.children));\n};\n\nvar ZoomFactorSpan = styled.span(templateObject_3$1 || (templateObject_3$1 = __makeTemplateObject([\"\\n  display: inline-block;\\n  width: 80px;\\n  height: 18px;\\n\"], [\"\\n  display: inline-block;\\n  width: 80px;\\n  height: 18px;\\n\"])));\n\nvar TopologyDiagramUtils =\n/** @class */\nfunction (_super) {\n  __extends(TopologyDiagramUtils, _super);\n\n  function TopologyDiagramUtils(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.setCanvasData = function (canvasData) {\n      _this.setState({\n        canvasData: canvasData\n      });\n    };\n\n    _this.onClickResetZoom = function (e) {\n      var topology = _this.getTopology();\n\n      topology.scaleTo(1);\n    };\n\n    _this.state = {\n      deleteConfirm: false,\n      canvasData: null\n    };\n    return _this;\n  }\n\n  TopologyDiagramUtils.prototype.getTopology = function () {\n    var getRef = this.props.getRef;\n    return getRef(REF_KEY_TOPOLOGY_DIAGRAM).topology;\n  };\n\n  TopologyDiagramUtils.prototype.render = function () {\n    var _this = this;\n\n    var props = this.props;\n    var controller = props.controller;\n\n    var onClickDelete = function onClickDelete(e) {\n      _this.setState({\n        deleteConfirm: true\n      });\n    };\n\n    var deleteAlertProps = {\n      isOpen: this.state.deleteConfirm,\n      cancelButtonText: 'cancel',\n      onConfirm: function onConfirm(e) {\n        controller.run('operation', _assign(_assign({}, props), {\n          opType: OpType.DELETE_TOPIC_BLOCK,\n          blockType: BLOCK_TYPE_TOPOLOGY\n        }));\n      },\n      onCancel: function onCancel(e) {\n        _this.setState({\n          deleteConfirm: false\n        });\n      },\n      onClose: function onClose(e) {\n        _this.setState({\n          deleteConfirm: false\n        });\n      }\n    };\n    var canvasData = this.state.canvasData;\n    var scale = canvasData ? canvasData.scale : 1;\n    return createElement(Root$1, null, createElement(Item, {\n      onClick: this.onClickResetZoom,\n      tooltip: \"reset zoom\"\n    }, createElement(ZoomFactorSpan, null, \"zoom:\" + Math.floor(scale * 100) + \"%\")), createElement(Item, {\n      onClick: onClickDelete,\n      tooltip: \"delete this diagram\"\n    }, Icon(IconName.TRASH)), createElement(Alert, _assign({}, deleteAlertProps), createElement(\"p\", null, \"Are you confirm to delete this topology diagram?\")));\n  };\n\n  return TopologyDiagramUtils;\n}(Component);\n\nvar templateObject_1$1, templateObject_2$1, templateObject_3$1;\nvar DiagramWrapper = styled.div(templateObject_1$2 || (templateObject_1$2 = __makeTemplateObject([\"\\n  position: relative;\\n  overflow: auto;\\n  padding: 0px 0px 0px 5px;\\n  background: #88888850;\\n  height: 100%;\\n\"], [\"\\n  position: relative;\\n  overflow: auto;\\n  padding: 0px 0px 0px 5px;\\n  background: #88888850;\\n  height: 100%;\\n\"])));\nvar Title = styled.span(templateObject_2$2 || (templateObject_2$2 = __makeTemplateObject([\"\\n  padding: 0px 20px;\\n\"], [\"\\n  padding: 0px 20px;\\n\"])));\n\nfunction TopologyDrawer(props) {\n  var controller = props.controller,\n      topicKey = props.topicKey,\n      getRef = props.getRef,\n      saveRef = props.saveRef;\n\n  var onDiagramClose = function onDiagramClose(e) {\n    e.stopPropagation(); // const key = `topic-topology-data-${topicKey}`;\n    // const topologyData = controller.run('deleteTempValue', { key });\n\n    var diagram = getRef(REF_KEY_TOPOLOGY_DIAGRAM);\n    var topologyData = diagram.topology.data;\n    controller.run('operation', _assign(_assign({}, props), {\n      opType: OpType.SET_TOPIC_BLOCK,\n      topicKey: topicKey,\n      blockType: BLOCK_TYPE_TOPOLOGY,\n      data: topologyData,\n      focusMode: FocusMode.NORMAL\n    }));\n  };\n\n  var diagramProps = _assign(_assign({}, props), {\n    ref: saveRef(REF_KEY_TOPOLOGY_DIAGRAM)\n  });\n\n  var utilProps = _assign(_assign({}, props), {\n    ref: saveRef(REF_KEY_TOPOLOGY_DIAGRAM_UTIL)\n  });\n\n  return createElement(Drawer, {\n    title: createElement(Title, null, \"Topology Diagram Editor\"),\n    icon: Icon('topology'),\n    isOpen: true,\n    hasBackdrop: true,\n    backdropClassName: \"backdrop\",\n    backdropProps: {\n      onMouseDown: cancelEvent\n    },\n    canOutsideClickClose: false,\n    isCloseButtonShown: true,\n    onClose: onDiagramClose,\n    size: \"100%\"\n  }, createElement(DiagramWrapper, {\n    onClick: cancelEvent,\n    onDoubleClick: cancelEvent\n  }, createElement(TopologyDiagram, _assign({}, diagramProps)), createElement(TopologyDiagramUtils, _assign({}, utilProps))));\n}\n\nvar templateObject_1$2, templateObject_2$2;\n\nfunction startEditingTopology(_a) {\n  var model = _a.model,\n      topicKey = _a.topicKey;\n  var topic = model.getTopic(topicKey);\n  var block = topic.getBlock(BLOCK_TYPE_TOPOLOGY).block;\n\n  if (block == null || block.data == null) {\n    model = ModelModifier.setBlockData({\n      model: model,\n      topicKey: topicKey,\n      blockType: BLOCK_TYPE_TOPOLOGY,\n      data: ''\n    });\n  }\n\n  model = ModelModifier.focusTopic({\n    model: model,\n    topicKey: topicKey,\n    focusMode: FOCUS_MODE_EDITING_TOPOLOGY\n  });\n  return model;\n}\n\nfunction TopologyDiagramPlugin() {\n  return {\n    renderTopicBlock: function renderTopicBlock(props, next) {\n      var controller = props.controller,\n          block = props.block;\n\n      if (block.type === BLOCK_TYPE_TOPOLOGY) {\n        return controller.run('renderTopicBlockTopology', props);\n      }\n\n      return next();\n    },\n    renderTopicBlockTopology: function renderTopicBlockTopology(props) {\n      return createElement(TopicBlockTopology, _assign({}, props));\n    },\n    renderDrawer: function renderDrawer(props, next) {\n      var model = props.model;\n\n      if (model.focusMode === FOCUS_MODE_EDITING_TOPOLOGY) {\n        var topoProps = _assign(_assign({}, props), {\n          topicKey: model.focusKey,\n          key: 'topology-drawer'\n        });\n\n        return createElement(TopologyDrawer, _assign({}, topoProps));\n      }\n\n      return next();\n    },\n    customizeTopicContextMenu: function customizeTopicContextMenu(props, next) {\n      var controller = props.controller;\n\n      function editTopology(e) {\n        controller.run('operation', _assign(_assign({}, props), {\n          opType: OP_TYPE_START_EDITING_TOPOLOGY\n        }));\n      }\n\n      return createElement(Fragment, null, next(), createElement(MenuDivider, null), createElement(MenuItem, {\n        icon: Icon('topology'),\n        text: \"Edit Topology Diagram\",\n        onClick: editTopology\n      }));\n    },\n    getOpMap: function getOpMap(props, next) {\n      var opMap = next();\n      opMap.set(OP_TYPE_START_EDITING_TOPOLOGY, startEditingTopology);\n      return opMap;\n    }\n  };\n}\n\nexport default TopologyDiagramPlugin;","import { OpType, FocusMode, getAllSubTopicKeys, ModelModifier } from '@blink-mind/core';\nimport { ZIndex, Flex, PropKey, cancelEvent, iconClassName, TopicBlockIcon, StyledCheckbox, Icon } from '@blink-mind/renderer-react';\nimport { Button, Alert, PopoverInteractionKind, Popover, MenuDivider, MenuItem } from '@blueprintjs/core';\nimport { createElement, useState, Fragment } from 'react';\nimport styled from 'styled-components';\nimport { List, Map, Record } from 'immutable';\nimport { Omnibar } from '@blueprintjs/select';\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\n\n/* global Reflect, Promise */\n\nvar _extendStatics = function extendStatics(d, b) {\n  _extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) {\n      if (b.hasOwnProperty(p)) d[p] = b[p];\n    }\n  };\n\n  return _extendStatics(d, b);\n};\n\nfunction __extends(d, b) {\n  _extendStatics(d, b);\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nvar _assign = function __assign() {\n  _assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return _assign.apply(this, arguments);\n};\n\nfunction __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {\n      ar.push(r.value);\n    }\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n}\n\nfunction __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n}\n\nvar FOCUS_MODE_SET_REFERENCE_TOPICS = 'FOCUS_MODE_SET_REFERENCE_TOPICS'; // Topic\n\nvar OP_TYPE_START_SET_REFERENCE_TOPICS = 'OP_TYPE_START_SET_REFERENCE_TOPICS';\nvar OP_TYPE_SET_REFERENCE_TOPICS = 'OP_TYPE_SET_REFERENCE_TOPICS';\nvar EXT_DATA_KEY_TOPIC_REFERENCE = 'TOPIC_REFERENCE';\nvar EXT_KEY_TOPIC_REFERENCE = 'EXT_KEY_TOPIC_REFERENCE';\nvar Root = styled(ZIndex)(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  position: absolute;\\n  left: calc(50% - 150px);\\n  top: 30px;\\n  width: 300px;\\n  background: white;\\n  padding: 10px;\\n  user-select: none;\\n\"], [\"\\n  position: absolute;\\n  left: calc(50% - 150px);\\n  top: 30px;\\n  width: 300px;\\n  background: white;\\n  padding: 10px;\\n  user-select: none;\\n\"])));\nvar Title = styled.div(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n  margin-bottom: 10px;\\n\"], [\"\\n  margin-bottom: 10px;\\n\"])));\n\nfunction AddReferenceTopicPanel(props) {\n  var zIndex = props.zIndex,\n      controller = props.controller,\n      topicKey = props.topicKey;\n\n  var onClickCancel = function onClickCancel(e) {\n    controller.run('clearSelectedReferenceKeys', props);\n    controller.run('enableOperation', props);\n    controller.run('operation', _assign(_assign({}, props), {\n      opType: OpType.SET_FOCUS_MODE,\n      focusMode: FocusMode.NORMAL\n    }));\n  };\n\n  var onClickConfirm = function onClickConfirm(e) {\n    var referenceKeys = controller.run('getSelectedReferenceKeys', props);\n    controller.run('enableOperation', props);\n    controller.run('operation', _assign(_assign({}, props), {\n      opArray: [{\n        opType: OP_TYPE_SET_REFERENCE_TOPICS,\n        topicKey: topicKey,\n        referenceKeys: referenceKeys\n      }, {\n        opType: OpType.FOCUS_TOPIC,\n        topicKey: topicKey,\n        focusMode: FocusMode.NORMAL\n      }]\n    }));\n    controller.run('clearSelectedReferenceKeys', props);\n  };\n\n  return createElement(Root, {\n    zIndex: zIndex\n  }, createElement(Title, null, \"Please select the topics you want to reference. After selection, click the confirm button.\"), createElement(Flex, {\n    justifyContent: 'space-around'\n  }, createElement(Button, {\n    onClick: onClickConfirm\n  }, \"Confirm\"), createElement(Button, {\n    onClick: onClickCancel\n  }, \"Cancel\")));\n}\n\nvar templateObject_1, templateObject_2;\nvar defaultReferenceRecord = {\n  keyList: List(),\n  dataMap: Map()\n};\n\nvar ReferenceRecord =\n/** @class */\nfunction (_super) {\n  __extends(ReferenceRecord, _super);\n\n  function ReferenceRecord() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Object.defineProperty(ReferenceRecord.prototype, \"keyList\", {\n    get: function get() {\n      return this.get('keyList');\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ReferenceRecord.prototype, \"dataMap\", {\n    get: function get() {\n      return this.get('dataMap');\n    },\n    enumerable: true,\n    configurable: true\n  });\n  return ReferenceRecord;\n}(Record(defaultReferenceRecord));\n\nvar defaultExtDataReferenceRecord = {\n  reference: Map()\n};\n\nvar ExtDataReference =\n/** @class */\nfunction (_super) {\n  __extends(ExtDataReference, _super);\n\n  function ExtDataReference() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Object.defineProperty(ExtDataReference.prototype, \"reference\", {\n    get: function get() {\n      return this.get('reference');\n    },\n    enumerable: true,\n    configurable: true\n  });\n\n  ExtDataReference.prototype.getReferenceKeys = function (topicKey) {\n    if (this.reference.has(topicKey)) {\n      return this.reference.get(topicKey).keyList.toArray();\n    }\n\n    return [];\n  };\n\n  ExtDataReference.prototype.getReferencedKeys = function (topicKey) {\n    var res = [];\n    this.reference.forEach(function (v, k) {\n      if (v.keyList.includes(topicKey)) {\n        res.push(k);\n      }\n    });\n    return res;\n  };\n\n  return ExtDataReference;\n}(Record(defaultExtDataReferenceRecord)); // TODO \n\n\nfunction setReferenceTopicKeys(_a) {\n  var model = _a.model,\n      topicKey = _a.topicKey,\n      referenceKeys = _a.referenceKeys;\n  var extData = model.getExtDataItem(EXT_DATA_KEY_TOPIC_REFERENCE, ExtDataReference);\n  var referenceRecord = extData.reference.get(topicKey) || new ReferenceRecord();\n  referenceRecord = referenceRecord.set('keyList', List(referenceKeys));\n  extData = extData.setIn(['reference', topicKey], referenceRecord);\n  model = model.setIn(['extData', EXT_DATA_KEY_TOPIC_REFERENCE], extData);\n  return model;\n}\n\nvar Root$1 = styled.div(templateObject_1$1 || (templateObject_1$1 = __makeTemplateObject([\"\\n  display: flex;\\n  width: 380px;\\n  margin: 10px;\\n  justify-content: center;\\n  align-items: center;\\n\"], [\"\\n  display: flex;\\n  width: 380px;\\n  margin: 10px;\\n  justify-content: center;\\n  align-items: center;\\n\"])));\nvar Content = styled.div(templateObject_2$1 || (templateObject_2$1 = __makeTemplateObject([\"\\n  width: 300px;\\n  text-decoration: underline;\\n  cursor: pointer;\\n\"], [\"\\n  width: 300px;\\n  text-decoration: underline;\\n  cursor: pointer;\\n\"])));\nvar ButtonPlace = styled.div(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\\n  width: 80px;\\n\"], [\"\\n  width: 80px;\\n\"])));\n\nfunction ReferenceTopicThumbnail(props) {\n  var controller = props.controller,\n      refKey = props.refKey,\n      refType = props.refType,\n      removeHandler = props.removeHandler;\n\n  var _a = __read(useState(false), 2),\n      deleteConfirm = _a[0],\n      setDeleteConfirm = _a[1];\n\n  var onClick = function onClick(e) {\n    e.stopPropagation();\n    controller.run('focusTopicAndMoveToCenter', _assign(_assign({}, props), {\n      topicKey: refKey\n    }));\n  };\n\n  var onClickRemove = function onClickRemove(e) {\n    setDeleteConfirm(true);\n  };\n\n  var content = controller.getValue(PropKey.TOPIC_TITLE, _assign(_assign({}, props), {\n    topicKey: refKey,\n    maxLength: 100\n  }));\n  var deleteAlertProps = {\n    isOpen: deleteConfirm,\n    cancelButtonText: 'cancel',\n    onConfirm: function onConfirm(e) {\n      removeHandler(e);\n    },\n    onCancel: function onCancel(e) {\n      setDeleteConfirm(false);\n    },\n    onClose: function onClose(e) {\n      setDeleteConfirm(false);\n    }\n  };\n  return createElement(Root$1, null, createElement(Content, {\n    onClick: onClick\n  }, content), createElement(ButtonPlace, null, refType === 'reference' && createElement(Fragment, null, createElement(Button, {\n    onClick: onClickRemove\n  }, \"Remove\"), createElement(Alert, _assign({}, deleteAlertProps), createElement(\"p\", null, \"Are you confirm to remove this reference?\")))));\n}\n\nvar templateObject_1$1, templateObject_2$1, templateObject_3;\nvar Root$2 = styled.div(templateObject_1$2 || (templateObject_1$2 = __makeTemplateObject([\"\"], [\"\"])));\nvar Group = styled.div(templateObject_2$2 || (templateObject_2$2 = __makeTemplateObject([\"\\n  padding: 10px;\\n\"], [\"\\n  padding: 10px;\\n\"])));\nvar GroupList = styled.div(templateObject_3$1 || (templateObject_3$1 = __makeTemplateObject([\"\\n  max-height: 200px;\\n  overflow: auto;\\n\"], [\"\\n  max-height: 200px;\\n  overflow: auto;\\n\"])));\nvar GroupTitle = styled.div(templateObject_4 || (templateObject_4 = __makeTemplateObject([\"\\n  font-size: 20px;\\n  color: #106ba3;\\n\"], [\"\\n  font-size: 20px;\\n  color: #106ba3;\\n\"])));\nvar GotoBtn = styled.div(templateObject_5 || (templateObject_5 = __makeTemplateObject([\"\\n  text-decoration: underline;\\n  color: #106ba3;\\n  cursor: pointer;\\n\"], [\"\\n  text-decoration: underline;\\n  color: #106ba3;\\n  cursor: pointer;\\n\"])));\n\nfunction ReferenceTopicList(props) {\n  var topicKey = props.topicKey,\n      controller = props.controller,\n      model = props.model;\n  var extData = model.extData.get(EXT_DATA_KEY_TOPIC_REFERENCE);\n\n  var removeReference = function removeReference(refKey) {\n    return function (e) {\n      e.stopPropagation();\n      var keyList = extData.reference.get(topicKey).keyList;\n      controller.run('operation', _assign(_assign({}, props), {\n        opArray: [{\n          opType: OP_TYPE_SET_REFERENCE_TOPICS,\n          topicKey: topicKey,\n          focusMode: FocusMode.NORMAL,\n          referenceKeys: keyList.delete(keyList.indexOf(refKey)).toArray()\n        }]\n      }));\n    };\n  };\n\n  var referenceKeys = extData.getReferenceKeys(topicKey);\n  var referenceGroup = referenceKeys.length === 0 ? null : createElement(Group, null, createElement(GroupTitle, null, \"Reference Topics:\"), createElement(GroupList, null, referenceKeys.map(function (key) {\n    var thumbProps = _assign(_assign({}, props), {\n      key: key,\n      refKey: key,\n      refType: 'reference',\n      removeHandler: removeReference(key)\n    }); //@ts-ignore\n\n\n    return createElement(ReferenceTopicThumbnail, _assign({}, thumbProps));\n  })));\n  var referencedKeys = extData.getReferencedKeys(topicKey);\n  var referencedGroup = referencedKeys.length === 0 ? null : createElement(Group, null, createElement(GroupTitle, null, \"Referenced Topics:\"), createElement(GroupList, null, referencedKeys.map(function (key) {\n    var thumbProps = _assign(_assign({}, props), {\n      key: key,\n      refKey: key,\n      refType: 'referenced'\n    }); //@ts-ignore\n\n\n    return createElement(ReferenceTopicThumbnail, _assign({}, thumbProps));\n  })));\n\n  var onClickGotoOriginTopic = function onClickGotoOriginTopic(e) {\n    e.stopPropagation();\n    controller.run('focusTopicAndMoveToCenter', props);\n  };\n\n  var currentTopic = model.focusKey !== topicKey && createElement(Group, null, createElement(GotoBtn, {\n    onClick: onClickGotoOriginTopic\n  }, \"Goto Origin Topic\"));\n  return createElement(Root$2, {\n    onMouseDown: cancelEvent\n  }, referenceGroup, referencedGroup, currentTopic);\n}\n\nvar templateObject_1$2, templateObject_2$2, templateObject_3$1, templateObject_4, templateObject_5;\n\nfunction TopicExtReference(props) {\n  var model = props.model,\n      topicKey = props.topicKey;\n  var extData = model.extData.get(EXT_DATA_KEY_TOPIC_REFERENCE) || new ExtDataReference();\n  var refRecord = extData.reference.get(topicKey);\n  var referencedKeys = [];\n  extData.reference.forEach(function (v, k) {\n    if (v.keyList.includes(topicKey)) referencedKeys.push(k);\n  });\n  if ((refRecord == null || refRecord.keyList.size === 0) && referencedKeys.length === 0) return null;\n  var iconProps = {\n    className: iconClassName('reference'),\n    tabIndex: -1\n  };\n  var icon = createElement(TopicBlockIcon, _assign({}, iconProps));\n  var tooltipContent = createElement(ReferenceTopicList, _assign({}, props));\n  var tooltipProps = {\n    autoFocus: false,\n    content: tooltipContent,\n    target: icon,\n    interactionKind: PopoverInteractionKind.CLICK,\n    hoverOpenDelay: 500\n  };\n  return createElement(Popover, _assign({}, tooltipProps));\n}\n\nfunction TopicReferenceCheckbox(props) {\n  var topicKey = props.topicKey,\n      selectedTopicKeys = props.selectedTopicKeys;\n  var a = selectedTopicKeys.has(topicKey);\n\n  var _a = __read(useState(a), 2),\n      checked = _a[0],\n      setChecked = _a[1];\n\n  var checkboxProps = {\n    checked: checked,\n    onChange: function onChange() {\n      if (selectedTopicKeys.has(topicKey)) {\n        selectedTopicKeys.delete(topicKey);\n      } else {\n        selectedTopicKeys.add(topicKey);\n      }\n\n      setChecked(!checked);\n    }\n  };\n  return createElement(StyledCheckbox, _assign({}, checkboxProps));\n}\n\nfunction TopicReferencePlugin() {\n  var selectedTopicKeys = new Set();\n\n  function startSetReferenceTopics(_a) {\n    var model = _a.model,\n        topicKey = _a.topicKey;\n    var extData = model.getExtDataItem(EXT_DATA_KEY_TOPIC_REFERENCE, ExtDataReference);\n    selectedTopicKeys = new Set(extData.getReferenceKeys(topicKey));\n    model = ModelModifier.focusTopic({\n      model: model,\n      topicKey: topicKey,\n      focusMode: FOCUS_MODE_SET_REFERENCE_TOPICS\n    });\n    return model;\n  }\n\n  return {\n    customizeTopicContextMenu: function customizeTopicContextMenu(props, next) {\n      var controller = props.controller;\n\n      function onClickSetReferenceTopics(e) {\n        controller.run('operation', _assign(_assign({}, props), {\n          opType: OP_TYPE_START_SET_REFERENCE_TOPICS\n        }));\n        controller.run('disableOperation', _assign(_assign({}, props), {\n          whiteList: [OpType.TOGGLE_COLLAPSE]\n        }));\n      }\n\n      return createElement(Fragment, null, next(), createElement(MenuDivider, null), createElement(MenuItem, {\n        key: EXT_KEY_TOPIC_REFERENCE,\n        icon: Icon('reference'),\n        text: \"Set Reference Topics\",\n        onClick: onClickSetReferenceTopics\n      }));\n    },\n    getOpMap: function getOpMap(props, next) {\n      var opMap = next();\n      opMap.set(OP_TYPE_START_SET_REFERENCE_TOPICS, startSetReferenceTopics);\n      opMap.set(OP_TYPE_SET_REFERENCE_TOPICS, setReferenceTopicKeys);\n      return opMap;\n    },\n    beforeOpFunction: function beforeOpFunction(props, next) {\n      var model = next();\n      var opType = props.opType,\n          topicKey = props.topicKey; // beforeOpFunction\n\n      if (opType === OpType.DELETE_TOPIC && topicKey !== model.editorRootTopicKey) {\n        var allDeleteKeys = getAllSubTopicKeys(model, topicKey);\n        allDeleteKeys.push(topicKey);\n        var extData_1 = model.getExtDataItem(EXT_DATA_KEY_TOPIC_REFERENCE, ExtDataReference);\n        var reference_1 = extData_1.reference; // Key\n\n        allDeleteKeys.forEach(function (deleteKey) {\n          var referencedKeys = extData_1.getReferencedKeys(deleteKey); // \n\n          reference_1 = reference_1.withMutations(function (reference) {\n            referencedKeys.forEach(function (v) {\n              reference.updateIn([v, 'keyList'], function (keyList) {\n                return keyList.delete(keyList.indexOf(deleteKey));\n              });\n            });\n          }); // \n\n          if (reference_1.has(deleteKey)) {\n            reference_1 = reference_1.delete(deleteKey);\n          }\n        });\n        extData_1 = extData_1.set('reference', reference_1);\n        model = model.setIn(['extData', EXT_DATA_KEY_TOPIC_REFERENCE], extData_1);\n      }\n\n      return model;\n    },\n    renderDiagramCustomize: function renderDiagramCustomize(props, next) {\n      var model = props.model,\n          controller = props.controller;\n      var zIndex = controller.getValue(PropKey.DIAGRAM_CUSTOMIZE_BASE_Z_INDEX) + 2;\n      var res = next();\n\n      if (model.focusMode === FOCUS_MODE_SET_REFERENCE_TOPICS) {\n        var panelProps = _assign(_assign({}, props), {\n          zIndex: zIndex,\n          topicKey: model.focusKey,\n          key: 'AddReferenceTopicPanel'\n        });\n\n        res.push(createElement(AddReferenceTopicPanel, _assign({}, panelProps)));\n      }\n\n      return res;\n    },\n    renderTopicContentOthers: function renderTopicContentOthers(props, next) {\n      var model = props.model,\n          topicKey = props.topicKey,\n          controller = props.controller;\n      var res = next();\n      res.push(controller.run('renderTopicExtReference', _assign(_assign({}, props), {\n        key: EXT_KEY_TOPIC_REFERENCE + '-icon'\n      })));\n\n      if (model.focusMode === FOCUS_MODE_SET_REFERENCE_TOPICS && model.focusKey !== topicKey) {\n        var checkBoxProps = _assign(_assign({}, props), {\n          key: 'checkbox',\n          selectedTopicKeys: selectedTopicKeys\n        });\n\n        var checkbox = createElement(TopicReferenceCheckbox, _assign({}, checkBoxProps));\n        res.push(checkbox);\n      }\n\n      return res;\n    },\n    renderTopicExtReference: function renderTopicExtReference(props, next) {\n      return createElement(TopicExtReference, _assign({}, props));\n    },\n    clearSelectedReferenceKeys: function clearSelectedReferenceKeys() {\n      selectedTopicKeys.clear();\n    },\n    getSelectedReferenceKeys: function getSelectedReferenceKeys() {\n      return Array.from(selectedTopicKeys);\n    },\n    //TODO\n    deserializeExtDataItem: function deserializeExtDataItem(props, next) {\n      var extDataKey = props.extDataKey,\n          extDataItem = props.extDataItem;\n\n      if (extDataKey === EXT_DATA_KEY_TOPIC_REFERENCE) {\n        var extDataReference = new ExtDataReference();\n\n        var _loop_1 = function _loop_1(key) {\n          var item = extDataItem.reference[key];\n          var referenceRecord = new ReferenceRecord({\n            keyList: List(item.keyList),\n            dataMap: Map(item.dataMap)\n          });\n          extDataReference = extDataReference.update('reference', function (reference) {\n            return reference.set(key, referenceRecord);\n          });\n        };\n\n        for (var key in extDataItem.reference) {\n          _loop_1(key);\n        }\n\n        return extDataReference;\n      }\n\n      return next();\n    }\n  };\n}\n\nvar NavOmniBar = Omnibar.ofType();\nvar StyledNavOmniBar = styled(NavOmniBar)(templateObject_1$3 || (templateObject_1$3 = __makeTemplateObject([\"\\n  top: 20%;\\n  left: 25% !important;\\n  width: 50% !important;\\n\"], [\"\\n  top: 20%;\\n  left: 25% !important;\\n  width: 50% !important;\\n\"])));\nvar TopicTitle = styled.div(templateObject_2$3 || (templateObject_2$3 = __makeTemplateObject([\"\\n  margin: 0 5px;\\n  padding: 10px 5px;\\n  width: 100%;\\n  font-size: 16px;\\n  cursor: pointer;\\n  &:hover {\\n    background: #e3e8ec;\\n  }\\n\"], [\"\\n  margin: 0 5px;\\n  padding: 10px 5px;\\n  width: 100%;\\n  font-size: 16px;\\n  cursor: pointer;\\n  &:hover {\\n    background: #e3e8ec;\\n  }\\n\"])));\nvar StyledPopover = styled(Popover)(templateObject_3$2 || (templateObject_3$2 = __makeTemplateObject([\"\\n  display: block;\\n\"], [\"\\n  display: block;\\n\"])));\nvar Tip = styled.div(templateObject_4$1 || (templateObject_4$1 = __makeTemplateObject([\"\\n  padding: 10px;\\n  font-size: 16px;\\n  //max-width: 800px;\\n  //max-height: 600px;\\n  overflow: auto;\\n\"], [\"\\n  padding: 10px;\\n  font-size: 16px;\\n  //max-width: 800px;\\n  //max-height: 600px;\\n  overflow: auto;\\n\"])));\nvar TipContent = styled.div(templateObject_5$1 || (templateObject_5$1 = __makeTemplateObject([\"\\n  white-space: break-spaces;\\n\"], [\"\\n  white-space: break-spaces;\\n\"])));\nvar INPUT_PROPS = {\n  placeholder: 'Search'\n};\n\nfunction SearchPanel(props) {\n  var model = props.model,\n      setSearchWord = props.setSearchWord,\n      controller = props.controller;\n\n  var onClose = function onClose() {\n    controller.run('operation', _assign(_assign({}, props), {\n      opType: OpType.SET_FOCUS_MODE,\n      focusMode: FocusMode.NORMAL\n    }));\n  };\n\n  var getAllSections = function getAllSections() {\n    var res = [];\n    model.topics.forEach(function (topic, topicKey) {\n      res.push({\n        key: topicKey,\n        title: controller.run('getTopicTitle', _assign(_assign({}, props), {\n          topicKey: topicKey\n        }))\n      });\n    });\n    return res;\n  };\n\n  var navigateToTopic = function navigateToTopic(topicKey) {\n    return function (e) {\n      controller.run('focusTopicAndMoveToCenter', _assign(_assign({}, props), {\n        topicKey: topicKey\n      }));\n    };\n  };\n\n  var renderItem = function renderItem(section, props) {\n    // const pathElements = section.path.reduce<React.ReactChild[]>(\n    //   (elems, el) => {\n    //     elems.push(el, <Icon key={el} icon=\"caret-right\" />);\n    //     return elems;\n    //   },\n    //   []\n    // );\n    var key = section.key,\n        sectionTitle = section.title;\n    var maxLength = 100;\n    var needTip = sectionTitle.length > maxLength;\n    var title = needTip ? sectionTitle.substr(0, maxLength) + '...' : sectionTitle;\n    var titleProps = {\n      key: key,\n      onClick: navigateToTopic(key)\n    };\n    var titleEl = createElement(TopicTitle, _assign({}, titleProps), title);\n    var tip = createElement(Tip, null, createElement(TipContent, null, sectionTitle));\n    var popoverProps = {\n      key: key,\n      target: titleEl,\n      content: tip,\n      fill: true,\n      interactionKind: PopoverInteractionKind.HOVER_TARGET_ONLY,\n      hoverOpenDelay: 1000\n    };\n    return needTip ? createElement(StyledPopover, _assign({}, popoverProps)) : titleEl;\n  };\n\n  var filterMatches = function filterMatches(query, items) {\n    return items.filter(function (item) {\n      return item.title.toLowerCase().includes(query.toLowerCase());\n    });\n  };\n\n  var sections = getAllSections();\n  return createElement(StyledNavOmniBar, {\n    inputProps: INPUT_PROPS,\n    itemListPredicate: filterMatches,\n    isOpen: true,\n    items: sections,\n    itemRenderer: renderItem,\n    // onItemSelect={handleItemSelect}\n    onClose: onClose,\n    resetOnSelect: true\n  });\n}\n\nvar templateObject_1$3, templateObject_2$3, templateObject_3$2, templateObject_4$1, templateObject_5$1;\nvar HOT_KEY_NAME_SEARCH = 'DEFAULT_SEARCH';\nvar FOCUS_MODE_SEARCH = 'FOCUS_MODE_SEARCH';\n\nfunction SearchPlugin() {\n  var setSearchWorld = function setSearchWorld(s) {};\n\n  return {\n    customizeHotKeys: function customizeHotKeys(props, next) {\n      var controller = props.controller,\n          model = props.model;\n      var hotKeys = next();\n      hotKeys.globalHotKeys.set(HOT_KEY_NAME_SEARCH, {\n        label: 'search',\n        combo: 'ctrl + f',\n        onKeyDown: function onKeyDown() {\n          controller.run('operation', _assign(_assign({}, props), {\n            opType: OpType.FOCUS_TOPIC,\n            topicKey: model.focusKey,\n            focusMode: FOCUS_MODE_SEARCH\n          }));\n        }\n      });\n      return hotKeys;\n    },\n    renderDiagramCustomize: function renderDiagramCustomize(props, next) {\n      var res = next();\n      var model = props.model;\n\n      if (model.focusMode === FOCUS_MODE_SEARCH) {\n        var searchPanelProps = _assign(_assign({\n          key: 'search-panel'\n        }, props), {\n          setSearchWorld: setSearchWorld\n        });\n\n        res.push(createElement(SearchPanel, _assign({}, searchPanelProps)));\n      }\n\n      return res;\n    }\n  };\n}\n\nexport { FOCUS_MODE_SEARCH, HOT_KEY_NAME_SEARCH, SearchPlugin, TopicReferencePlugin };","import React from \"react\";\nimport { iconClassName, browserOpenFile } from \"@blink-mind/renderer-react\";\n\nexport function ToolbarItemOpen(props) {\n  const onClickOpenFile = e => {\n    const { diagram } = props;\n    const diagramProps = diagram.getDiagramProps();\n    const { controller } = diagramProps;\n    browserOpenFile(\".json,.blinkmind,.bm\").then(txt => {\n      let obj = JSON.parse(txt);\n      let model = controller.run(\"deserializeModel\", { controller, obj });\n      diagram.openNewModel(model);\n    });\n  };\n  return (\n    <div\n      className={`bm-toolbar-item ${iconClassName(\"openfile\")}`}\n      onClick={onClickOpenFile}\n    />\n  );\n}\n","import React from \"react\";\nimport { DiagramLayoutType } from \"@blink-mind/core\";\nimport cx from \"classnames\";\nimport { Icon, iconClassName } from \"@blink-mind/renderer-react\";\nimport { Menu, MenuItem, Popover } from \"@blueprintjs/core\";\n\nexport function ToolbarItemLayout(props) {\n  const layoutDirs = [\n    [\n      DiagramLayoutType.LEFT_AND_RIGHT,\n      \"Left And Right\",\n      \"layout-left-and-right\"\n    ],\n    [DiagramLayoutType.LEFT_TO_RIGHT, \"Only Right\", \"layout-right\"],\n    [DiagramLayoutType.RIGHT_TO_LEFT, \"Only Left\", \"layout-left\"]\n  ];\n\n  const onClickSetLayout = layoutDir => e => {\n    const { diagram } = props;\n    const diagramProps = diagram.getDiagramProps();\n    const { controller } = diagramProps;\n    controller.run(\"setLayoutDir\", { ...diagramProps, layoutDir });\n  };\n\n  return (\n    <div\n      className={cx(\"bm-toolbar-item\", iconClassName(\"layout-left-and-right\"))}\n    >\n      <Popover enforceFocus={false}>\n        <div className=\"bm-toolbar-popover-target\" />\n        <Menu>\n          {layoutDirs.map(dir => (\n            <MenuItem\n              key={dir[1]}\n              icon={Icon(dir[2])}\n              text={dir[1]}\n              onClick={onClickSetLayout(dir[0])}\n            />\n          ))}\n        </Menu>\n      </Popover>\n    </div>\n  );\n};\n","import defaultThemeImg from \"../../images/default.jpg\";\nimport theme1Img from \"../../images/theme1.jpg\";\nimport theme2Img from \"../../images/theme2.jpg\";\nimport theme3Img from \"../../images/theme3.jpg\";\nimport theme4Img from \"../../images/theme4.jpg\";\nimport cx from \"classnames\";\nimport { iconClassName } from \"@blink-mind/renderer-react\";\nimport { Popover } from \"@blueprintjs/core\";\nimport React from \"react\";\n\nexport function ToolbarItemTheme(props) {\n  const onClickSetTheme = themeKey => e => {\n    const { diagram } = props;\n    const diagramProps = diagram.getDiagramProps();\n    const { controller } = diagramProps;\n    controller.run(\"setTheme\", { ...diagramProps, themeKey });\n  };\n  const themes = [\n    [\"default\", defaultThemeImg],\n    [\"theme1\", theme1Img],\n    [\"theme2\", theme2Img],\n    [\"theme3\", theme3Img],\n    [\"theme4\", theme4Img]\n  ];\n\n  return (\n    <div className={cx(\"bm-toolbar-item\", iconClassName(\"theme\"))}>\n      <Popover enforceFocus={false}>\n        <div className=\"bm-toolbar-popover-target\" />\n        <div className=\"bm-popover-theme\">\n          {themes.map(theme => (\n            <div\n              key={theme[0]}\n              className=\"bm-theme-item\"\n              onClick={onClickSetTheme(theme[0])}\n            >\n              <img className=\"bm-theme-img\" src={theme[1]} alt={theme[0]} />\n            </div>\n          ))}\n        </div>\n      </Popover>\n    </div>\n  );\n}\n","import cx from \"classnames\";\nimport { iconClassName } from \"@blink-mind/renderer-react\";\nimport { Menu, MenuDivider, MenuItem, Popover } from \"@blueprintjs/core\";\nimport React from \"react\";\nimport { downloadFile } from \"../../utils\";\n\nexport function ToolbarItemExport(props) {\n  const onClickExportJson = e => {\n    const { diagram } = props;\n    const diagramProps = diagram.getDiagramProps();\n    const { controller, model } = diagramProps;\n\n    const json = controller.run(\"serializeModel\", diagramProps);\n    const jsonStr = JSON.stringify(json);\n    const url = `data:text/plain,${encodeURIComponent(jsonStr)}`;\n    const title = controller.run(\"getTopicTitle\", {\n      ...diagramProps,\n      topicKey: model.rootTopicKey\n    });\n    downloadFile(url, `${title}.blinkmind`);\n  };\n\n  return (\n    <div className={cx(\"bm-toolbar-item\", iconClassName(\"export\"))}>\n      <Popover enforceFocus={false}>\n        <div className=\"bm-toolbar-popover-target\" />\n        <Menu>\n          <MenuItem text=\"JSON(.json)\" onClick={onClickExportJson} />\n          <MenuDivider />\n        </Menu>\n      </Popover>\n    </div>\n  );\n}\n","import { Model } from \"@blink-mind/core\";\n\nexport const downloadFile = (url, filename) => {\n  const link = document.createElement(\"a\");\n  link.href = url;\n  link.download = filename;\n  link.click();\n};\n\nexport function generateSimpleModel() {\n  return Model.create({\n    rootTopicKey: \"7b11654a-e9d3-45ba-a1aa-afca29ff5f18\",\n    editorRootTopicKey: \"7b11654a-e9d3-45ba-a1aa-afca29ff5f18\",\n    focusKey: \"6a995fff-008c-4e66-a127-590b13b99ffd\",\n    extData: {\n      TOPIC_REFERENCE: {\n        reference: {\n          \"131c9433-90a2-40b8-9e02-b774761c2456\": {\n            keyList: [\"33b684a7-f2aa-41a1-93fb-f5e1e621511d\"],\n            dataMap: {},\n          },\n          \"e1994f06-f679-4c5f-9197-90f6f2a551e7\": {\n            keyList: [\"bae54fe2-5e3a-40ec-8f36-4d7df7fd5a33\"],\n            dataMap: {},\n          },\n        },\n      },\n    },\n    topics: [\n      {\n        key: \"1f66701b-72a2-45be-abad-d14ba71a78e0\",\n        parentKey: \"ccf815c4-e6ad-4cbb-9427-cca701828c6c\",\n        subKeys: [\n          \"16bb2549-ee9b-4d13-bf1f-ee0ba86872b5\",\n          \"ea213084-3b9f-4c99-8f2b-903c00394708\",\n          \"e6406abc-7710-4f4d-9b0d-3b40d9b2d0a7\",\n          \"6a995fff-008c-4e66-a127-590b13b99ffd\",\n          \"97c73d77-1496-431f-93e6-5aebcfbf8020\",\n        ],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Functional\\nProgramming\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              \"Functional programming \\\\(FP\\\\) it is a declarative programming paradigm. It is the process of building software by composing pure functions, avoiding shared state, mutable data, global variables and side\\\\-effects. \\n\\nFor more info,\\n\\n* [https://mostly\\\\-adequate.gitbook.io/mostly\\\\-adequate\\\\-guide/](https://mostly-adequate.gitbook.io/mostly-adequate-guide/)\\n* [https://github.com/hemanth/functional\\\\-programming\\\\-jargon](https://github.com/hemanth/functional-programming-jargon)\\n* [https://gist.github.com/Geoff\\\\-Ford/51024380f4426d2bdca633d9217f9bcc](https://gist.github.com/Geoff-Ford/51024380f4426d2bdca633d9217f9bcc)\\n\\n\",\n          },\n        ],\n      },\n      {\n        key: \"f8959855-b412-49cf-b308-d4b014a6fc59\",\n        parentKey: \"183f002c-a1ac-4ef6-bd23-2495e98fefaa\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Abstraction\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              \"**Abstraction** is a way to reduce complexity. It hides the technical complexity of systems behind simpler APIs. There are two types of abstraction.\\n\\n```\\nclass CoffeeMachine {\\n  #waterLimit = 200; // private member\\n\\n  // private method\\n  #fixWaterAmount(value) {\\n    if (value < 0) return 0;\\n    if (value > this.#waterLimit) return this.#waterLimit;\\n  }\\n\\n  setWaterAmount(value) {\\n    this.#waterLimit = this.#fixWaterAmount(value);\\n  }\\n}\\n\\nlet coffeeMachine = new CoffeeMachine();\\ncoffeeMachine.setWaterAmount(100);\\n\\n// can't access privates from outside of the class\\ncoffeeMachine.#fixWaterAmount(123); // Error\\ncoffeeMachine.#waterLimit = 1000; // Error\\n\\n```\\n\",\n          },\n        ],\n      },\n      {\n        key: \"1c417f10-9197-42eb-a724-a2c99a488847\",\n        parentKey: \"dc0c93cb-0c05-40a0-9bd6-e6c1870c5613\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"forEach\",\n          },\n        ],\n      },\n      {\n        key: \"9b52509a-42df-4ba8-9200-29ec192e314a\",\n        parentKey: \"7b11654a-e9d3-45ba-a1aa-afca29ff5f18\",\n        subKeys: [\n          \"dc0c93cb-0c05-40a0-9bd6-e6c1870c5613\",\n          \"3dc1c815-02b4-4097-ae29-578920b3a065\",\n          \"5c0d4a18-5da2-4f3f-9752-4912ae3df225\",\n          \"2e5fc4c7-d9b2-4911-8b4f-220f5a0fb0e1\",\n        ],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Data\\nManipulation\",\n          },\n        ],\n      },\n      {\n        key: \"af8c79c0-2a79-40e8-a7ff-5edf08399e5b\",\n        parentKey: \"3dc1c815-02b4-4097-ae29-578920b3a065\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"get\",\n          },\n        ],\n      },\n      {\n        key: \"4567082c-b57b-45f4-8c04-168f9a2f123f\",\n        parentKey: \"06067a6c-cfd1-4faf-8aa6-5eb827f3d020\",\n        subKeys: [\"f548ba3e-55f6-484d-8289-858f8fd28289\"],\n        collapse: true,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Boolean\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              'The boolean type has only two values: **true** and **false**\\n\\n```\\nconsole.log(typeof(true)); //=> \"boolean\"\\nconsole.log(typeof(false)); //=> \"boolean\"\\n\\n```\\n\\n```\\nlet nameFieldChecked = true;\\nlet ageFieldChecked = false;\\n\\nconsole.log(\"Name field checked: \", nameFieldChecked, \" and \" , \"Age field checked: \", ageFieldChecked);\\n//=> Name field checked:  true  and  Age field checked:  false\\n\\n```\\n',\n          },\n        ],\n      },\n      {\n        key: \"a1649782-ec29-4030-bb2d-d6044103cf10\",\n        parentKey: \"f8750599-32db-4fb3-829e-0673887df2c2\",\n        subKeys: [\"dfb39c55-dfce-4d5a-88a7-5fd066288121\"],\n        collapse: true,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Function\\nexpression\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              'A **function expression** is determined by a function keyword, followed by an optional function name \\\\(anonymous\\\\), a list of parameters in a pair of parenthesis \\\\(para1, ..., paramN\\\\) and a pair of curly braces \\\\{ ... \\\\} that delimits the body code.\\n\\n**Syntax:**\\n```\\nconst exp = function functionName(params1, params2) {\\n    statements;\\n}\\n\\n```\\n\\n**example 1: named function**\\n* It provides the ability to write recursive function\\n* Better stack strace and readability\\n\\n```\\nconst count = function arrayLength(array) {\\n  return array.length;\\n}\\n\\ncount([5, 7, 8]); // output: \"3\"\\narrayLength([5, 7, 8]); // ReferenceError: arrayLength is not defined\\n\\n```\\n\\n**example 2: anonymous function**\\n```\\nconst count = function(array) {\\n  return array.length;\\n}\\n\\ncount([5, 7, 8]); // output: \"3\"\\n\\n```\\n\\n**example 3: Error stack trace**\\n```\\n// Ex 1:\\nconst count = function arrayLength(array) {\\n    throw new Error(\"Custom error\")\\n}\\n\\ncount([5, 7, 8]);\\n\\nError: Custom error\\n    at arrayLength (/Users/git/other/js/programming-basics/test.js:2:11)\\n    at Object.<anonymous> (/Users/git/other/js/programming-basics/test.js:5:1)\\n    at Module._compile (node:internal/modules/cjs/loader:1101:14)\\n    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)\\n    at Module.load (node:internal/modules/cjs/loader:981:32)\\n    at Function.Module._load (node:internal/modules/cjs/loader:822:12)\\n    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:79:12)\\n    at node:internal/main/run_main_module:17:47\\n\\n// Ex 2:    \\nconst count = function (array) {\\n    throw new Error(\"Custom error\")\\n}\\n\\ncount([5, 7, 8]);\\n\\nError: Custom error\\n    at count (/Users/git/other/js/programming-basics/test.js:2:11)\\n    at Object.<anonymous> (/Users/git/other/js/programming-basics/test.js:5:1)\\n    at Module._compile (node:internal/modules/cjs/loader:1101:14)\\n    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)\\n    at Module.load (node:internal/modules/cjs/loader:981:32)\\n    at Function.Module._load (node:internal/modules/cjs/loader:822:12)\\n    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:79:12)\\n    at node:internal/main/run_main_module:17:47\\n\\n```\\nOne of the benefits of creating a named function expression is that in case we encountered an error, the stack trace will contain the name of the function, making it easier to find the origin of the error.',\n          },\n        ],\n      },\n      {\n        key: \"ddfd37cf-11f2-4176-9d67-f494b6ea0263\",\n        parentKey: \"89cf71a0-0ca8-45ff-b136-62ffbf6ff778\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Default Binding\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              'The first rule is that, if the function contains a **this** reference and it is a standalone function invocation, then it is bound to global object, the default binding rule applies and it is the default catch\\\\-all rule when none of the other rules apply. It behaves differently for strict\\\\-mode and non strict\\\\-mode.\\n\\n* Non strict mode\\n\\n```\\nfunction foo() {\\n  console.log(this.bar);\\n}\\nvar bar = \"bar\"\\n\\nfoo(); //=> bar\\n\\n```\\n\\n* Strict mode\\n\\n```\\nfunction foo() {\\n\\'use strict\\'\\nconsole.log(this.bar);\\n}\\n\\nvar bar = \"yay\"\\n\\nfoo(); //=> TypeError: this is undefined\\n\\n```\\n',\n          },\n        ],\n      },\n      {\n        key: \"c0743415-e5c5-48da-a6ec-a2d0571da863\",\n        parentKey: \"7b11654a-e9d3-45ba-a1aa-afca29ff5f18\",\n        subKeys: [\n          \"d48e8af6-6e14-4a4c-967b-15cf3d58036c\",\n          \"245b9e77-ccdc-49b6-8a0a-838244d1de2e\",\n        ],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Exceptions &\\nError handling\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              \"* **Exceptions** are expected failures\\n* **Errors** are unexpected failures\\n   * Error objects are thrown when runtime errors occur. The Error object can also be used as a base object for user\\\\-defined exceptions.\\n\\n\\n**example**\\n```\\ntry {\\n  throw new Error('Whoops!')\\n} catch (e) {\\n  console.error(e.name + ': ' + e.message) //=> Error: Whoops!\\n}\\n\\n```\\n\",\n          },\n        ],\n      },\n      {\n        key: \"31aa7d3d-f836-4d0f-8704-6606fb0a1577\",\n        parentKey: \"183f002c-a1ac-4ef6-bd23-2495e98fefaa\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Polymorphism\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              '**Polymorphism **\\\\- The word \"poly\" means many and \"morphs\" means forms. So polymorphism means many forms. Using inheritance, objects can override shared parent behaviors, with specific child behaviors. It is of two forms\\n* Method Overriding, and\\n* Method Overloading\\n\\n\\n### Method Overriding\\n\\n* Method overriding uses **Runtime polymorphism**. In which, a child class can provide a different implementation of its parent class.\\n\\n```\\nclass Parent {\\n  display() {\\n    console.log(\"Parent class method has been called\");\\n  }\\n}\\nclass Child extends Parent {\\n  display() {\\n    console.log(\"Child class method has been called\");\\n  }\\n}\\n\\nconst henri = new Parent();\\nhenri.display(); //=> Parent class method has been called\\n\\nconst bruce = new Child();\\nbruce.display(); //=> Child class method has been called\\n\\n```\\n\\n### Method Overloading\\n\\n* Method overloading uses **Compile time** **polymorphism\\\\. **In which, methods have the same name, but a different number of parameters passed into the method call. JS does **NOT** support method overloading natively \\\\(because objects cannot have multiple properties with same name\\\\). If two methods are defined with same name then the last defined function will overwrite the previous methods.\\n\\n```\\nclass Base {\\n  display() {\\n    console.log(\"No params\");\\n  }\\n  display(name) {\\n    console.log(`Single params value - ${name}`);\\n  }\\n}\\n\\nconst obj = new Base();\\nobj.display(); //=> Single params value - undefined\\nobj.display(\"First\"); //=> Single params value - First\\n\\n```\\n',\n          },\n        ],\n      },\n      {\n        key: \"ea213084-3b9f-4c99-8f2b-903c00394708\",\n        parentKey: \"1f66701b-72a2-45be-abad-d14ba71a78e0\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Pure functions\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              \"A pure function is a function that, \\n* given the same input, will always return the same output \\n* does not have any side effect \\\\(e.g. like updating a local or global state\\\\)\\n\\n\\n* example 1\\n\\n```\\n// impure function\\nlet minimum = 21;\\nconst checkAgeImpureFunc = (age) => age >= minimum;\\n\\n// pure function\\nconst checkAgePureFunc = (age) => {\\n  const minimum = 21;\\n  return age >= minimum;\\n};\\n\\n// before changing the state\\nconsole.log(checkAgeImpureFunc(18)); //=> false\\nconsole.log(checkAgePureFunc(18)); //=> false\\n\\nminimum = 10;\\n\\n// after changing the state\\nconsole.log(checkAgeImpureFunc(18)); //=> true\\nconsole.log(checkAgePureFunc(18)); //=> false\\n\\n```\\n\\n* Built\\\\-in example\\n\\n**splice\\\\(\\\\) \\\\-** method changes the contents of an array by removing or replacing existing elements\\n**slice\\\\(\\\\)** \\\\- method returns a shallow copy of a portion of an array\\n```\\nconst xs = [1, 2, 3, 4, 5];\\n\\n// pure function\\nconsole.log(xs.slice(0, 3)); //=> [1,2,3]\\nconsole.log(xs.slice(0, 3)); //=> [1,2,3]\\nconsole.log(xs.slice(0, 3)); //=> [1,2,3]\\n\\n// impure function\\nconsole.log(xs.splice(0, 3)); //=> [1,2,3]\\nconsole.log(xs.splice(0, 3)); //=> [4,5]\\nconsole.log(xs.splice(0, 3)); //=> []\\n\\n```\\n\",\n          },\n        ],\n      },\n      {\n        key: \"d1972f4f-fd4a-43b1-8575-480a88d66898\",\n        parentKey: \"08aaf5bf-5222-4d4c-bd8d-2267d2f81433\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Shadowing\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              \"**Variable shadowing** occurs when a variable declared within a certain scope \\\\(decision block, or method\\\\) has the same name as a variable declared in an outer scope. This _outer variable_ is said to be shadowed by the inner variable, while the inner identifier is said to mask the outer identifier.\\n\\n**Example 1:**\\n```\\nlet number = 10; //variable declared in outer scope\\n\\nfunction displayDouble() {\\n  let number = 3; //same variable declared in inner scope\\n\\n  number = number * 2;\\n  console.log(number); //=> 6\\n}\\n\\ndisplayDouble();\\nconsole.log(number); //=> 10\\n\\n```\\n\\n**Example 2:**\\n```\\nlet employee = 'Kenny'; //variable declared in outer scope\\n\\n['Alice', 'Bob', 'Cathy'].forEach(employee => { //same variable declared in inner scope\\n  console.log(employee); //=> Alice Bob Cathy\\n});\\n\\nconsole.log(employee); //=> Kenny\\n\\n```\\n\\n**Example 3:**\\n```\\nlet name = 'Jenny'; //variable declared in outer scope\\n\\nfor (let name = 0; name < 3; name++) { //same variable declared in inner scope\\n  console.log(name); //=> 0 1 2\\n}\\n\\nconsole.log(name); //=> Jenny\\n\\n```\\n\",\n          },\n        ],\n      },\n      {\n        key: \"9677e53a-05a4-4bd6-9010-f10826426bb6\",\n        parentKey: \"3854fdd8-7de4-429c-b73d-2519cbf63781\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"else If Statement\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              '**if** statement can be extended with an **else if** statement, which adds another conditional with its own block, it is a way to chain on extra choices/outcomes.\\n\\n**Syntax:**\\n```\\nif (condition) {\\n     // when condition is true this block will be executed\\n     // no futher conditions will be checked\\n} else if (condition) {\\n      // when a previous block condition has been failed\\n      // this(else if) block condition is evaluted\\n      // when a condition passed this block will be executed\\n} else {\\n      //when all condition has been failed this block will be executed\\n}\\n\\n```\\n\\n**example:**\\n```\\nif (false) {\\n      console.log(\"if blocked executed\");\\n} else if (2 < 5 && 3 < 5 ) {\\n      console.log(\"else if blocked executed\");\\n} else {\\n      console.log(\"else blocked executed\");\\n}\\n\\n// Output - \"else if blocked executed\"\\n\\n```\\n',\n          },\n        ],\n      },\n      {\n        key: \"7662833c-7ece-4668-a37b-4e11820503b4\",\n        parentKey: \"08aaf5bf-5222-4d4c-bd8d-2267d2f81433\",\n        subKeys: [\"9c9627b1-6bba-4135-955e-608e6a937ed1\"],\n        collapse: true,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Function scope\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              \"**Function Scope** \\\\- A function in JavaScript defines a scope for variables declared using **var**, **let** and **const**.\\n\\n**Example 1:**\\n```\\nfunction run() {\\n  // \\\"run\\\" function scope\\n  var message = 'Run, Forrest, Run!';\\n  console.log(message); //=> 'Run, Forrest, Run!'\\n}\\n\\nrun();\\nconsole.log(message); //=> throws ReferenceError\\n\\n```\\n**run\\\\(\\\\)** function body creates a scope. The variable message is accessible inside of the function scope, but inaccessible outside.\\n\\n**Exmaple 2:**\\n```\\nfunction run() {\\n  // \\\"run\\\" function scope\\n  const two = 2;\\n  let count = 0;\\n  function run2() {}\\n\\n  console.log(two);   //=> 2\\n  console.log(count); //=> 0\\n  console.log(run2);  //=> function\\n}\\n\\nrun();\\nconsole.log(two);   //=> throws ReferenceError\\nconsole.log(count); //=> throws ReferenceError\\nconsole.log(run2);  //=> throws ReferenceError\\n\\n```\\n\\n**Exmaple 3**: Var is **functional\\\\-scoped**\\n```\\nvar fullMoon = true;\\n\\n// Use var to initialize a variable\\nvar species = \\\"human\\\";\\n\\nif (fullMoon) {\\n  // Attempt to create a new variable in a block\\n  var species = \\\"werewolf\\\";\\n  console.log(`${species}.`); //=> werewolf\\n}\\n\\nconsole.log(`${species}.`); //=> werewolf\\n\\n```\\nBoth the **global variable** and the **block\\\\-scoped variable** end up with the same value, **werewolf**. This is because instead of creating a new local variable with var, it is reassigning the same variable in the same scope.\\n\\n**Example 4:**\\n```\\nvar foo = 'bar';\\n\\nfunction bar() {\\n    var foo = 'baz';\\n\\n    function baz(foo) {\\n        foo = 'bam';\\n        bam = 'yay';\\n    }\\n    baz();\\n}\\n\\nbar();\\nconsole.log(foo); //=> bar\\nconsole.log(bam); //=> yay\\nbaz(); //=> ReferenceError: bam is not defined\\n\\n\\n```\\n\",\n          },\n        ],\n      },\n      {\n        key: \"91f27dd0-5185-4daa-8501-15ba8727dc06\",\n        parentKey: \"d40f6cf0-dcae-4162-8b2f-d89edd7e3212\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"for .. each\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              'The **forEach\\\\(\\\\)** method executes a provided function once for each array element \\\\(will see more of this in detail in Array & methods\\\\)\\n\\n**example 1:**\\n```\\nconst array = [1, 2, 3, { id: 254, name: \"Chris\" }]\\n\\narray[5] = 5\\narray[-6] = 6;\\narray[\"name\"] = \"Lars\"\\n\\narray.forEach(value => console.log(`Value: ${value}`));\\n\\n// Output:\\n// Value: 1\\n// Value: 2\\n// Value: 3\\n// Value: [object Object]\\n// Value: 5\\n\\n```\\n',\n          },\n        ],\n      },\n      {\n        key: \"96d2f138-986b-4286-b6da-755624dba9c4\",\n        parentKey: \"e1994f06-f679-4c5f-9197-90f6f2a551e7\",\n        subKeys: [\n          \"e94db39f-5a03-4a4c-95ab-dec899802e63\",\n          \"a3a421e7-3427-489e-892c-2342014a2235\",\n          \"8800712b-3d36-41bf-a8d2-a4bdb3b520e5\",\n          \"9a4cffea-7c9c-428d-8b2f-14e22805be6e\",\n        ],\n        collapse: false,\n        style: '{\"contentStyle\":{\"background\":\"#eb7bb2\"}}',\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Promises\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              \"Promise is an object represents the eventual completion \\\\(or failure\\\\) of an asynchronous operation and its resulting value. And it address the callback hell problem, inversion of control.\\n\\nA **Promise** is in one of these states:\\n* **pending**: initial state, neither fulfilled nor rejected.\\n* **fulfilled**: meaning that the operation was completed successfully.\\n* **rejected**: meaning that the operation failed.\\n\\n\\n```none\\n                                                                                 \\n                                               async                                        \\n                                      actions                                       \\n                                                                                \\n                           settled                                                           \\n                                                                           \\n                                 .then                                                      \\n                      (onFulfillment)                                             \\n                                                                                          \\n                 fulfill                                                  \\n    pending                                                                                 \\n                             return      pending                             \\n                                                         \\n   Promise                                                             .then()   \\n                                                  Promise        .catch()   ... \\n                                                                        \\n                  reject                                    \\n                           return                                         \\n                                                                                          \\n                                                                                  \\n                                .catch                                                      \\n                             (onRejection)                                                  \\n                                                                           \\n                                                                                             \\n                                                                                \\n                                               error                                       \\n                                     handling                                      \\n                                             \\n\\n```\\n\\nFor more info,\\n* [https://developer.mozilla.org/en\\\\-US/docs/Web/JavaScript/Reference/Global\\\\_Objects/Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)\\n* [https://developer.mozilla.org/en\\\\-US/docs/Web/JavaScript/Guide/Using\\\\_promises](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Using_promises)\\n\\n\",\n          },\n        ],\n      },\n      {\n        key: \"66e79181-e275-41de-94c5-eac1802afc6b\",\n        parentKey: \"277f12bf-6cef-4676-92bb-ee233886e4cb\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"\",\n          },\n        ],\n      },\n      {\n        key: \"8d03fe66-9d8f-4ae3-96c1-d18220788b3a\",\n        parentKey: \"dc0c93cb-0c05-40a0-9bd6-e6c1870c5613\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"pop\",\n          },\n        ],\n      },\n      {\n        key: \"c1e621c4-ae65-40d0-ad48-650368d181d0\",\n        parentKey: \"29f23365-fcf6-4f8f-8060-811df84e4770\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"\",\n          },\n        ],\n      },\n      {\n        key: \"d40f6cf0-dcae-4162-8b2f-d89edd7e3212\",\n        parentKey: \"7b11654a-e9d3-45ba-a1aa-afca29ff5f18\",\n        subKeys: [\n          \"d4cb9863-ba6c-4ea6-903e-44accf4a5b7b\",\n          \"29f23365-fcf6-4f8f-8060-811df84e4770\",\n          \"a3055667-8217-484e-aae8-728cab93135c\",\n          \"91f27dd0-5185-4daa-8501-15ba8727dc06\",\n          \"65199906-ca55-4ae8-bd9f-a4a08cbc2432\",\n          \"a70b7d9d-ea0f-49c3-a488-ddbceebe85d8\",\n        ],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Loops\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              \"A loop is a sequence of instructions that is **continually repeated** until a certain condition is met. An example would be the process of getting an item of data and changing it, and then making sure some condition is checked such as, if a counter has reached a prescribed number.\",\n          },\n        ],\n      },\n      {\n        key: \"ef12f21d-9fc6-4b69-9034-dfe4162cf6e7\",\n        parentKey: \"183f002c-a1ac-4ef6-bd23-2495e98fefaa\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Inheritance\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              '**Inheritance** allows one class to inherits the attributes and methods of another class. In other words, parent classes extend attributes and behaviors to child classes.\\n* **extends **keyword to make the **Person **class inheriting from the **Student** class\\\\.\\n* to** **call the method of the parent class fom the child class **super **keyword is used\\n\\n\\n```\\n// Parent class\\nclass Person {\\n  constructor(firstName, lastName) {\\n    console.log(\"Parent class has been called\");\\n    this.firstName = firstName;\\n    this.lastName = lastName;\\n  }\\n  greet() {\\n    console.log(`Hello, I am ${this.firstName} ${this.lastName}`);\\n  }\\n}\\n\\n// Child class\\nclass Student extends Person {\\n  constructor(firstName, lastName) {\\n    console.log(\"Child class has been called\");\\n    // call the super class constructor and pass in the name parameter\\n    super(firstName, lastName);\\n  }\\n  level() {\\n    // This method specific to Student class not available in Person class\\n    console.log(\"Apprentice\");\\n  }\\n}\\n\\nconst bruce = new Student(\"Bruce\", \"Wayne\");\\nbruce.greet();\\nbruce.level();\\n\\nconsole.log(\"\\\\n\");\\n\\nconst henri = new Person(\"Henri\", \"Ducard\");\\nhenri.greet();\\n\\n//=> Child class has been called\\n//=> Parent class has been called\\n//=> Hello, I am Bruce Wayne\\n//=> Apprentice\\n//\\n//\\n//=> Parent class has been called\\n//=> Hello, I am Henri Ducard\\n\\n```\\n',\n          },\n        ],\n      },\n      {\n        key: \"dbc9a664-bff0-4263-811c-cb91470ce277\",\n        parentKey: \"2c6ddd66-98a5-4410-b7f2-dbd42aaa7e01\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Object\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              '**Object** : typeof instance === \"object\". It is used to store collections of data and more complex entities.\\n\\n```\\nconsole.log(typeof({})); //=> \"object\"\\nconsole.log(typeof([])); //=> \"object\" - Arrays arent primitive, they are objects\\nconsole.log(typeof(new Map())); //=> \"object\"\\nconsole.log(typeof(new Date())); //=> \"object\"\\n\\n```\\n\\nSpecial non\\\\-data but Structural type for any constructed object instance also used as data structures: \\n1. new Object, \\n1. new Array, \\n1. new Map, \\n1. new Set, \\n1. new WeakMap, \\n1. new WeakSet, \\n1. new Date and almost everything made with **new** keyword;\\n\\n\\n**Indexed collections**: Arrays and typed Arrays\\n**Keyed collections**: Maps, Sets, WeakMaps, WeakSets',\n          },\n        ],\n      },\n      {\n        key: \"d48e8af6-6e14-4a4c-967b-15cf3d58036c\",\n        parentKey: \"c0743415-e5c5-48da-a6ec-a2d0571da863\",\n        subKeys: [\"31322dda-20dd-46ac-846f-5a632516e9dd\"],\n        collapse: true,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"throw /\\nerror\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              \"## Throw\\n\\n* The **throw** statement throws a user\\\\-defined exception. Execution of the current function will stop \\\\(the statements after throw won't be executed\\\\), and control will be passed to the first catch block in the call stack. If no catch block exists among caller functions, the program will terminate.\\n\\n\\n**Syntax:**\\n```\\nthrow expression;\\n\\n```\\n\\n**example 1:**\\n```\\nthrow 'Error2'; // generates an exception with a string value\\nthrow 42;       // generates an exception with the value 42\\nthrow true;     // generates an exception with the value true\\n\\n```\\n\\n**example 2:**\\n```\\nfunction getRectArea(width, height) {\\n    if (isNaN(width) || isNaN(height)) {\\n        throw 'Parameter is not a number!';\\n    }\\n}\\n\\ntry {\\n    getRectArea(3, 'A');\\n} catch (e) {\\n    console.error(e); //=> Parameter is not a number!\\n}\\n\\n```\\n\\n## Error\\n\\n* **Error** objects are thrown when runtime errors occur. The Error object can also be used as a base object for user\\\\-defined exceptions.\\n\\n\\n**example**\\n* Throwing a generic error\\n\\n```\\ntry {\\n  throw new Error('Whoops!')\\n} catch (e) {\\n  console.error(e.name + ': ' + e.message) //=> Error: Whoops!\\n}\\n\\n```\\n\\n* Handling a specific error type\\n\\n```\\ntry {\\n    foo.bar()\\n} catch (e) {\\n    if (e instanceof EvalError) {\\n        console.error(e.name + ': ' + e.message)\\n    } else if (e instanceof RangeError) {\\n        console.error(e.name + ': ' + e.message)\\n    }\\n    else {\\n        // If none of our cases matched leave the Error unhandled\\n        throw e;\\n    }\\n}\\n\\nResult:\\n\\nfile:///Users/execption.js:2\\nfoo.bar()\\n^\\n\\nReferenceError: foo is not defined\\nat file:///Users/execption.js:2:5\\nat ModuleJob.run (node:internal/modules/esm/module_job:183:25)\\nat async Loader.import (node:internal/modules/esm/loader:178:24)\\nat async Object.loadESM (node:internal/process/esm_loader:68:5)\\nat async handleMainPromise (node:internal/modules/run_main:63:12)\\n\\n```\\n\\n* Custom Error Class\\n\\n```\\nclass CustomError extends Error {\\n    constructor(foo = 'bar', ...params) {\\n        // Pass remaining arguments (including vendor specific ones) to parent constructor\\n        super(...params)\\n\\n        // Maintains proper stack trace for where our error was thrown (only available on V8)\\n        if (Error.captureStackTrace) {\\n            Error.captureStackTrace(this, CustomError)\\n        }\\n\\n        this.name = 'CustomError'\\n        // Custom debugging information\\n        this.foo = foo\\n        this.date = new Date()\\n    }\\n}\\n\\ntry {\\n    throw new CustomError('baz', 'bazMessage')\\n} catch (e) {\\n    console.error(e.name)    //=> CustomError\\n    console.error(e.foo)     //=> baz\\n    console.error(e.message) //=> bazMessage\\n    console.error(e.stack)   //=> stacktrace\\n}\\n\\n```\\n\\nFor more info,\\n* [https://developer.mozilla.org/en\\\\-US/docs/Web/JavaScript/Reference/Global\\\\_Objects/Error](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error)\\n\\n\",\n          },\n        ],\n      },\n      {\n        key: \"36a2fcb8-8f7a-4b25-adbc-3be25f6f534a\",\n        parentKey: \"89cf71a0-0ca8-45ff-b136-62ffbf6ff778\",\n        subKeys: [\"73667249-cfd7-438c-a8db-cb40b58d16fb\"],\n        collapse: true,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Explicit Binding\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              \"**Explicit Binding** will force a function call to use a particular object for the **this** binding\\\\. And it can be achieved using **call\\\\(\\\\)** and **apply\\\\(\\\\)**.\\n\\n* example 1\\n\\n```\\nfunction foo() {\\n    console.log(this.bar);\\n}\\n\\nlet obj1 = { bar: 'bar 1' };\\nlet obj2 = { bar: 'bar 2' };\\n\\nfoo.call(obj1); //=> bar 1\\nfoo.apply(obj2) //=> bar 2\\n\\n```\\n\\n* example 2\\n\\n```\\nfunction foo() {\\n    console.log(this.bar);\\n}\\n\\nlet obj1 = { bar: 'bar 1' };\\nlet obj2 = { bar: 'bar 2' };\\n\\nlet orig = foo;\\n\\nfoo = function () { orig.call(obj1) };\\n\\nfoo(); //=> bar 1\\nfoo.call(obj2); //=> bar 1 'it is explicitly bound to obj1'\\n\\n```\\n\",\n          },\n        ],\n      },\n      {\n        key: \"277f12bf-6cef-4676-92bb-ee233886e4cb\",\n        parentKey: \"5df46409-6d87-4099-85c8-664e7e703c8e\",\n        subKeys: [\"66e79181-e275-41de-94c5-eac1802afc6b\"],\n        collapse: true,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Class\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              '**Classes** are a template for creating objects. Classes in JS are built on prototypes. It is useful for creating multiple objects. And it is a new ES style convention and recommended one.\\n\\n```\\nclass Employee {\\n    constructor(firstName, lastName) {\\n        this.firstName = firstName;\\n        this.lastName = lastName;\\n    }\\n    print() {\\n        console.log(`${this.firstName} ${this.lastName}`)\\n    }\\n}\\n\\nlet user1 = new Employee(\"Jack\", \"Ryan\");\\nuser1.print(); //=> Jack Ryan\\n\\nlet user2 = new Employee(\"Alice\", \"Martin\");\\nuser2.print(); //=> Alice Martin\\n\\n```\\n',\n          },\n        ],\n      },\n      {\n        key: \"a70b7d9d-ea0f-49c3-a488-ddbceebe85d8\",\n        parentKey: \"d40f6cf0-dcae-4162-8b2f-d89edd7e3212\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"do while\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              '**do\\\\-while** loop will always be executed at least once, even if the condition is false, because the code block is executed before the condition is checked.\\n\\n```\\nlet i = 10;\\ndo {\\n  console.log(\"The number is \" + i);\\n  i++;\\n}\\nwhile (i < 5);\\n\\n// output: \"The number is 10\"\\n\\n```\\n',\n          },\n        ],\n      },\n      {\n        key: \"88317110-d644-4ca9-84bf-01ae778571da\",\n        parentKey: \"5c0d4a18-5da2-4f3f-9752-4912ae3df225\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"entries\",\n          },\n        ],\n      },\n      {\n        key: \"fa03906c-9682-4352-98eb-3a4525a5780c\",\n        parentKey: \"dc0c93cb-0c05-40a0-9bd6-e6c1870c5613\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"filter\",\n          },\n        ],\n      },\n      {\n        key: \"f9aad4c2-5205-49ec-a74c-ed04c3bb6813\",\n        parentKey: \"dc0c93cb-0c05-40a0-9bd6-e6c1870c5613\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"push\",\n          },\n        ],\n      },\n      {\n        key: \"d4cb9863-ba6c-4ea6-903e-44accf4a5b7b\",\n        parentKey: \"d40f6cf0-dcae-4162-8b2f-d89edd7e3212\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"for\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              'The **for** loop repeats a block of code as long as a certain condition is met. It is typically used to execute a block of code for certain number of times.\\n\\n**Syntax:**\\n```\\nfor(initialization; condition; final-expression) {\\n    // Code to be executed\\n}\\n\\n```\\n\\n* **initialization**  it is used to initialize the counter variables, and evaluated once unconditionally before the first execution of the body of the loop.\\n* **condition**  it is evaluated at the beginning of each iteration. If it evaluates to true, the loop statements execute. If it evaluates to false, the execution of the loop ends.\\n* **final\\\\-expression**  this is always evaluated \\\\(or run\\\\) each time the loop has gone through a full iteration. It usually serves to increment \\\\(or in some cases decrement\\\\) the counter variable.\\n\\n\\n**example 1**:\\n```\\nfor (let i = 0; i < 10; i++) {\\n  console.log(\"The number is \" + i);\\n}\\n\\n// Output:\\n// \"The number is 0\"\\n// \"The number is 1\"\\n// \"The number is 2\"\\n// \"The number is 3\"\\n// \"The number is 4\"\\n// \"The number is 5\"\\n// \"The number is 6\"\\n// \"The number is 7\"\\n// \"The number is 8\"\\n// \"The number is 9\"\\n\\n```\\n\\n**example 2: **skipping current execution of loop using **continue** statement\\n```\\nfor (let i = 0; i < 10; i++) {\\n  if(i%2===0){\\n    continue;\\n  }\\n  console.log(\"The number is \" + i);\\n}\\n\\n// Output:\\n// \"The number is 1\"\\n// \"The number is 3\"\\n// \"The number is 5\"\\n// \"The number is 7\"\\n// \"The number is 9\"\\n\\n```\\n\\n**example 3**: terminating current execution flow of the loop using **break** statement\\n```\\nfor (let i = 0; i < 10; i++) {\\n  if(i===5){\\n    break;\\n  }\\n  console.log(\"The number is \" + i);\\n}\\n\\n// Output:\\n// \"The number is 0\"\\n// \"The number is 1\"\\n// \"The number is 2\"\\n// \"The number is 3\"\\n// \"The number is 4\"\\n\\n```\\n\\n**example 4: **following example is valid js code\\n```\\nfor (; ;) {\\n    console.log(\"Infinite loop - \\'JavaScript heap out of memory\\' it is what you get when you run\");\\n}\\n\\n```\\n\\n**example 5: **And it iterates over by **positive numeric index**.\\n```\\nconst array = [1, 2, 3, { id: 254, name: \"Chris\" }]\\n\\narray[5] = 5\\narray[-6] = 6;\\narray[\"name\"] = \"Lars\"\\n\\nfor (let index = 0; index < array.length; index++)\\n    console.log(`Index: ${index} & Value: ${array[index]}`);\\n\\n// Output:\\n//Index: 0 & Value: 1\\n//Index: 1 & Value: 2\\n//Index: 2 & Value: 3\\n//Index: 3 & Value: [object Object]\\n//Index: 4 & Value: undefined\\n//Index: 5 & Value: 5     \\n\\n```\\n',\n          },\n        ],\n      },\n      {\n        key: \"7b11654a-e9d3-45ba-a1aa-afca29ff5f18\",\n        parentKey: null,\n        subKeys: [\n          \"44213600-22aa-4972-aa99-eec27b840064\",\n          \"252c6937-bd93-4233-90cb-333938667c72\",\n          \"08aaf5bf-5222-4d4c-bd8d-2267d2f81433\",\n          \"3854fdd8-7de4-429c-b73d-2519cbf63781\",\n          \"d40f6cf0-dcae-4162-8b2f-d89edd7e3212\",\n          \"f8750599-32db-4fb3-829e-0673887df2c2\",\n          \"5df46409-6d87-4099-85c8-664e7e703c8e\",\n          \"9b52509a-42df-4ba8-9200-29ec192e314a\",\n          \"c0743415-e5c5-48da-a6ec-a2d0571da863\",\n          \"1340cde2-dcef-48de-a00e-1ce996ecf377\",\n          \"ccf815c4-e6ad-4cbb-9427-cca701828c6c\",\n          \"e1994f06-f679-4c5f-9197-90f6f2a551e7\",\n          \"bae54fe2-5e3a-40ec-8f36-4d7df7fd5a33\",\n        ],\n        collapse: false,\n        style: '{\"contentStyle\":{\"background\":\"#f8e71c\"}}',\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Js\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              \"JavaScript is a **prototype\\\\-based**, multi\\\\-paradigm, single\\\\-threaded, dynamic language, supporting object\\\\-oriented, imperative, and declarative \\\\(e.g. functional programming\\\\) styles.\\n\\nIt is a lightweight, interpreted, or just\\\\-in\\\\-time compiled programming language. Which involves two phases  \\n* Parsing/Compilation, and\\n* Execution\\\\.\\n\\n\",\n          },\n        ],\n      },\n      {\n        key: \"6a995fff-008c-4e66-a127-590b13b99ffd\",\n        parentKey: \"1f66701b-72a2-45be-abad-d14ba71a78e0\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Immutability\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              'An **Immutable** objects state can\\'t be modified after it has been created.\\n\\n* Immutability in an object\\n\\n```\\nconst immutable = Object.freeze({\\n  foo: \"Hello\",\\n  bar: \"world\",\\n  baz: \"!\",\\n});\\n\\nimmutable.foo = \"Goodbye\"; // cannot edit property, silently ignored\\nimmutable.qux = \"Hi!!!\"; // cannot add property, silently ignored\\n\\nconsole.log(immutable); //=> { foo: \\'Hello\\', bar: \\'world\\', baz: \\'!\\' }\\n\\n\\n// Top level primitive properties of a frozen object cant change, \\n// but any property which is also an object (including arrays, etc) can still be mutated\\n\\nconst a = Object.freeze({\\n  foo: { greeting: \"Hello\" },\\n  bar: \"world\",\\n  baz: \"!\",\\n});\\n\\na.foo.greeting = \"Goodbye\";\\n\\nconsole.log(`${a.foo.greeting}, ${a.bar}${a.baz}`); //=> Goodbye, world!\\n\\n\\n```\\n\\n* Uisng **const** keyword only create immutable references. Meaning variable declared using **const** can\\'t be reassigned after creating.\\n\\n```\\n// Can\\'t reassign the variable\\nconst ALWAYS_IMMUTABLE = true;\\ntry {\\n  ALWAYS_IMMUTABLE = false;\\n} catch (err) {\\n  console.log(\"Can\\'t reassign an immutable reference.\");\\n}\\n\\n// Can change the properties\\nconst arr = [1, 2, 3];\\narr.push(4);\\nconsole.log(arr); //=> [1, 2, 3, 4]\\n\\n```\\n',\n          },\n        ],\n      },\n      {\n        key: \"a37aef6c-b62c-423c-8124-c18edc14142b\",\n        parentKey: \"f8750599-32db-4fb3-829e-0673887df2c2\",\n        subKeys: [\"24a0e9fa-2a33-4e0d-8736-ec434151a6d0\"],\n        collapse: true,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Generator\\nfunction\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              \"A **generator** is a function that can stop midway and then continue from where it stopped. In short, a generator appears to be a function but it behaves like an iterator.\\n\\n**example 1:** function declaration \\\\- **function\\\\* <function\\\\-name\\\\>\\\\(\\\\)**\\n```\\nfunction* generatorFunction() {\\n  console.log('This will be executed first.');\\n  yield 'Hello, ';\\n  console.log('I will be printed after the pause');  \\n  yield 'World!';\\n}\\nconst generatorObject = generatorFunction();\\n\\nconsole.log(generatorObject.next().value);\\n// This will be executed first.\\n// Hello, \\nconsole.log(generatorObject.next().value);\\n// I will be printed after the pause\\n// World!\\nconsole.log(generatorObject.next().value);\\n// undefined\\n\\n```\\n\\n**example 2: **function expression \\\\- **function\\\\* \\\\(\\\\)**\\n```\\nconst indexGenerator = function* () {\\n  let index = 0;\\n  while(true) {\\n    yield index++;\\n  }\\n};\\nconst g = indexGenerator();\\nconsole.log(g.next().value); //=> 0\\nconsole.log(g.next().value); //=> 1\\n\\n```\\n\\n**example 3: **Shorthand method definition \\\\- **\\\\*<function\\\\-name\\\\>\\\\(\\\\)**\\n```\\nconst obj = {\\n  *indexGenerator() {\\n    var index = 0;\\n    while(true) {\\n      yield index++;\\n    }\\n  }\\n}\\nconst g = obj.indexGenerator();\\nconsole.log(g.next().value); //=> 0\\nconsole.log(g.next().value); //=> 1\\n\\n```\\n\",\n          },\n        ],\n      },\n      {\n        key: \"62774116-bea5-49c3-a72c-6371f1cde7cb\",\n        parentKey: \"dc0c93cb-0c05-40a0-9bd6-e6c1870c5613\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"find\",\n          },\n        ],\n      },\n      {\n        key: \"9c9627b1-6bba-4135-955e-608e6a937ed1\",\n        parentKey: \"7662833c-7ece-4668-a37b-4e11820503b4\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"\",\n          },\n        ],\n      },\n      {\n        key: \"d3f7bd55-fe91-45b2-b13e-ea98bb7710d9\",\n        parentKey: \"10d9744a-f521-4bdf-8933-9c3fb1cfb2c8\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"\",\n          },\n        ],\n      },\n      {\n        key: \"5c0d4a18-5da2-4f3f-9752-4912ae3df225\",\n        parentKey: \"9b52509a-42df-4ba8-9200-29ec192e314a\",\n        subKeys: [\n          \"6608af00-8cd4-4fe1-bd0b-e18e12f4a684\",\n          \"bb6f8cdb-b6ee-4040-9195-170825342ded\",\n          \"12256f82-0a50-4408-8a76-525865cbad4b\",\n          \"88317110-d644-4ca9-84bf-01ae778571da\",\n          \"af72cd3d-9be6-4420-9c07-1a80e2c62e2d\",\n        ],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Set &\\nmethods\",\n          },\n        ],\n      },\n      {\n        key: \"48db7a4d-51df-43d6-bbdc-5ee3889f5eba\",\n        parentKey: \"89cf71a0-0ca8-45ff-b136-62ffbf6ff778\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Implicit Binding\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              \"Another rule to consider is, if the call\\\\-site have a context object, also referred to as an owning or containing object, in other wrords if the function is attached to an object \\\\(its context\\\\) at the call site. Then the implicit binding rule says that it's _that_ object which should be used for the function call's **this** binding\\\\.\\n\\n* example 1\\n\\n```\\nfunction foo() {\\n    console.log(this.bar);\\n}\\n\\nvar obj1 = { bar: 'bar 1', foo: foo };\\nvar obj2 = { bar: 'bar 2', foo: foo };\\n\\nobj1.foo(); //=> bar 1\\nobj2.foo(); //=> bar 2\\n\\n```\\n\\n* example 2\\n\\n```\\nvar obj1 = {\\n    bar: 'bar 1',\\n    foo: function () {\\n        console.log(this.bar);\\n    }\\n}\\n\\nvar obj2 = { bar: 'bar 2', foo: obj1.foo };\\nvar obj3 = { bar: 'bar 3', foo: obj2.foo };\\nvar obj4 = { bar: 'bar 3', obj2: obj2 };\\n\\nobj1.foo(); //=> bar 1\\nobj2.foo(); //=> bar 2\\nobj3.foo(); //=> bar 3\\nobj4.obj2.foo(); //=> bar 2 `top/last level of an object property reference chain matters to the call-site`\\n\\n```\\n\\n_Note: \\\\_One way to figure out which object _**this**_ is bound to is to look at which object is to the \\\\*\\\\*\\\\_left_** of the dot operator \\\\(**.\\\\*\\\\*\\\\)\",\n          },\n        ],\n      },\n      {\n        key: \"fc11e9b2-fb2a-4f5d-934e-65c172bb61fa\",\n        parentKey: \"2c6ddd66-98a5-4410-b7f2-dbd42aaa7e01\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Function\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              'A function is a code snippet that can be called by other code or by itself, or a variable that refers to the function. When a function is called, optionally arguments are passed to the function as input, and the function can return a value. \\n\\nA function in JavaScript is also an **object**.\\n\\n```\\nconsole.log(typeof(x => x * 2)); //=> \"function\"\\nconsole.log(typeof(function(){})); //=> \"function\"\\n\\n```\\n',\n          },\n        ],\n      },\n      {\n        key: \"b31ac6cb-b3c3-4dd2-83a1-6b5b7466d048\",\n        parentKey: \"06067a6c-cfd1-4faf-8aa6-5eb827f3d020\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Null\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              'In JavaScript, null is **not** a reference to a non\\\\-existing object or a null pointer like in some other languages. Its just a special value which represents **nothing**, **empty** or **value unknown**.\\n\\nThe special **null** value does not belong to any of the types described above.\\n```\\nconsole.log(typeof(null)); //=> \"object\"\\n\\n// This is a bug and one that unfortunately cant be fixed, \\n// because it would break existing code.\\n// https://2ality.com/2013/10/typeof-null.html\\n\\n```\\n\\nIt forms a separate type of its own which contains only the null value:\\n```\\nlet age = null;\\nconsole.log(age); //=> null\\n\\n```\\n',\n          },\n        ],\n      },\n      {\n        key: \"31322dda-20dd-46ac-846f-5a632516e9dd\",\n        parentKey: \"d48e8af6-6e14-4a4c-967b-15cf3d58036c\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"\",\n          },\n        ],\n      },\n      {\n        key: \"24a0e9fa-2a33-4e0d-8736-ec434151a6d0\",\n        parentKey: \"a37aef6c-b62c-423c-8124-c18edc14142b\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"\",\n          },\n        ],\n      },\n      {\n        key: \"ccf815c4-e6ad-4cbb-9427-cca701828c6c\",\n        parentKey: \"7b11654a-e9d3-45ba-a1aa-afca29ff5f18\",\n        subKeys: [\n          \"1f66701b-72a2-45be-abad-d14ba71a78e0\",\n          \"131c9433-90a2-40b8-9e02-b774761c2456\",\n        ],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Programming\\nparadigms\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              \"A _programming paradigm_ is a **style**, or **way**, of programming.\\n\\n### Some common programming paradigms\\n\\n* **Imperative** in which the programmer instructs the machine how to change its state,\\n   * **Procedural** which groups instructions into procedures,\\n   * **Object\\\\-oriented** which groups instructions with the part of the state they operate on,\\n* **Declarative** in which the programmer merely declares properties of the desired result, but not how to compute it\\n   * **Functional** in which the desired result is declared as the value of a series of function applications,\\n   * **Logical** in which the desired result is declared as the answer to a question about a system of facts and rules,\\n   * **Reactive** in which the desired result is declared with data streams and the propagation of change\\n\\n\",\n          },\n        ],\n      },\n      {\n        key: \"05c8bbd0-fe13-4906-92cf-8507b33954da\",\n        parentKey: \"252c6937-bd93-4233-90cb-333938667c72\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"var\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              \"Value stored in it can be **reassigned**. Variables, declared with var, are either function\\\\-scoped or global\\\\-scoped. \\\\(will see more of that in **Scopes & Closures**\\\\). Their visibility is scoped to current function, or global, if declared outside function.\\n\\nTo declare or create a varaible\\n```\\nvar message;\\n\\n```\\n\\nAssign a data into it by using the assignment operator **=**\\n```\\nmessage = 'Hello';\\n\\n```\\n\\nCombine the variable _declaration_ and _assignment_ into a single line\\n```\\nvar message = 'Hello!';\\n\\n```\\n\\nDeclare multiple variables in one line\\n```\\nvar user = 'John', age = 25, message = 'Hello';\\n\\n```\\n\\nReassigning a value\\n```\\nvar userName = \\\"Bruce\\\"\\nuserName = \\\"Wayne\\\"\\n\\nconsole.log(userName) //=> \\\"Wayne\\\"\\n\\n```\\n\",\n          },\n        ],\n      },\n      {\n        key: \"33b684a7-f2aa-41a1-93fb-f5e1e621511d\",\n        parentKey: \"f8750599-32db-4fb3-829e-0673887df2c2\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"_proto_ &\\nprototype\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              'In JavaScript, objects have a special hidden property **\\\\[\\\\[Prototype\\\\]\\\\]**, that is either null or references another object. That object is called a prototype.\\n\\nThe property \\\\[\\\\[Prototype\\\\]\\\\] is internal and hidden, but there are many ways to set it. One of them is to use the special name \\\\_\\\\_proto\\\\_\\\\_\\n```\\nlet animal = {\\n  eats: true\\n};\\nlet rabbit = {\\n  jumps: true\\n};\\n\\nrabbit.__proto__ = animal; // sets rabbit.[[Prototype]] = animal\\n\\n```\\n\\n* **\\\\_\\\\_proto\\\\_\\\\_** is an internal property of an object, pointing to its prototype. And it is used in the lookup chain to resolve methods \\\\(usage of \\\\_\\\\_proto\\\\_\\\\_ is deprecated**\\\\)**\\n* **prototype** is a property of a Function object. It is the prototype of objects constructed by that function.\\n\\n\\n**example 1:**\\n```\\nfunction Person(name) {\\n    this.name = name;\\n}\\n\\nPerson.prototype.age = 25;\\n\\nlet william = new Person(\\'William\\');\\nwilliam.age = 35;\\n\\n// the __proto__ property on the instance refers to the prototype of the constructor\\nconsole.log(william.__proto__ === Person.prototype); //=> true\\n\\nconsole.log(william.age); //=> 35\\n\\n// now we are directly accessing the prototype of the Person function\\nconsole.log(william.__proto__.age); //=> 25\\n\\n// william.__proto points to \"Person\" prototype \\n// william.__proto.__proto__ points to \"Object\" prototype\\nwilliam.__proto__.__proto__.toString = function () {\\n    console.log(\"built-in object modified\");\\n}\\n\\nconst obj = {};\\nobj.toString(); //=> built-in object modified\\n\\n```\\n\\n**example 2:**\\n```\\nfunction Employee(id, name) {\\n\\n    // instance members goes into objects\\n    this.id = id;\\n    this.name = name;\\n\\n    // function object members goes into Employee\\n    Employee.count = 0;\\n\\n    // prototype members goes into shared prototype\\n    Employee.prototype.baseSalary = 5000;\\n\\n    // instance function goes into every instance (wasting resource)\\n    this.print = function () {\\n        console.log(`id=${this.id}, name=${this.name}`);\\n    }\\n\\n    // prototype functions goes into shared prototype, added only once\\n    Employee.prototype.printDetails = function () {\\n        console.log(`id=${this.id}, name=${this.name}`);\\n    }\\n\\n}\\n\\nlet emp1 = new Employee(1, \"Alice\")\\nemp1.print(); //=> id=1, name=Alice\\nemp1.printDetails(); //=> id=1, name=Alice\\nemp1.baseSalary = 1000;\\nconsole.log(emp1.baseSalary); //=> 1000\\n\\nlet emp2 = new Employee(2, \"Bob\")\\nemp2.print(); //=> id=1, name=Alice\\nemp2.printDetails(); //=> id=1, name=Alice\\nconsole.log(emp2.baseSalary); //=> 5000\\n\\nconsole.log(emp1.constructor.count); //=> 0\\nconsole.log(emp2.constructor.count); //=> 0\\n\\n```\\n\\n**prototype \\\\- object linkage:**\\n```none\\n                                              \\n                 F      key    value                   key    value                 \\n                 u             O                  \\n                 n   __proto__                  b   __proto__                       \\n                 c             j                  \\n                 t    call()                    e  toString()                       \\n                 i             c                  \\n                 o   apply()                    t  valueOf()                        \\n                 n                                \\n                      bind()                         ...                            \\n                                              \\n                                            \\n       key    value          p      key    value                                  \\nE           r                                   \\nm   __proto__         o   __proto__                                 \\np            t                                    \\nl   prototype    o  constructor                                        \\no                  t                                                     \\ny            y                                    \\ne    count                    p  baseSalary                 \\ne            e            function printDetails{\\n                                printDetails             }           \\n                      \\n                                                                                           \\n                                                                                           \\n                                                                                           \\n                                                                    \\n                    key    value                                                       \\n                                                                      \\n             e   __proto__                                                 \\n             m                                                         \\n             p      id                                                                  \\n             1                                                         \\n                   name                                                \\n                         function print{                             \\n                   print            }                                    \\n                       \\n\\n```\\n\\nFor more refference,\\n* [https://javascript.info/prototypes](https://javascript.info/prototypes)\\n\\n',\n          },\n        ],\n      },\n      {\n        key: \"07fcbf3d-5e2d-4049-b16a-075a36dea9ec\",\n        parentKey: \"49780f87-17f7-4f90-a761-6ddf6ce8e1ca\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Error handling\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              \"A common callback pattern is called \\\"error\\\\-first style\\\" \\\\(sometimes called \\\"Node style,\\\" as it's also the convention used across nearly all Node.js APIs\\\\), where the first argument of a single callback is reserved for an error object \\\\(if any\\\\). If success, this argument will be empty/falsy \\\\(and any subsequent arguments will be the success data\\\\), but if an error result is being signaled, the first argument is set/truthy \\\\(and usually nothing else is passed\\\\)\\n\\n```\\n// Example asynchronous function\\nfunction asynchronousRequest(args, callback) {\\n  // Throw an error if no arguments are passed\\n  if (!args) {\\n    return callback(new Error('Whoa! Something went wrong.'))\\n  } else {\\n    return setTimeout(\\n      // Just adding in a random number so it seems like the contrived asynchronous function\\n      // returned different data\\n      () => callback(null, {body: args + ' ' + Math.floor(Math.random() * 10)}),\\n      500,\\n    )\\n  }\\n}\\n\\n// Nested asynchronous requests\\nfunction callbackHell() {\\n  asynchronousRequest('First', function first(error, response) {\\n    if (error) {\\n      console.log(error)\\n      return\\n    }\\n    console.log(response.body)\\n    asynchronousRequest('Second', function second(error, response) {\\n      if (error) {\\n        console.log(error)\\n        return\\n      }\\n      console.log(response.body)\\n      asynchronousRequest(null, function third(error, response) {\\n        if (error) {\\n          console.log(error)\\n          return\\n        }\\n        console.log(response.body)\\n      })\\n    })\\n  })\\n}\\n\\n// Execute\\ncallbackHell()\\n\\n```\\n\",\n          },\n        ],\n      },\n      {\n        key: \"28bcdae2-e48d-47e3-bc28-5f6afecfef7d\",\n        parentKey: \"3dc1c815-02b4-4097-ae29-578920b3a065\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"delete\",\n          },\n        ],\n      },\n      {\n        key: \"bb6f8cdb-b6ee-4040-9195-170825342ded\",\n        parentKey: \"5c0d4a18-5da2-4f3f-9752-4912ae3df225\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"clear\",\n          },\n        ],\n      },\n      {\n        key: \"a44085f3-06c0-4910-9787-af5b20c0709b\",\n        parentKey: \"08aaf5bf-5222-4d4c-bd8d-2267d2f81433\",\n        subKeys: [],\n        collapse: false,\n        style: '{\"contentStyle\":{\"background\":\"#9b9b9b\"}}',\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Module scope\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              '**Module Scope **\\\\- A module is just a file. One script is one module. Modules can load each other and use special directives export and import to interchange functionality, call functions of one module from another one:\\n\\n* **export** keyword labels variables and functions that should be accessible from outside the current module.\\n* **import** allows the import of functionality from other modules.\\n\\n\\nBefore modules, a variable declared outside any function was a global variable. In modules, a variable declared outside any function is hidden and not available to other modules unless it is explicitly exported.\\n\\nTo make import/export work, browsers need **<script type=\"module\"\\\\> **and for NodeJS \\\\- set **\"type\": \"module\"** in the **package\\\\.json** or use the **.mjs** extension\\\\.\\n\\n**Example 1:**\\nFor instance, if we have a file** sayHi\\\\.mjs** exporting a function:\\n```\\n//  sayHi.mjs\\nexport function sayHi(user) {\\n  console.log(`Hello, ${user}!`);\\n}\\n\\n```\\n\\nThen another file may import and use it:\\n```\\n//  main.mjs\\nimport {sayHi} from \\'./sayHi.mjs\\';\\n\\nconsole.log(sayHi); //=> function...\\nsayHi(\\'John\\'); //=> Hello, John!\\n\\n```\\n\\n**Example 2:**\\n**circle\\\\.mjs**\\n```\\n// \"circle\" module scope\\nconst pi = 3.14159;\\n\\nconsole.log(pi); //=> 3.14159\\n\\n// Usage of pi\\n\\n```\\n\\n**main\\\\.mjs**\\n```\\nimport \\'./circle\\';\\n\\nconsole.log(pi); //=> ReferenceError: pi is not defined\\n\\n```\\n\\nThe variable pi is **not accessible** outside of circle module \\\\(unless explicitly exported using export\\\\).\\n\\n**Refference**:\\n* [https://hacks.mozilla.org/2018/03/es\\\\-modules\\\\-a\\\\-cartoon\\\\-deep\\\\-dive/](https://hacks.mozilla.org/2018/03/es-modules-a-cartoon-deep-dive/)\\n* [https://developer.mozilla.org/en\\\\-US/docs/Web/JavaScript/Guide/Modules](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules)\\n* [https://javascript.info/modules\\\\-intro](https://javascript.info/modules-intro)\\n\\n',\n          },\n        ],\n      },\n      {\n        key: \"a3055667-8217-484e-aae8-728cab93135c\",\n        parentKey: \"d40f6cf0-dcae-4162-8b2f-d89edd7e3212\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"for .. of\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              \"The **for\\\\-of** loop is similar to the for\\\\-in loop because it loops over iterable objects. It invokes a custom iteration hook with statements to be executed for the value of each distinct property of the object. Compared to the for\\\\-in loop, it is newer and automatically uses an iterator.\\n\\n**Syntax:**\\n```\\nfor (let i of object) {\\n    console.log(i);\\n}\\n\\n```\\nIf the object is an array, the for\\\\-of loop will **print out the values** of the arrays indexes in order.\\n\\n**example 1:**\\n```\\nlet arr = [3, 5, 7];\\n\\nfor (let i of arr) {\\n  console.log(i);\\n}\\n\\n// output:\\n// 3\\n// 5\\n// 7\\n\\n```\\n\\n**example 2:**\\n```\\nconst items = {\\n  'first': new Date(),\\n  'second': 2,\\n  'third': 'test'\\n}\\n\\nfor (let i of items) {\\n  console.log(i);\\n}\\n\\n// Output: TypeError: items is not iterable\\n\\n```\\n\\n**example 3: **And it gets all the **values** of all postivie index\\n```\\nconst array = [1, 2, 3, { id: 254, name: \\\"Chris\\\" }]\\n\\narray[5] = 5\\narray[-6] = 6;\\narray[\\\"name\\\"] = \\\"Lars\\\"\\n\\nfor (let value of array)\\n    console.log(`Value: ${value}`);\\n    \\n// Output:\\n// Value: 1\\n// Value: 2\\n// Value: 3\\n// Value: [object Object]\\n// Value: undefined\\n// Value: 5\\n\\n```\\n\",\n          },\n        ],\n      },\n      {\n        key: \"3993010c-2552-4c4e-ad7e-195cb2bbc7e5\",\n        parentKey: \"5df46409-6d87-4099-85c8-664e7e703c8e\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Constructor\\nfunction\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              '**Constructor function** can also be used to create objects in JS. It is useful for creating multiple objects. And it is an old ES style convention not recommended anymore.\\n\\n```\\nfunction Person(firstName, lastName) {\\n    this.firstName = firstName;\\n    this.lastName = lastName;\\n}\\n\\nPerson.prototype.print = function () {\\n    console.log(`${this.firstName} ${this.lastName}`)\\n}\\n\\nlet user1 = new Person(\"Jack\", \"Ryan\")\\nuser1.print(); //=> Jack Ryan\\n\\nlet user2 = new Person(\"Alice\", \"Martin\")\\nuser2.print(); //=> Alice Martin\\n\\n```\\n',\n          },\n        ],\n      },\n      {\n        key: \"a9f8d9be-7d66-4b3e-941d-429c02913ec5\",\n        parentKey: \"f8750599-32db-4fb3-829e-0673887df2c2\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Arrow\\nfunction\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              'An **arrow function** is defined using a pair of parenthesis that contains the list of parameters \\\\(param1, param2, ..., paramN\\\\), followed by a fat arrow =\\\\> and a pair of curly braces \\\\{...\\\\} that delimits the body statements.\\n\\n**example 1:**\\n```\\nconst square = (value) => {\\n  return value * value\\n}\\nsquare(10); // output: \"100\"\\n\\n```\\n\\n**example 2:**\\n* When the arrow function has only one parameter, the pair of parentheses can be omitted. When it contains a single statement, the curly braces and return can be omitted too.\\n\\n```\\nconst square = value => value * value;\\nsquare(10); // output: \"100\"\\n\\n```\\n\\n**example 3:**\\n* when it takes no parameters\\n\\n```\\nconst currentDate = () => console.log(new Date().toString().slice(0,15));\\ncurrentDate(); // output: \"Wed Jul 21 2021\"\\n\\nconst currentTime = _ => console.log(new Date().toTimeString().slice(0, 8));\\ncurrentTime(); // output: \"19:08:58\"\\n\\n```\\n\\n**example 4:**\\n```\\nlet add = (a, b) => a + b;\\n\\nconst result = add(2, 2);\\nconsole.log(result); // output: \"4\"\\n\\n```\\n',\n          },\n        ],\n      },\n      {\n        key: \"092ca5f2-7268-4e31-b7bd-d9aa2c3fd8d0\",\n        parentKey: \"183f002c-a1ac-4ef6-bd23-2495e98fefaa\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Encapsulation\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              \"**Encapsulation **is bundling of data and methods into a single entity.\\n\\n```\\nclass Counter {\\n  #count = 0;\\n\\n  click() {\\n    this.#count = this.#count + 1;\\n  }\\n  getCount() {\\n    return this.#count;\\n  }\\n}\\nconst myCounter = new Counter();\\nmyCounter.click();\\nmyCounter.click();\\n\\nconsole.log(myCounter.getCount()); //=> 2\\n\\n```\\n\",\n          },\n        ],\n      },\n      {\n        key: \"265fb26e-4629-437b-8e64-aa7ce30ae47a\",\n        parentKey: \"252c6937-bd93-4233-90cb-333938667c72\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"let\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              \"Value stored in it can be reassigned. Let is **blocked** scope \\\\(will see more of that in **Scopes & Closures**\\\\).\\n\\nTo declare or create a varaible\\n```\\nlet message;\\n\\n```\\n\\nAssign a data into it by using the assignment operator =:\\n```\\nmessage = 'Hello';\\n\\n```\\n\\nCombine the variable _declaration_ and _assignment_ into a single line\\n```\\nlet message = 'Hello!';\\n\\n```\\n\\nDeclare multiple variables in one line\\n```\\nlet user = 'John', age = 25, message = 'Hello';\\n\\n```\\n\\nReassigning a value\\n```\\nlet userName = \\\"Bruce\\\"\\nuserName = \\\"Wayne\\\"\\n\\n```\\n\",\n          },\n        ],\n      },\n      {\n        key: \"c1f96a01-5d07-4fd0-99fb-210490cb6f5a\",\n        parentKey: \"dc0c93cb-0c05-40a0-9bd6-e6c1870c5613\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"concat\",\n          },\n        ],\n      },\n      {\n        key: \"06067a6c-cfd1-4faf-8aa6-5eb827f3d020\",\n        parentKey: \"44213600-22aa-4972-aa99-eec27b840064\",\n        subKeys: [\n          \"c92fd58b-57a4-4c72-897a-d1c394f9a8aa\",\n          \"1590d94a-ef69-4f89-9e2d-a3de018ca2d4\",\n          \"5c6ad5d4-eb49-479c-be03-0b8d8e805cee\",\n          \"4567082c-b57b-45f4-8c04-168f9a2f123f\",\n          \"b31ac6cb-b3c3-4dd2-83a1-6b5b7466d048\",\n          \"b5c8a0d0-01e6-4922-a8f0-132d5442bb1d\",\n          \"e784d8b5-f79b-469c-8fa4-e7305d4405b3\",\n        ],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Primitive\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              'All primitive values are **immutable**, means **unchangeable**. Read\\\\-only. The variable may be reassigned a new value, but the existing value can not be changed in the ways that objects, arrays, and functions can be altered.\\n\\n**Example 1:**\\n```\\nExample 1:\\nlet str = \\'hello\\';\\nconsole.log(str[0]); // \"h\"\\nstr[0] = \\'j\\';\\nconsole.log(str); // \"hello\"\\n\\n```\\n\\n**Example 2:**\\nhttps://github.com/getify/You\\\\-Dont\\\\-Know\\\\-JS/blob/2nd\\\\-ed/get\\\\-started/apA.md\\n```\\nlet myName = \"Kyle\";\\nlet yourName = myName;\\nmyName = \"Frank\";\\nconsole.log(myName); // \"Frank\"\\nconsole.log(yourName); // \"Kyle\"\\n\\n```\\n**yourName** wasn\\'t affected by the re\\\\-assignment of **myName** to \"Frank\"? That\\'s because each variable holds its own copy of the value.\\n\\n**Example 3:**\\n```\\n// Using a string method doesn\\'t mutate the string\\nvar bar = \"baz\";\\nconsole.log(bar);               // baz\\nbar.toUpperCase();\\nconsole.log(bar);               // baz\\n\\n// Assignment gives the primitive a new (not a mutated) value\\nbar = bar.toUpperCase();       // BAZ\\n\\n```\\n\\nFor more info \\\\- [https://developer.mozilla.org/en\\\\-US/docs/Glossary/Primitive](https://developer.mozilla.org/en-US/docs/Glossary/Primitive)',\n          },\n        ],\n      },\n      {\n        key: \"1590d94a-ef69-4f89-9e2d-a3de018ca2d4\",\n        parentKey: \"06067a6c-cfd1-4faf-8aa6-5eb827f3d020\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"BigInt\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              'In JavaScript, the **number** type cannot represent integer values larger than \\\\(253\\\\-1\\\\) \\\\(thats 9007199254740991\\\\), or less than \\\\-\\\\(253\\\\-1\\\\) for negatives. Its a technical limitation caused by their internal representation.\\n\\n```\\nconsole.log(typeof(22234234n)); //=> \"bigint\"\\n\\n```\\n\\nA BigInt value is created by appending n to the end of an integer\\n```\\nconst bigInt = 1234567890123456789012345678901234567890n; // the \"n\" at the end means it\\'s a BigInt\\n\\n```\\n\\nBigInt numbers are rarely needed',\n          },\n        ],\n      },\n      {\n        key: \"3cad2294-2687-43b8-bd7d-1ca3ebd67acd\",\n        parentKey: \"1340cde2-dcef-48de-a00e-1ce996ecf377\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Logical\\noperators\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              '**Logical operators** are typically used with Boolean \\\\(logical\\\\) values; when they are, they return a Boolean value. There are four logical operators in JS\\n* \\\\|\\\\| \\\\(OR\\\\)\\n* && \\\\(AND\\\\)\\n* \\\\! \\\\(NOT\\\\)\\n* ?? \\\\(Nullish Coalescing\\\\)\\n\\n\\n### \\\\|\\\\| \\\\(OR\\\\)\\n\\n* Returns true if **either** operand is true; if both are false, returns false.\\n\\n```\\nconsole.log(true || true);   //=> true\\nconsole.log(false || true);  //=> true\\nconsole.log(true || false);  //=> true\\nconsole.log(false || false); //=> false\\n\\n\\nif (1 || 0) { // works just like if( true || false )\\n    console.log(\\'truthy!\\'); //=> truthy!\\n}\\n\\nlet hour = 9;\\nif (hour < 10 || hour > 18) {\\n    console.log(\\'The office is closed.\\'); //=> The office is closed.\\n}\\n\\n```\\n* OR \\\\|\\\\| operator is the called **short\\\\-circuit** evaluation \\\\- It means that \\\\|\\\\| processes its arguments until the first truthy value is reached, and then the value is returned immediately, without even touching the other argument.\\n\\n```\\ntrue || console.log(\"not printed\");\\nfalse || console.log(\"printed\"); //=> printed\\n\\n```\\n\\n\\n### && \\\\(AND\\\\)\\n\\n* Returns true if **both** operands are true; otherwise, returns false.\\n\\n```\\nconsole.log(true && true);   //=> true\\nconsole.log(false && true);  //=> false\\nconsole.log(true && false);  //=> false\\nconsole.log(false && false); //=> false\\n\\nlet hour = 12;\\nlet minute = 30;\\nif (hour == 12 && minute == 30) {\\n    console.log(\\'The time is 12:30\\'); //=> The time is 12:30\\n}\\n\\nif (1 && 0) { // evaluated as true && false\\n    console.log(\"won\\'t work, because the result is falsy\");\\n}\\n\\n```\\n\\n\\n### Short\\\\-circuit evaluation\\n\\nAs logical expressions are evaluated left to right, they are tested for possible \"short\\\\-circuit\" evaluation using the following rules:\\n\\n* false && anything is short\\\\-circuit evaluated to false.\\n* true \\\\|\\\\| anything is short\\\\-circuit evaluated to true.\\n\\n\\n### \\\\! \\\\(NOT\\\\)\\n\\n* Returns the inverse value.\\n\\n```\\nconsole.log(!true); //=> false\\nconsole.log(!0); //=> true\\n\\nconsole.log(!!\"non-empty string\"); //=> true\\nconsole.log(!!null); //=> false\\n\\nconsole.log(Boolean(\"non-empty string\")); //=> true\\nconsole.log(Boolean(null)); //=> false\\n\\n```\\n',\n          },\n        ],\n      },\n      {\n        key: \"9eaa4c3f-edb8-487d-b332-ad14665991f9\",\n        parentKey: \"1340cde2-dcef-48de-a00e-1ce996ecf377\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Assignment\\noperators\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              \"An **assignment operator** assigns a value to its left operand based on the value of its right operand. The simple assignment operator is equal \\\\(=\\\\), which assigns the value of its right operand to its left operand. That is, x = y assigns the value of y to x.\\n\\n| **Name** | **Shorthand operator** | **Meaning** |\\n|:--- |:--- |:--- |\\n| Assignment | x = y | x = y |\\n| Addition assignment | x \\\\+= y | x = x \\\\+ y |\\n| Subtraction assignment | x \\\\-= y | x = x \\\\- y |\\n| Multiplication assignment | x \\\\*= y | x = x \\\\* y |\\n| Division assignment | x /= y | x = x / y |\\n| Remainder assignment | x %= y | x = x % y |\\n| Exponentiation assignment | x \\\\*\\\\*= y | x = x \\\\*\\\\* y |\\n| Left shift assignment | x <<= y | x = x << y |\\n| Right shift assignment | x \\\\>\\\\>= y | x = x \\\\>\\\\> y |\\n| Unsigned right shift assignment | x \\\\>\\\\>\\\\>= y | x = x \\\\>\\\\>\\\\> y |\\n| Bitwise AND assignment | x &= y | x = x & y |\\n| Bitwise XOR assignment | x ^= y | x = x ^ y |\\n| Bitwise OR assignment | x \\\\| = y | x = x \\\\| y |\\n| Logical AND assignment | x &&= y | x && \\\\(x = y\\\\) |\\n| Logical OR assignment | x \\\\| \\\\| = y | x \\\\| \\\\| \\\\(x = y\\\\) |\\n| Logical nullish assignment | x ??= y | x ?? \\\\(x = y\\\\) |\\n**example**\\n```\\nconst x = 10;\\nlet y = x;\\nconsole.log(y); //=> 10\\n\\nlet a = null;\\nlet b = 100;\\nconsole.log(a) //=> null\\na ??= b; // operator only assigns if a is nullish\\nconsole.log(a) //=> 100\\n\\n```\\n\",\n          },\n        ],\n      },\n      {\n        key: \"65199906-ca55-4ae8-bd9f-a4a08cbc2432\",\n        parentKey: \"d40f6cf0-dcae-4162-8b2f-d89edd7e3212\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"while\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              'The **while** loop loops through a block of code as long as the specified condition evaluates to true. As soon as the condition fails, the loop is stopped.\\n\\n**Syntax:**\\n\\n```\\nwhile(condition) {\\n    // as long as the condition is true\\n    // code in this block will be executed\\n}\\n\\n```\\n\\n**example 1:**\\n\\n```\\nlet count = 1;\\nwhile(count <= 5) {    \\n    console.log(\"The number is \" + count);\\n    count++;\\n}\\n\\n// Output:\\n// The number is 1\\n// The number is 2\\n// The number is 3\\n// The number is 4\\n// The number is 5\\n\\n```\\n\\n**example 2: **skipping current execution of loop using **continue** statement\\n\\n```\\nlet count = 1;\\nwhile(count <= 10) {\\n    if(count%2===0){\\n        count++;\\n        continue;\\n    }    \\n    console.log(\"The number is \" + count);\\n    count++;\\n}\\n\\n// Output:\\n// \"The number is 1\"\\n// \"The number is 3\"\\n// \"The number is 5\"\\n// \"The number is 7\"\\n// \"The number is 9\"\\n\\n```\\n\\n**example 3**: terminating current execution flow of the loop using **break** statement\\n\\n```\\nlet count = 1;\\nwhile(true) {\\n    if(count===10){\\n        break;\\n    }    \\n    console.log(\"The number is \" + count);\\n    count++;\\n}\\n\\n// Output:\\n// \"The number is 1\"\\n// \"The number is 2\"\\n// \"The number is 3\"\\n// \"The number is 4\"\\n// \"The number is 5\"\\n// \"The number is 6\"\\n// \"The number is 7\"\\n// \"The number is 8\"\\n// \"The number is 9\"\\n\\n```\\n',\n          },\n        ],\n      },\n      {\n        key: \"f548ba3e-55f6-484d-8289-858f8fd28289\",\n        parentKey: \"4567082c-b57b-45f4-8c04-168f9a2f123f\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"\",\n          },\n        ],\n      },\n      {\n        key: \"a405dd09-5977-4ac7-9823-fbc6cc2a630f\",\n        parentKey: \"e1994f06-f679-4c5f-9197-90f6f2a551e7\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"async /\\nawait\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              'The keywords aysnc and await makes working with promises easier.\\n\\n### async keyword\\n\\n* The keyword async before a function makes the function return a promise.\\n\\n```\\nfunction myFunc() {\\n  return Promise.resolve(\"Hello, world\");\\n}\\n\\n// rewriting the above method using async keyword\\n\\nasync function myFunc() {\\n  return \"Hello, world\";\\n}\\n\\nmyFunc().then((val) => console.log(val)); //=> \"Hello, world\"\\n\\n```\\n\\n* Using async keyword in arrow function\\n\\n```\\nlet myFunc = async () => \"Hello, world\";\\n\\nmyFunc().then((val) => console.log(val)); //=> Hello, world\\n\\n```\\n\\n### await keyword\\n\\n* The** **keyword **await **can be put in front of any async promise\\\\-based function to pause your code on that line until the promise fulfills, then return the resulting value.\\n\\n```\\nconst one = () => Promise.resolve(\"One\");\\n\\nasync function myFunc() {\\n  console.log(\"In function\");\\n  const res = await one();\\n  console.log(res);\\n}\\n\\nconsole.log(\"Before function\");\\nmyFunc();\\nconsole.log(\"After function\");\\n\\n//=> Before function\\n//=> In function\\n//=> After function\\n//=> One\\n\\n```\\n\\n```\\nfunction resolveAfter2Seconds() {\\n  return new Promise((resolve) => {\\n    setTimeout(() => {\\n      resolve(\"resolved\");\\n    }, 2000);\\n  });\\n}\\n\\nasync function asyncCall() {\\n  console.log(\"Start\");\\n  const result = await resolveAfter2Seconds();\\n  console.log(result);\\n  console.log(\"End\");\\n}\\n\\nasyncCall();\\n\\n//=> Start\\n//=> resolved\\n//=> End\\n\\n```\\n* Usage of await keyword can only be used inside an async function. \\n\\n```\\nconst one = () => Promise.resolve(\"One\");\\n\\nconst res = await one();\\nconsole.log(res);\\n\\n//=> SyntaxError: await is only valid in async functions and the top level bodies of modules\\n\\n```\\n\\n### Error handling\\n\\nFor more info,\\n* [https://developer.mozilla.org/en\\\\-US/docs/Web/JavaScript/Reference/Statements/async\\\\_function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function)\\n\\n',\n          },\n        ],\n      },\n      {\n        key: \"35cf3ece-a21e-4a8e-a8f8-d2b24a2b742d\",\n        parentKey: \"08aaf5bf-5222-4d4c-bd8d-2267d2f81433\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Global scope\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              'The scope of a variable declared with **var** is its current execution context and closures thereof, which is either the enclosing function and functions declared within it, or, for variables declared outside any function, global. \\n\\nYou can also assign a value to a variable For example, **x = 42**. This form creates an **undeclared global variable**. \\n\\n```\\nvar x = 0; // Declares x within file scope, then assigns it a value of 0.\\n\\nconsole.log(typeof z); // \"undefined\", since z doesn\\'t exist yet\\n\\nfunction a() {\\n    var y = 2; // Declares y within scope of function a, then assigns it a value of 2.\\n\\n    console.log(x, y); // 0 2\\n\\n    function b() {\\n        x = 3; // Assigns 3 to existing file scoped x.\\n        y = 4; // Assigns 4 to existing outer y.\\n        z = 5; // Creates a new global variable z, and assigns it a value of 5.\\n        // (Throws a ReferenceError in strict mode.)\\n    }\\n\\n    b(); // Creates z as a global variable.\\n    console.log(x, y, z); // 3 4 5\\n}\\n\\na(); // Also calls b.\\nconsole.log(x, z);     //=> 3 5\\nconsole.log(typeof y); //=> \"undefined\", as y is local to function a\\n\\n```\\n\\n**Note: window** and **document**, for example, are global variables supplied by the **browser**. In a **Node** environment, you can access **global** object as a global variable.\\n\\n**Refference:**\\n* [https://developer.mozilla.org/en\\\\-US/docs/Web/JavaScript/Reference/Statements/var](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/var)\\n* https://developer.mozilla.org/en\\\\-US/docs/Web/JavaScript/Guide/Grammar\\\\_and\\\\_types#variable\\\\_scope\\n\\n',\n          },\n        ],\n      },\n      {\n        key: \"aea8f33e-b4a3-4139-a406-d5fa77431698\",\n        parentKey: \"49780f87-17f7-4f90-a761-6ddf6ce8e1ca\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"callback hell\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              \"Callback hell is also reffered as pyramid of doom. And callback hell is almost nothing to do with the nesting/indentation, if you look at example 1 and example 2, both suffers callback hell problem. **Inversion of Control \\\\- ** it is the notion of having code under your control in one part of the program, then handing control over to a callback in another part of the program\\n\\n* **example 1:**\\n\\n```\\nsetTimeout(function () {\\n    console.log('1');\\n    setTimeout(function () {\\n        console.log('2');\\n        setTimeout(function () {\\n            console.log('3');\\n        }, 1000)\\n    }, 1000)\\n}, 1000)\\n\\n//=> 1\\n//=> 2\\n//=> 3\\n\\n```\\n\\n* **example 2:**\\n\\n```\\nfunction one(callback) {\\n    console.log('1');\\n    setTimeout(callback, 1000);\\n}\\n\\nfunction two(callback) {\\n    console.log('2');\\n    setTimeout(callback, 1000);\\n}\\n\\nfunction three() {\\n    console.log('3');\\n}\\n\\none(function () {\\n    two(three);\\n});\\n\\n//=> 1\\n//=> 2\\n//=> 3\\n\\n```\\n\",\n          },\n        ],\n      },\n      {\n        key: \"5499f8cd-26d8-4796-acc9-b138109bcea0\",\n        parentKey: \"e784d8b5-f79b-469c-8fa4-e7305d4405b3\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"\",\n          },\n        ],\n      },\n      {\n        key: \"5c6ad5d4-eb49-479c-be03-0b8d8e805cee\",\n        parentKey: \"06067a6c-cfd1-4faf-8aa6-5eb827f3d020\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"String\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              'A string in JavaScript must be surrounded by quotes.\\n\\n```\\nconsole.log(typeof(\"hello\")); //=> \"string\"\\nconsole.log(typeof(\\'hello\\')); //=> \"string\"\\nconsole.log(typeof(`hello`)); //=> \"string\"\\n\\n```\\n\\n```\\nlet str = \"Hello\";\\nlet str2 = \\'Single quotes are ok too\\';\\nlet phrase = `can embed another ${str}`;\\n\\nconsole.log(\"Str:\", str, \"+\", \"Str2:\", str2, \"+\", \"Phrase:\", phrase);\\n//=> Str: Hello + Str2: Single quotes are ok too + Phrase: can embed another Hello\\n\\n```\\n\\nIn JavaScript, there are 3 types of quotes.\\n```\\nDouble quotes: \"Hello\".\\nSingle quotes: \\'Hello\\'.\\nBackticks: `Hello`.\\n\\n```\\n',\n          },\n        ],\n      },\n      {\n        key: \"4e7eeab5-6321-43c0-9350-31a523a94d8d\",\n        parentKey: \"89cf71a0-0ca8-45ff-b136-62ffbf6ff778\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"order of\\nprecedence\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              \"1. Was the function called with 'new' ?\\n1. Was the fucntion called with 'call' or 'apply' specifying an explicit this ?\\n1. Was the function called via a containing/owing object \\\\(context\\\\) ?\\n1. Default, global object \\\\(expect strict mode\\\\)\\n\\n\",\n          },\n        ],\n      },\n      {\n        key: \"e94db39f-5a03-4a4c-95ab-dec899802e63\",\n        parentKey: \"96d2f138-986b-4286-b6da-755624dba9c4\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Consuming\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              \"A promise is a JavaScript object that will return a value at some point in the future. A pending promise can either be fulfilled with a value or rejected with a reason \\\\(error\\\\).\\n\\nFetch API, a provides a standard way to make server requests with promises.\\n\\n* promise fulfilled flow\\n\\n```\\nfetch('https://api.github.com/users/octocat')\\n    .then((response) => {\\n        return response.json()\\n    })\\n    .then((data) => {\\n        console.log(data)\\n    })\\n    .catch((error) => {\\n        console.error(error)\\n    })\\n\\n```\\n\\n* promise error flow\\n\\n```\\nfetch('https://api.github.com/users/!@#$%')\\n    .then((response) => {\\n        return response.json()\\n    })\\n    .then((data) => {\\n        console.log(data)\\n    })\\n    .catch((error) => {\\n        console.error(error)\\n    })\\n\\n```\\n\",\n          },\n        ],\n      },\n      {\n        key: \"c92fd58b-57a4-4c72-897a-d1c394f9a8aa\",\n        parentKey: \"06067a6c-cfd1-4faf-8aa6-5eb827f3d020\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Number\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              'The number type represents both **integer** and **floating point** numbers\\\\.\\n\\n**Example 1: **Checking the type\\n```\\nconsole.log(typeof(2)); // \"number\"\\nconsole.log(typeof(-200)); // \"number\"\\nconsole.log(typeof(100.554)); // \"number\"\\nconsole.log(typeof(-99.99)); // \"number\"\\n\\n```\\n\\n```\\nlet age = 35\\nconst gravity = 9.81  // const for non-changing values\\nlet mass = 72         // mass in Kilogram\\nconst PI = 3.14       // pi a geometrical constant\\nconst boilingPoint = 100 // temperature in oC, boiling point of water which is a constant\\nconst bodyTemp = 37      // oC average human body temperature, which is a constant\\n\\nconsole.log(age, gravity, mass, PI, boilingPoint, bodyTemp) //=> 35 9.81 72 3.14 100 37\\n\\n```\\n',\n          },\n        ],\n      },\n      {\n        key: \"ea952fa5-a291-436e-85a1-8cda065a4432\",\n        parentKey: \"1340cde2-dcef-48de-a00e-1ce996ecf377\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"String\\noperators\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              \"The **concatenation operator** \\\\(\\\\+\\\\) concatenates two string values together, returning another string that is the union of the two operand strings.\\n\\n**example:**\\n```\\nconsole.log('my ' + 'string'); //=> console logs the string \\\"my string\\\".\\n\\nlet myString = 'alpha';\\nmyString += 'bet';\\nconsole.log(myString); //=> alphabet\\n\\n```\\n\",\n          },\n        ],\n      },\n      {\n        key: \"12256f82-0a50-4408-8a76-525865cbad4b\",\n        parentKey: \"5c0d4a18-5da2-4f3f-9752-4912ae3df225\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"delete\",\n          },\n        ],\n      },\n      {\n        key: \"69e69b35-9400-4fb3-aa5e-e9315b4a6eba\",\n        parentKey: \"08aaf5bf-5222-4d4c-bd8d-2267d2f81433\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Closure\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              \"A **closure** is the combination of a function bundled together \\\\(enclosed\\\\) with references to its surrounding state \\\\(the lexical environment\\\\). In other words, a closure gives you access to an outer functions scope from an inner function. In JavaScript, closures are created every time a function is created, at function creation time. In JavaScript, closures are created every time a function is created, at function creation time.\\n\\n_**Closure is when a function 'remembers' its lexical scope even when the function is executed outside that lexical scope.**_\\n\\nThe closure **captures** variables from lexical environment.\\n```\\nfunction outerFunc() {\\n  let outerVar = 'I am outside!';\\n\\n  function innerFunc() {\\n    console.log(outerVar);\\n  }\\n\\n  return innerFunc; // Even though this function is being returned it still remembers lexical environment\\n}\\n\\nconst myInnerFunc = outerFunc();\\nmyInnerFunc(); //=> \\\"I am outside!\\\"\\n\\n```\\nNow **innerFunc\\\\(\\\\)** is executed outside of its lexical scope. And whats important. **innerFunc\\\\(\\\\)** still has access to **outerVar** from its **lexical scope**, _even being executed outside of its lexical scope_.\\n\\nIn other words, **innerFunc\\\\(\\\\) **closes over \\\\(a.k.a. captures, remembers\\\\) the variable outerVar from its lexical scope.\\n\\n**Refference:**\\n* [https://developer.mozilla.org/en\\\\-US/docs/Web/JavaScript/Closures](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Closures)\\n* https://javascript.info/closure#lexical\\\\-environment\\n\\n\",\n          },\n        ],\n      },\n      {\n        key: \"e6406abc-7710-4f4d-9b0d-3b40d9b2d0a7\",\n        parentKey: \"1f66701b-72a2-45be-abad-d14ba71a78e0\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Recursion\",\n          },\n        ],\n      },\n      {\n        key: \"131c9433-90a2-40b8-9e02-b774761c2456\",\n        parentKey: \"ccf815c4-e6ad-4cbb-9427-cca701828c6c\",\n        subKeys: [\n          \"862cc5cf-2295-40f3-8bfb-bf1832c716e0\",\n          \"183f002c-a1ac-4ef6-bd23-2495e98fefaa\",\n        ],\n        collapse: false,\n        style:\n          '{\"contentStyle\":{\"background\":\"#f1919f\",\"borderStyle\":\"none\"},\"linkStyle\":{\"lineType\":\"curve\"}}',\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Object Oriented\\nProgramming\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              \"**Object\\\\-oriented programming** \\\\(OOP\\\\) is a programming paradigm based on the concept of \\\"**objects**\\\", which can contain **data** and **code**: \\n* **data,** in the form of fields \\\\(often known as attributes or properties\\\\), and \\n* **code**, in the form of procedures \\\\(often known as methods\\\\).\\n\\n\\nJS is _Prototype\\\\-based programming_ is a style of object\\\\-oriented programming in which classes are not explicitly defined, but rather derived by adding _properties_ and _methods_ to an instance of another class or, less frequently, adding them to an empty object. In simple words, this type of style allows the creation of an object without first defining its class.\\n* Every single 'object' is built by a constructor call.\\n* A constructor makes an object linked to its own prototype.\\n\\n\\nFor more details, refer to **\\\\_\\\\_proto\\\\_\\\\_ and prototype** of Functions\",\n          },\n        ],\n      },\n      {\n        key: \"e1994f06-f679-4c5f-9197-90f6f2a551e7\",\n        parentKey: \"7b11654a-e9d3-45ba-a1aa-afca29ff5f18\",\n        subKeys: [\n          \"49780f87-17f7-4f90-a761-6ddf6ce8e1ca\",\n          \"96d2f138-986b-4286-b6da-755624dba9c4\",\n          \"a405dd09-5977-4ac7-9823-fbc6cc2a630f\",\n        ],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"callback &\\npromises &\\nasync/await\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              \"JS is a **single\\\\-threaded programming language** with a **synchronous** **execution** model that processes one operation after another, it can only process one statement at a time. However, an action like requesting data from an API can take an indeterminate amount of time, depending on the size of data being requested, the speed of the network connection, and other factors. If API calls were performed in a synchronous manner, the browser would not be able to handle any user input, like scrolling or clicking a button, until that operation completes. This is known as _blocking_.\\n\\nIn order to prevent blocking behavior, the browser environment has many Web APIs \\\\(Node APIs\\\\) that JavaScript can access that are asynchronous, meaning they can run in parallel with other operations instead of sequentially. This is useful because it allows the user to continue using the browser normally while the asynchronous operations are being processed.\\n\\nOne such function is **setTimeout** and it belongs to the Web API \\\\- [https://developer.mozilla.org/en\\\\-US/docs/Web/API](https://developer.mozilla.org/en-US/docs/Web/API) and Node API \\\\- [https://nodejs.org/api/all.html](https://nodejs.org/api/all.html)\\n\\n**Refference**:\\n* Tania Rascia \\\\- [https://www.digitalocean.com/community/tutorials/understanding\\\\-the\\\\-event\\\\-loop\\\\-callbacks\\\\-promises\\\\-and\\\\-async\\\\-await\\\\-in\\\\-javascript](https://www.digitalocean.com/community/tutorials/understanding-the-event-loop-callbacks-promises-and-async-await-in-javascript)\\n\\n\\n### Concurrency vs Parallelism:\\n\\n* Concurrency is the task of running and managing the multiple computations at the same time.\\n* Parallelism is the task of running multiple computations simultaneously.\\n\\n\\n**JavaScript has a concurrency model based on an event loop.**\\n\\nFor more details, \\n* [http://tutorials.jenkov.com/java\\\\-concurrency/concurrency\\\\-vs\\\\-parallelism.html](http://tutorials.jenkov.com/java-concurrency/concurrency-vs-parallelism.html)\\n* [https://developer.mozilla.org/en\\\\-US/docs/Web/JavaScript/EventLoop](https://developer.mozilla.org/en-US/docs/Web/JavaScript/EventLoop)\\n\\n\",\n          },\n        ],\n      },\n      {\n        key: \"245b9e77-ccdc-49b6-8a0a-838244d1de2e\",\n        parentKey: \"c0743415-e5c5-48da-a6ec-a2d0571da863\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"try/catch/finally\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              \"* The **try** statement consists of a **try\\\\-block**, which contains one or more statements. \\\\_\\\\{\\\\} \\\\_must always be used, even for single statements. \\n\\n\\n* A **catch\\\\-block** contains statements that specify what to do if an exception is thrown in the try\\\\-block. If any statement within the try\\\\-block \\\\(or in a function called from within the try\\\\-block\\\\) throws an exception, control is immediately shifted to the catch\\\\-block. If no exception is thrown in the try\\\\-block, the catch\\\\-block is skipped.\\n\\n\\n* The **finally\\\\-block** will always execute after the try\\\\-block and catch\\\\-block\\\\(s\\\\) have finished executing. It always executes, regardless of whether an exception was thrown or caught.\\n\\n\\nAt least one catch\\\\-block, or a finally\\\\-block, must be present. This gives us three forms for the try statement:\\n* try\\\\...catch\\n* try\\\\...finally\\n* try\\\\...catch...finally\\n\\n\\n\\n### try\\\\...catch\\n\\n* When a catch\\\\-block is used, the catch\\\\-block is executed when any exception is thrown from within the try\\\\-block.\\n\\n```\\ntry {\\n    throw new Error('myException'); // generates an exception\\n} catch (e) {\\n    console.error(e);\\n}\\n\\n```\\n\\n### try\\\\...finally\\n\\n* the finally\\\\-block executes regardless of whether an exception is thrown\\n\\n```\\ntry {\\n    console.log(\\\"Opening a file and doing some operations\\\");\\n} finally {\\n    console.log(\\\"Closing all the files and used resources\\\");\\n}\\n\\n```\\n\\n\\n### try\\\\...catch...finally\\n\\n```\\ntry {\\n    console.log('try');\\n    BAD_CODE();\\n} catch (err) {\\n    console.error('catch');\\n} finally {\\n    console.log('finally');\\n}\\n\\n```\\n\\nFor more info,\\n* [https://developer.mozilla.org/en\\\\-US/docs/Web/JavaScript/Reference/Statements/try...catch](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/try...catch)\\n\\n\",\n          },\n        ],\n      },\n      {\n        key: \"bae54fe2-5e3a-40ec-8f36-4d7df7fd5a33\",\n        parentKey: \"7b11654a-e9d3-45ba-a1aa-afca29ff5f18\",\n        subKeys: [\"017fcdd7-8210-4141-b412-8c71c2f6e6a6\"],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Event\\nloop\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              \"JS is a **single\\\\-threaded programming language** with a **synchronous** **execution** model that processes one operation after another, it can only process one statement at a time.\\n\\nThe event loop is what allows to perform non\\\\-blocking I/O operations  despite the fact that JavaScript is single\\\\-threaded.\\n\\n* **Call Stack** \\\\- A call stack is a stack data structure that stores information about all the operations in line to be executed. \\n   * When a script calls a function, the interpreter adds it to the call stack and then starts carrying out the function.\\n   * Any functions that are called by that function are added to the call stack further up, and run where their calls are reached.\\n   * When the current function is finished, the interpreter takes it off the stack and resumes execution where it left off in the last code listing.\\n* **Heap \\\\- **it is a memory where the objects are located\\n* **Queue \\\\- **Async code is added to the queue and waiting to be executed\\n* **Event loop \\\\- **it constantly checks whether or not the **call stack** is empty \\\\(all previously invoked functions have returned their values and have been popped off the stack\\\\). If it is empty, new functions are added from the  **queue**. In simple words, event loop job is to look at the stack and look at the queue. If the stack is empty, it takes the first thing on the queue and pushed it on to the stack.\\n\\n\\n\\nFor more info refer,\\n* [https://www.youtube.com/watch?v=8aGhZQkoFbQ](https://www.youtube.com/watch?v=8aGhZQkoFbQ)\\n* [https://developer.mozilla.org/en\\\\-US/docs/Web/JavaScript/EventLoop](https://developer.mozilla.org/en-US/docs/Web/JavaScript/EventLoop)\\n* [https://nodejs.org/en/docs/guides/event\\\\-loop\\\\-timers\\\\-and\\\\-nexttick/](https://nodejs.org/en/docs/guides/event-loop-timers-and-nexttick/)\\n* [https://dev.to/lydiahallie/javascript\\\\-visualized\\\\-event\\\\-loop\\\\-3dif](https://dev.to/lydiahallie/javascript-visualized-event-loop-3dif)\\n* [https://jakearchibald.com/2015/tasks\\\\-microtasks\\\\-queues\\\\-and\\\\-schedules/](https://jakearchibald.com/2015/tasks-microtasks-queues-and-schedules/)\\n\\n\",\n          },\n        ],\n      },\n      {\n        key: \"97c73d77-1496-431f-93e6-5aebcfbf8020\",\n        parentKey: \"1f66701b-72a2-45be-abad-d14ba71a78e0\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Referential\\nTransparency\",\n          },\n        ],\n      },\n      {\n        key: \"d051afcf-8e00-4760-8d65-783421039068\",\n        parentKey: \"862cc5cf-2295-40f3-8bfb-bf1832c716e0\",\n        subKeys: [],\n        collapse: false,\n        style: '{\"contentStyle\":{\"background\":\"#f86179\"}}',\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Classes /\\nObjects /\\nAttributes\\nMethods /\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              '* **Classes **are a template for creating objects. They encapsulate state \\\\(variables or attributes\\\\), and implementations of behavior \\\\(functions or methods\\\\).\\n* **Objects** are instances of classes. An object stores its state in fields \\\\(variables\\\\) and exposes its behavior through methods \\\\(functions\\\\).\\n* Any variable that is bound in a class is a class **attribute\\\\. **\\n* Any function defined within a class is a **method**.\\n\\n\\n* **Class declarations**\\n\\n```\\nclass Dog {\\n\\n  // attribute\\n  tail = \"wiggle\";\\n\\n  constructor(name, breed) {\\n    this.name = name;\\n    this.breed = breed;\\n  }\\n\\n  // public methods\\n  bark() {\\n    console.log(\"vov-vov\");\\n  }\\n\\n  myself() {\\n    console.log(`My name is ${this.name} and I am ${this.breed}`);\\n  }\\n}\\n\\n// Creating an object foe the above class\\nlet snow = new Dog(\"Snow\", \"Samoyed\");\\n\\nsnow.bark(); //=> vov-vov\\nconsole.log(snow.tail); //=> wiggle\\nsnow.myself(); //=> My name is Snow and I am Samoyed\\n\\n```\\n\\n* **Class expression** \\\\- Just like functions, classes can be defined inside another expression, passed around, returned, assigned, etc.\\n\\n```\\nlet User = class {\\n  sayHi() {\\n    console.log(\"Hello\");\\n  }\\n};\\n\\n// named class expression\\n// If a class expression has a name, its visible inside the class only.\\nlet User1 = class MyClass{\\n  sayHi() {\\n    console.log(\"Hello\");\\n  }\\n};\\n\\nnew User().sayHi(); //=> Hello\\nnew User1().sayHi(); //=> Hello\\n\\n```\\n\\n* **Getters/Setters \\\\- **it is** **a mutator method used to control changes to a variable. , a getter method returns its value while a setter method sets or updates its value\\n\\n```\\nclass User {\\n  constructor(name) {\\n    // invokes the setter\\n    this.name = name;\\n  }\\n\\n  get name() {\\n    return this.userName;\\n  }\\n\\n  set name(value) {\\n    if (value.length < 4) {\\n      console.log(\"Name is too short.\");\\n      return;\\n    }\\n    this.userName = value;\\n  }\\n}\\n\\nlet user = new User(\"John\");\\nconsole.log(user.name); //=> John\\n\\n```\\n\\n* **Static properties and methods \\\\- t**he static keyword defines a static method or property for a class. Static members \\\\(properties and methods\\\\) are called without instantiating their class and cannot be called through a class instance.\\n\\n```\\nclass StaticClass {\\n  static prop1 = \"Property 1\";\\n  static sum(a, b) {\\n    return a + b;\\n  }\\n}\\n\\nconsole.log(StaticClass.prop1); //=> Property 1\\nconsole.log(StaticClass.sum(5, 10)); //=> 15\\n\\nlet obj = new StaticClass();\\n\\nconsole.log(obj.prop1); //=> undefined\\nconsole.log(obj.sum(5, 5)); //=> TypeError: obj.sum is not a function\\n\\n```\\n\\n* **Static blocks \\\\- **static blocks** **allows initialization of static properties\\n\\n```\\nclass StaticBlock {\\n  static prop1 = \"Property 1\";\\n  static prop2;\\n  static {\\n    this.prop2 = \"Property 2\";\\n  }\\n}\\n\\nconsole.log(StaticBlock.prop1); //=> Property 1\\nconsole.log(StaticBlock.prop2); //=> Property 2\\n\\n```\\n\\n* **Private properties and methods \\\\- \\\\# **is a special sign that the field is private. We cant access it from outside or from inheriting classes\\n\\n```\\nclass CoffeeMachine {\\n  #waterLimit = 200;\\n\\n  #fixWaterAmount(value) {\\n    if (value < 0) return 0;\\n    if (value > this.#waterLimit) return this.#waterLimit;\\n  }\\n\\n  setWaterAmount(value) {\\n    this.#waterLimit = this.#fixWaterAmount(value);\\n  }\\n}\\n\\nlet coffeeMachine = new CoffeeMachine();\\n\\n// can\\'t access privates from outside of the class\\ncoffeeMachine.#fixWaterAmount(123); // Error\\ncoffeeMachine.#waterLimit = 1000; // Error\\n\\n```\\n\\nFor more info,\\n* [https://developer.mozilla.org/en\\\\-US/docs/Web/JavaScript/Reference/Classes](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes)\\n\\n',\n          },\n        ],\n      },\n      {\n        key: \"af72cd3d-9be6-4420-9c07-1a80e2c62e2d\",\n        parentKey: \"5c0d4a18-5da2-4f3f-9752-4912ae3df225\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"forEach\",\n          },\n        ],\n      },\n      {\n        key: \"50256453-3cf5-4adf-85c0-562970b46468\",\n        parentKey: \"08aaf5bf-5222-4d4c-bd8d-2267d2f81433\",\n        subKeys: [\"c007d461-f421-48fd-9566-ac88d298bbb8\"],\n        collapse: true,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Block scope\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              '**Block scope** \\\\- A code block in JavaScript defines a scope for variables declared using **let** and **const **within a curly brace **\\\\{\\\\}. **it can be accessed only within that curly brace.\\n\\n**Example 1:**\\n```\\nif (true) {\\n  // \"if\" block scope\\n  const message = \\'Hello\\';\\n  let name = \"Chris\"\\n  console.log(message); // \\'Hello\\'\\n  console.log(name); // \\'Chris\\'\\n}\\nconsole.log(message); //=> throws ReferenceError\\nconsole.log(name); //=> throws ReferenceError\\n\\n```\\n\\n**Example 2:**\\n```\\nlet fullMoon = true;\\n\\n// Initialize a global variable\\nlet species = \"human\";\\n\\nif (fullMoon) {\\n  // Initialize a block-scoped variable\\n  let species = \"werewolf\";\\n  console.log(`${species}`); //=> \"werewolf\"\\n}\\n\\nconsole.log(`${species}`); //=> \"human\"\\n\\n```\\n\\n**Example 3: var is not block scoped**\\n```\\nif (true) {\\n  // \"if\" block scope\\n  var count = 0;\\n  console.log(count); //=> 0\\n}\\nconsole.log(count); //=> 0\\n\\n```\\n\\nA code block does not create a scope for var variables, but a function body does.\\n\\n**Refference:**\\n* [https://developer.mozilla.org/en\\\\-US/docs/Web/JavaScript/Reference/Statements/block](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/block)\\n\\n',\n          },\n        ],\n      },\n      {\n        key: \"3dc1c815-02b4-4097-ae29-578920b3a065\",\n        parentKey: \"9b52509a-42df-4ba8-9200-29ec192e314a\",\n        subKeys: [\n          \"c261d5f7-915b-4abd-b3d1-47ef335bc8ff\",\n          \"28bcdae2-e48d-47e3-bc28-5f6afecfef7d\",\n          \"ed43d880-a946-4d1f-8a16-fc59a0662188\",\n          \"a6c4854c-be38-4f7f-9866-a0025b236e65\",\n          \"af8c79c0-2a79-40e8-a7ff-5edf08399e5b\",\n        ],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Map &\\nmethods\",\n          },\n        ],\n      },\n      {\n        key: \"08aaf5bf-5222-4d4c-bd8d-2267d2f81433\",\n        parentKey: \"7b11654a-e9d3-45ba-a1aa-afca29ff5f18\",\n        subKeys: [\n          \"50256453-3cf5-4adf-85c0-562970b46468\",\n          \"7662833c-7ece-4668-a37b-4e11820503b4\",\n          \"a44085f3-06c0-4910-9787-af5b20c0709b\",\n          \"4c35fca7-ac9c-4475-99ab-d77f97120360\",\n          \"35cf3ece-a21e-4a8e-a8f8-d2b24a2b742d\",\n          \"84650864-61f6-4e20-b87d-ed779ffa7d20\",\n          \"69e69b35-9400-4fb3-aa5e-e9315b4a6eba\",\n          \"d1972f4f-fd4a-43b1-8575-480a88d66898\",\n        ],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Scopes & \\nClosure\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              '**Scope** is **current context of execution**. The context in which values and expressions are \"visible\" or can be referenced. If a variable or other expression is not \"in the current scope,\" then it is unavailable for use. Scopes can also be layered in a hierarchy, so that child scopes have access to parent scopes, but not vice versa.\\n\\n### Difference Between var, let, and const\\n\\n| **Keyword** | **Scope** | **Hoisting** | **Can Be Reassigned** | **Can Be Redeclared** |\\n|:---:|:---:|:---:|:---:|:---:|\\n| var | Function scope | Yes | Yes | Yes |\\n| let | Block scope | No | Yes | No |\\n| const | Block scope | No | No | No |\\n\\n**Reference** \\n* [https://javascript.info/var](https://javascript.info/var)\\n* [https://javascript.info/closure](https://javascript.info/closure)\\n* [https://developer.mozilla.org/en\\\\-US/docs/Glossary/Scope](https://developer.mozilla.org/en-US/docs/Glossary/Scope)\\n\\n',\n          },\n        ],\n      },\n      {\n        key: \"45b02b6a-06f9-4bad-80bb-14c97acb3b80\",\n        parentKey: \"dc0c93cb-0c05-40a0-9bd6-e6c1870c5613\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"unshift\",\n          },\n        ],\n      },\n      {\n        key: \"10d9744a-f521-4bdf-8933-9c3fb1cfb2c8\",\n        parentKey: \"3854fdd8-7de4-429c-b73d-2519cbf63781\",\n        subKeys: [\"d3f7bd55-fe91-45b2-b13e-ea98bb7710d9\"],\n        collapse: true,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"else Statement\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              '**if** statement can be extended with an **else** statement, which adds another block to run when the **if** condition doesnt pass.\\n\\n**Syntax:**\\n```\\nif (condition) {\\n      //when condition is true this block will be executed\\n      // no futher conditions will be checked\\n} else {\\n      //when a condition is false/failed this block will be executed\\n}\\n\\n```\\n\\n**example:**\\n```\\nif (\"cat\" === \"dog\") {\\n      console.log(\"if block executed\");\\n} else {\\n      console.log(\"else block executed\");\\n}\\n// Output: \"else block executed\"\\n\\n```\\n',\n          },\n        ],\n      },\n      {\n        key: \"3854fdd8-7de4-429c-b73d-2519cbf63781\",\n        parentKey: \"7b11654a-e9d3-45ba-a1aa-afca29ff5f18\",\n        subKeys: [\n          \"ffcc44e2-dc44-4241-8c15-ee2ab8c71588\",\n          \"10d9744a-f521-4bdf-8933-9c3fb1cfb2c8\",\n          \"9677e53a-05a4-4bd6-9010-f10826426bb6\",\n          \"62136ee4-f92e-49fb-b4de-03911ffe1da1\",\n        ],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Conditional\\nStatements\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              'Conditional statements controls behavior and determines whether or not a piece of code can run.\\n\\n## Truthy\\n\\nIn JavaScript, a truthy value is a value that is considered true when encountered in a Boolean context. All values are truthy unless they are defined as falsy \\\\(i.e., except for false, 0, \\\\-0, 0n, \"\", null, undefined, and NaN\\\\).\\n\\n**Examples of truthy values** in JavaScript \\\\(which will be coerced to true in boolean contexts, and thus execute the if block\\\\)\\n```\\nif (true)\\n    if ({})\\n        if ([])\\n            if (42)\\n                if (\"0\")\\n                    if (\"false\")\\n                        if (new Date())\\n                            if (-42)\\n                                if (12n)\\n                                    if (3.14)\\n                                        if (-3.14)\\n                                            if (Infinity)\\n                                                if (-Infinity)\\n                                                    console.log(\"Yay!!! Success\")                                                    \\n// Output - \"Yay!!! Success\"\\n\\n```\\n\\n\\n## Falsy\\n\\nA falsy \\\\(sometimes written falsey\\\\) value is a value that is considered false when encountered in a Boolean context.\\n\\n**Complete list of JavaScript falsy values**\\n| false | The keyword false. |\\n|:--- |:--- |\\n| 0 | The Number zero \\\\(so, also 0.0, etc., and 0x0\\\\). |\\n| \\\\-0 | The Number negative zero \\\\(so, also \\\\-0.0, etc., and \\\\-0x0\\\\). |\\n| 0n | The BigInt zero \\\\(so, also 0x0n\\\\). Note that there is no BigInt negative zero  the negation of 0n is 0n. |\\n| \"\", | \\'\\', \\\\`\\\\` Empty string value. |\\n| null | null  the absence of any value. |\\n| undefined | undefined  the primitive value. |\\n| NaN | NaN  not a number. |\\n| document\\\\.all | Objects are falsy if and only if they have the \\\\[\\\\[IsHTMLDDA\\\\]\\\\] internal slot.That slot only exists in document.all and cannot be set using JavaScript. |\\n',\n          },\n        ],\n      },\n      {\n        key: \"4c35fca7-ac9c-4475-99ab-d77f97120360\",\n        parentKey: \"08aaf5bf-5222-4d4c-bd8d-2267d2f81433\",\n        subKeys: [\"75e32173-5b17-4d07-b761-2003054bf186\"],\n        collapse: true,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"lexical scope /\\nScope chain\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              \"Lexical scope means every inner level can access its outer levels. And the scope is determined when the code is compiled.\\n\\n* **Scope chain** \\\\- When a variable is used in JavaScript, the JavaScript engine will try to find the variables value in the current scope. If it could not find the variable, it will look into the outer scope and will continue to do so until it finds the variable or reaches global scope.\\n\\n\\nIf its still could not find the variable, it will either implicitly declare the variable in the global scope \\\\(if not in strict mode\\\\) or return an error.\\n\\n**Example 1:**\\n```\\nfunction run() {\\n  // \\\"run\\\" function scope\\n  const message = 'Run, Forrest, Run!';\\n\\n  if (true) {\\n    // \\\"if\\\" code block scope\\n    const friend = 'Bubba';\\n    console.log(message); //=> 'Run, Forrest, Run!'\\n  }\\n\\n  console.log(friend); //=> throws ReferenceError\\n}\\n\\nrun();\\n\\n```\\n\\nThe scope contained within another scope is named _inner scope_. In the example, if code block scope is an inner scope of run\\\\(\\\\) function scope. The scope that wraps another scope is named _outer scope_. In the example, run\\\\(\\\\) function scope is an outer scope to if code block scope.\\n\\n**example 2:**\\n```\\n// global scope\\nvar e = 10;\\nfunction sum(a){\\n  return function sum2(b){\\n    return function sum3(c){\\n      // outer functions scope\\n      return function sum4(d){\\n        // local scope\\n        return a + b + c + d + e;\\n      }\\n    }\\n  }\\n}\\n\\nvar sum2 = sum(1);\\nvar sum3 = sum2(2);\\nvar sum4 = sum3(3);\\nvar result = sum4(4);\\nconsole.log(result) //=> 20\\n\\n```\\n\\n**example 3: \\\\(without strict mode\\\\)**\\n* cheating lexical scope using **eval** , usage of eval is not recommended as it tends to slow down the execution\\n\\n```\\nvar bar = 'bar';\\n\\nfunction foo(str) {\\n    eval(str);\\n    console.log(bar); //=> 42\\n}\\n\\nfoo(\\\"var bar=42;\\\");\\n\\n```\\n\",\n          },\n        ],\n      },\n      {\n        key: \"616b2d85-3831-4c1d-8582-a671725dcd94\",\n        parentKey: \"1340cde2-dcef-48de-a00e-1ce996ecf377\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Comparison\\noperators\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              \"A **comparison operator** compares its operands and returns a logical value based on whether the comparison is true.\\n\\n| **Operator** | **Description** |\\n|:--- |:--- |\\n| Equal \\\\(==\\\\) | Returns true if the operands are equal |\\n| Not equal \\\\(\\\\!=\\\\) | Returns true if the operands are not equal |\\n| Strict equal \\\\(===\\\\) | Returns true if the operands are equal and of the same type. |\\n| Strict not equal \\\\(\\\\!==\\\\) | Returns true if the operands are of the same type but not equal, or are of different type. |\\n| Greater than \\\\(\\\\>\\\\) | Returns true if the left operand is greater than the right operand. |\\n| Greater than or equal \\\\(\\\\>=\\\\) | Returns true if the left operand is greater than or equal to the right operand. |\\n| Less than \\\\(<\\\\) | Returns true if the left operand is less than the right operand |\\n| Less than or equal \\\\(<=\\\\) | Returns true if the left operand is less than or equal to the right operand. |\\n**examples:**\\n```\\n// Equal (==)\\nconsole.log(3 == '3'); //=> true\\n\\n// Not equal (!=)\\nconsole.log(3 != 4); //=> true\\n\\n// Strict equal (===)\\nconsole.log(3 === 3); //=> true\\n\\n// Strict not equal (!==)\\nconsole.log(3 !== '3'); //=> true\\n\\n// Greater than (>)\\nconsole.log(\\\"12\\\" > 2); //=> true\\n\\n// Greater than or equal (>=)\\nconsole.log(3 >= 3); //=> true\\n\\n// Less than (<)\\nconsole.log(\\\"2\\\" < 12); //=> true\\n\\n// Less than or equal (<=)\\nconsole.log(4 <= 5); //=> true\\n\\n```\\n\",\n          },\n        ],\n      },\n      {\n        key: \"84650864-61f6-4e20-b87d-ed779ffa7d20\",\n        parentKey: \"08aaf5bf-5222-4d4c-bd8d-2267d2f81433\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Hoisting\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              'Hoisting is a JavaScript mechanism where variables and function declarations are **moved to the top of their scope** before code execution.\\n\\nWhen you execute a piece of JavaScript code, the JavaScript engine creates the **global execution context**. The global execution context has two phases: **creation** and **execution**. During the creation phase, the JavaScript engine moves the variable and function declarations to the top of your code. This feature is known as **_hoisting_** in JavaScript.\\n\\n## Variable hoisting\\n\\n* using **var**\\n\\n```\\nconsole.log(counter); // undefined\\nvar counter = 1;\\n\\n```\\n\\n* using **let**\\n\\n```\\nconsole.log(counter); // \"ReferenceError: Cannot access \\'counter\\' before initialization\\nlet counter = 1;\\n\\n```\\n\\n\\n## Function hoisting\\n\\n```\\nlet x = 20,\\n    y = 10;\\n\\nlet result = add(x,y);\\n\\nconsole.log(add) //  add(a, b){\\n                 //  return a + b;\\n                 //  }\\n\\nconsole.log(result); // 30\\n\\nfunction add(a, b){\\nreturn a + b;\\n}\\n\\n```\\n\\n\\n## Function expressions\\n\\n```\\nlet x = 20,\\n    y = 10;\\n\\nlet result = add(x,y);\\nconsole.log(result); // \"TypeError: add is not a function\\n\\nvar add = function(x, y) {\\nreturn x + y;\\n}\\n\\n```\\n\\n```\\nlet x = 20,\\n    y = 10;\\n\\nlet result = add(x,y);\\nconsole.log(result); // \"TypeError: add is not a function\\n\\nvar add = (x, y) => x + y;\\n\\n```\\n\\nDuring the creation phase of the **global execution context**, the JavaScript Engine creates the **add** variable in the memory and initializes its value to **undefined**. When executing the following code, the add is undefined, hence, it isnt a function.',\n          },\n        ],\n      },\n      {\n        key: \"89cf71a0-0ca8-45ff-b136-62ffbf6ff778\",\n        parentKey: \"f8750599-32db-4fb3-829e-0673887df2c2\",\n        subKeys: [\n          \"ddfd37cf-11f2-4176-9d67-f494b6ea0263\",\n          \"48db7a4d-51df-43d6-bbdc-5ee3889f5eba\",\n          \"36a2fcb8-8f7a-4b25-adbc-3be25f6f534a\",\n          \"c18b4495-0355-48f2-ab94-741434d7409b\",\n          \"4e7eeab5-6321-43c0-9350-31a523a94d8d\",\n        ],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"`this`\\nkeyword\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              'A function of **this** keyword behaves a little differently in JavaScript compared to other languages. It also has some differences between _strict mode_ and _non\\\\-strict mode_. **this **_\\\\\\\\_\\\\_is a reference to the object for which the function was called.\\\\_\\n\\nTo understand **this** binding, we have to understand the call\\\\-site: the location in code where a function is called \\\\(not where it\\'s declared\\\\). We must inspect the call\\\\-site to answer the question: what\\'s this **this** a reference to?\\n\\n```\\nfunction baz() {\\n    // call-stack is: `baz`\\n    // so, our call-site is in the global scope\\n\\n    console.log( \"baz\" );\\n    bar(); // <=== call-site for `bar`\\n}\\n\\nfunction bar() {\\n    // call-stack is: `baz` -> `bar`\\n    // so, our call-site is in `baz`\\n\\n    console.log( \"bar\" );\\n    foo(); // <=== call-site for `foo`\\n}\\n\\nfunction foo() {\\n    // call-stack is: `baz` -> `bar` -> `foo`\\n    // so, our call-site is in `bar`\\n\\n    console.log( \"foo\" );\\n}\\n\\nbaz(); // <=== call-site for `baz`\\n\\n```\\n\\nThe _call\\\\-site_ determines which of 4 rules applies. And the four types of bindings are,\\n* Default Binding\\n* Implicit Binding\\n* Explicit Binding\\n* new Binding\\n\\n',\n          },\n        ],\n      },\n      {\n        key: \"6608af00-8cd4-4fe1-bd0b-e18e12f4a684\",\n        parentKey: \"5c0d4a18-5da2-4f3f-9752-4912ae3df225\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"add\",\n          },\n        ],\n      },\n      {\n        key: \"c0f4ceaf-ab29-436f-a206-b94b2ff0bc54\",\n        parentKey: \"9a4cffea-7c9c-428d-8b2f-14e22805be6e\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"\",\n          },\n        ],\n      },\n      {\n        key: \"ebc9a270-2a40-4a5c-bf55-79f90cd5f8ce\",\n        parentKey: \"dc0c93cb-0c05-40a0-9bd6-e6c1870c5613\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"shift\",\n          },\n        ],\n      },\n      {\n        key: \"16bb2549-ee9b-4d13-bf1f-ee0ba86872b5\",\n        parentKey: \"1f66701b-72a2-45be-abad-d14ba71a78e0\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Higher order\\nfunctions\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              'F**irst class functions** support which allows us to treat functions as data  assign them to variables, pass them to other functions, return them from functions, etc ... In other words, First\\\\-class functions are treated like any other variable.\\n\\n**Higher\\\\-order functions** can accept other functions as parameter or returns a function or both. This is possible becuase functions are first\\\\-class values in JS. \\n\\n* **Assign a function to a variable**\\n\\n```\\nconst foo = function() {\\n   console.log(\"foobar\");\\n}\\n// Invoke it using the variable\\nfoo(); //=> foobar\\n\\n```\\n\\n\\n### Below code snippets are valid examples of first class functions and Higher\\\\-order functions\\n\\n* **Pass a function as an Argument**\\n\\n```\\nfunction sayHello() {\\n   return \"Hello, \";\\n}\\nfunction greeting(helloMessage, name) {\\n  console.log(helloMessage() + name);\\n}\\n// Pass `sayHello` as an argument to `greeting` function\\ngreeting(sayHello, \"JavaScript!\"); //=> Hello, JavaScript!\\n\\n```\\n\\n* **Return a function**\\n\\n```\\nfunction sayHello() {\\n   return function() {\\n      console.log(\"Hello!\");\\n   }\\n}\\nsayHello()(); //=> Hello!\\n\\n```\\n\\n\\n### Some of the built\\\\-in higher\\\\-order functions are sort, foreach, map, filter and reduce.\\n\\n* **map\\\\(\\\\)** \\\\- creates a new array populated with the results of calling a provided function on every element in the calling array. \\n\\n```\\nconst square = (arr) => arr.map((element) => element * element);\\nconsole.log(square([2, 3, 4])); // [ 4, 9, 16 ]\\n\\n```\\n\\n* **filter\\\\(\\\\)** \\\\- creates a new array with all elements that passes the condition\\n\\n```\\nconst words = [\\n  \"spray\",\\n  \"limit\",\\n  \"elite\",\\n  \"exuberant\",\\n  \"destruction\",\\n  \"present\",\\n];\\n\\nconst result = words.filter((word) => word.length > 6);\\nconsole.log(result); //=> [\\'exuberant\\', \\'destruction\\', \\'present\\']\\n\\n```\\n\\nFor more info,\\n* [https://www.cs.iusb.edu/~danav/teach/c311/c311\\\\_2\\\\_firstclass.html](https://www.cs.iusb.edu/~danav/teach/c311/c311_2_firstclass.html)\\n* [https://medium.com/javascript\\\\-scene/master\\\\-the\\\\-javascript\\\\-interview\\\\-what\\\\-is\\\\-functional\\\\-programming\\\\-7f218c68b3a0](https://medium.com/javascript-scene/master-the-javascript-interview-what-is-functional-programming-7f218c68b3a0)\\n\\n',\n          },\n        ],\n      },\n      {\n        key: \"73667249-cfd7-438c-a8db-cb40b58d16fb\",\n        parentKey: \"36a2fcb8-8f7a-4b25-adbc-3be25f6f534a\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"\",\n          },\n        ],\n      },\n      {\n        key: \"85ee6b37-5053-4f78-b25d-53d1bf11d87b\",\n        parentKey: \"252c6937-bd93-4233-90cb-333938667c72\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"const\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              'The keyword **const** is an abbreviation for **constant**. Similar to **let**, its **block\\\\-scoped**, however, you cant reassigned it and value must be provided when declaring it.\\n\\n**Example 1:**\\n```\\nconst pi = 3.14\\nconsole.log(\"Pi :\", pi); //=> 3.14\\n\\n```\\n\\n**Example 2:**\\n```\\nconst gravity; // SyntaxError: Missing initializer in const declaration\\n\\n```\\n\\n**Example 3:**\\n```\\nconst name = \"Chris\"\\nname = \"Jordan\" // TypeError: Assignment to constant variable.\\n\\n```\\n',\n          },\n        ],\n      },\n      {\n        key: \"49780f87-17f7-4f90-a761-6ddf6ce8e1ca\",\n        parentKey: \"e1994f06-f679-4c5f-9197-90f6f2a551e7\",\n        subKeys: [\n          \"07fcbf3d-5e2d-4049-b16a-075a36dea9ec\",\n          \"aea8f33e-b4a3-4139-a406-d5fa77431698\",\n        ],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"callback\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              \"A **callback** function is a function passed into another function as an argument, which is then invoked later somepoint in the code. Callbacks are one of the way to handle asynchrony in JS.\\n\\n* **synchronous example**\\n\\n```\\nconsole.log(\\\"Execution started\\\");\\n\\n// a function\\nfunction greeting(name) {\\n    console.log('Hello, ' + name);\\n}\\n\\n// a function that takes another function as an argument\\nfunction print(callback) {\\n    const name = 'Alice';\\n    // When you call a function that is passed as an argument, it is referred to as a callback\\n    callback(name);\\n}\\n\\n// passing a function as an argument\\nprint(greeting);\\n\\nconsole.log(\\\"Execution completed\\\");\\n\\n//=> Execution started\\n//=> Hello, Alice\\n//=> Execution completed\\n\\n```\\n\\n* **asynchronous example**\\n\\n```\\nconsole.log(\\\"Execution started\\\");\\n\\n// a function\\nfunction greeting(name) {\\n    console.log('Hello, ' + name);\\n}\\n\\n// a function that takes another function as an argument\\nfunction print(callback) {\\n    const name = 'Alice';\\n    // When you call a function that is passed as an argument, it is referred to as a callback\\n    callback(name);\\n}\\n\\n// passing a function as an argument\\n// to the setTimeout async function which belongs to Web APIs\\nsetTimeout(() => {\\n    print(greeting);\\n}, 5000);\\n\\nconsole.log(\\\"Execution completed\\\");\\n\\n//=> Execution started\\n//=> Execution completed\\n//=> Hello, Alice\\n\\n```\\n\",\n          },\n        ],\n      },\n      {\n        key: \"62136ee4-f92e-49fb-b4de-03911ffe1da1\",\n        parentKey: \"3854fdd8-7de4-429c-b73d-2519cbf63781\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"switch\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              \"The **switch** statement evaluates an expression, matching the expression's value to a case clause, and executes statements associated with that case, as well as statements in cases that follow the matching case.\\n\\n**Example 1:** expression matches a case\\nThe **break** statement terminates the current flow of execution\\n```\\nconst expr = 'Papayas';\\nswitch (expr) {\\n  case 'Oranges':\\n    console.log('Oranges are $0.59 a pound.');\\n    break;\\n  case 'Mangoes':\\n  case 'Papayas':\\n    console.log('Mangoes and papayas are $2.79 a pound.');\\n    break;\\n  default:\\n    console.log(`Sorry, we are out of ${expr}.`);\\n}\\n\\n// output: \\\"Mangoes and papayas are $2.79 a pound.\\\"\\n\\n```\\n\\n**Example 2:** expression did not match any cases\\n```\\nconst expr = 'Onion';\\nswitch (expr) {\\n  case 'Oranges':\\n    console.log('Oranges are $0.59 a pound.');\\n    break;\\n  case 'Mangoes':\\n  case 'Papayas':\\n    console.log('Mangoes and papayas are $2.79 a pound.');\\n    break;\\n  default:\\n    console.log(`Sorry, we are out of ${expr}.`);\\n}\\n\\n// output: \\\"Sorry, we are out of Onion.\\\"\\n\\n```\\n\\n**Example 3:** expression matches a case but break statement is not specified\\nIf you forget a _break_ then the script will run from the case where the criterion is met and will run the cases after that _regardless if a criterion was met_.\\n```\\nconst expr = 'Oranges';\\nswitch (expr) {\\n  case 'Oranges':\\n    console.log('Oranges are $0.59 a pound.');\\n  case 'Mangoes':\\n  case 'Papayas':\\n    console.log('Mangoes and papayas are $2.79 a pound.');\\n  default:\\n    console.log(`Sorry, we are out of ${expr}.`);\\n}\\n\\n// Output:\\n// Oranges are $0.59 a pound.\\n// Mangoes and papayas are $2.79 a pound.\\n// Sorry, we are out of Oranges.\\n\\n```\\n\",\n          },\n        ],\n      },\n      {\n        key: \"2c6ddd66-98a5-4410-b7f2-dbd42aaa7e01\",\n        parentKey: \"44213600-22aa-4972-aa99-eec27b840064\",\n        subKeys: [\n          \"dbc9a664-bff0-4263-811c-cb91470ce277\",\n          \"fc11e9b2-fb2a-4f5d-934e-65c172bb61fa\",\n        ],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Non-primitive\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              'Non\\\\-primitive are mutuable means \\'**changeable**\\'.  Only object values \\\\(arrays, objects, functions, etc.\\\\) are treated as references\\n\\n**Example 1:**\\n```\\nlet arr = [212, 8, 506];\\nconsole.log(arr[0]); // 212\\narr[0] = 420;\\nconsole.log(arr); // [420, 8, 506]\\n\\n```\\n\\n**Example 2 \\\\-**\\n[https://github.com/getify/You\\\\-Dont\\\\-Know\\\\-JS/blob/2nd\\\\-ed/get\\\\-started/apA.md](https://github.com/getify/You-Dont-Know-JS/blob/2nd-ed/get-started/apA.md)\\n```\\nlet myAddress = {\\n    street: \"123 JS Blvd\",\\n    city: \"Austin\",\\n    state: \"TX\"\\n};\\n\\nlet yourAddress = myAddress;\\n\\nmyAddress.street = \"456 TS Ave\";\\n\\nconsole.log(yourAddress.street); // 456 TS Ave\\nconsole.log(myAddress.street) // 456 TS Ave\\n\\n```\\n\\nValue assigned to **myAddress** is an object, it\\'s held/assigned by reference, and thus the assignment to the **yourAddress** variable is a copy of the reference, not the object value itself. That\\'s why the updated value assigned to the myAddress.street is reflected when we access yourAddress.street. myAddress and yourAddress have copies of the **reference to the single shared object**, so an update to one is an update to both.',\n          },\n        ],\n      },\n      {\n        key: \"5df46409-6d87-4099-85c8-664e7e703c8e\",\n        parentKey: \"7b11654a-e9d3-45ba-a1aa-afca29ff5f18\",\n        subKeys: [\n          \"89f35d77-be58-421f-96f1-c53ebf79d892\",\n          \"79a87fe8-34ea-45e0-90b4-ee2399074191\",\n          \"3993010c-2552-4c4e-ad7e-195cb2bbc7e5\",\n          \"277f12bf-6cef-4676-92bb-ee233886e4cb\",\n          \"e153daae-cd39-4033-bd24-8fcf1a6f9f84\",\n        ],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Objects\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              '**Object** is a collection of properties, and a property is an association between a name \\\\(or key\\\\) and a value. It is used to store keyed collections of various data and more complex entities.\\n\\nAn object can be created with figure brackets **\\\\{\\\\}** with an optional list of properties. A property is a key: value pair, where **key** is a string \\\\(also called a property name\\\\), and **value** can be anything.\\n\\n**example**\\n```\\nlet user = {     // an object\\n  name: \"John\",  // by key \"name\" store value \"John\"\\n  age: 30        // by key \"age\" store value 30\\n};\\n\\n```\\n',\n          },\n        ],\n      },\n      {\n        key: \"9a4cffea-7c9c-428d-8b2f-14e22805be6e\",\n        parentKey: \"96d2f138-986b-4286-b6da-755624dba9c4\",\n        subKeys: [\"c0f4ceaf-ab29-436f-a206-b94b2ff0bc54\"],\n        collapse: true,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Promise\\nAPI\",\n          },\n        ],\n      },\n      {\n        key: \"e153daae-cd39-4033-bd24-8fcf1a6f9f84\",\n        parentKey: \"5df46409-6d87-4099-85c8-664e7e703c8e\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Object.create()\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              '**Object\\\\.create\\\\(\\\\)** method creates a new object, using an existing object as the prototype of the newly created object.\\n\\n```\\nconst person = {\\n    isHuman: false,\\n    printIntroduction: function () {\\n        console.log(`My name is ${this.name}. Am I human? ${this.isHuman}`);\\n    }\\n};\\n\\nconst me = Object.create(person);\\n\\nme.name = \\'Matthew\\'; // \"name\" is a property set on \"me\", but not on \"person\"\\nme.isHuman = true; // inherited properties can be overwritten\\n\\nme.printIntroduction(); //=> My name is Matthew. Am I human? true\\n\\n```\\n',\n          },\n        ],\n      },\n      {\n        key: \"44213600-22aa-4972-aa99-eec27b840064\",\n        parentKey: \"7b11654a-e9d3-45ba-a1aa-afca29ff5f18\",\n        subKeys: [\n          \"06067a6c-cfd1-4faf-8aa6-5eb827f3d020\",\n          \"2c6ddd66-98a5-4410-b7f2-dbd42aaa7e01\",\n        ],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Data types\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              \"1. [https://javascript.info/types](https://javascript.info/types)\\n1. [https://developer.mozilla.org/en\\\\-US/docs/Web/JavaScript/Data\\\\_structures](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures)\\n1. [https://github.com/getify/You\\\\-Dont\\\\-Know\\\\-JS/blob/1st\\\\-ed/types%20%26%20grammar/ch1.md](https://github.com/getify/You-Dont-Know-JS/blob/1st-ed/types%20&%20grammar/ch1.md)\\n\\n\",\n          },\n        ],\n      },\n      {\n        key: \"ed43d880-a946-4d1f-8a16-fc59a0662188\",\n        parentKey: \"3dc1c815-02b4-4097-ae29-578920b3a065\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"entries\",\n          },\n        ],\n      },\n      {\n        key: \"99e87759-dcab-49a7-a8ef-504c4e2bf8cc\",\n        parentKey: \"1340cde2-dcef-48de-a00e-1ce996ecf377\",\n        subKeys: [\"1b0b95ad-674e-4dcb-9903-b34c8252624b\"],\n        collapse: true,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Unary\\noperators\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              'A **unary** operation is an operation with only one operand.\\n\\n* **delete**\\n\\nThe delete operator deletes an object\\'s property. The syntax is:\\n```\\ndelete object.property;\\ndelete object[propertyKey];\\ndelete objectName[index];\\n\\n```\\n**example**\\n```\\ndelete Math.PI; // returns false (cannot delete non-configurable properties)\\n\\nconst myObj = {h: 4};\\ndelete myobj.h; // returns true (can delete user-defined properties)\\n\\n```\\n\\n* **typeof**\\n\\nThe typeof operator returns a string indicating the type of the unevaluated operand. operand is the string, variable, keyword, or object for which the type is to be returned.\\n\\n```\\nlet myFun = new Function(\\'5 + 2\\');\\nlet shape = \\'round\\';\\nlet size = 1;\\nlet foo = [\\'Apple\\', \\'Mango\\', \\'Orange\\'];\\nlet today = new Date();\\n\\ntypeof myFun;       // returns \"function\"\\ntypeof shape;       // returns \"string\"\\ntypeof size;        // returns \"number\"\\ntypeof foo;         // returns \"object\"\\ntypeof today;       // returns \"object\"\\ntypeof doesntExist; // returns \"undefined\"\\n\\n```\\n',\n          },\n        ],\n      },\n      {\n        key: \"ffcc44e2-dc44-4241-8c15-ee2ab8c71588\",\n        parentKey: \"3854fdd8-7de4-429c-b73d-2519cbf63781\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"If Statement\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              '**If** statement only runs if the condition enclosed in parentheses \\\\(\\\\) is truthy\\n\\n**Syntax:**\\n```\\nif (condition) {\\n    //when condition is true this block will be executed\\n}\\n\\n```\\n\\n**example**:\\n```\\nif (10 > 5) {\\n    console.log(\"if blocked executed\");\\n}\\n\\n// Output - \"if blocked executed\"\\n\\n```\\n',\n          },\n        ],\n      },\n      {\n        key: \"dc0c93cb-0c05-40a0-9bd6-e6c1870c5613\",\n        parentKey: \"9b52509a-42df-4ba8-9200-29ec192e314a\",\n        subKeys: [\n          \"c1f96a01-5d07-4fd0-99fb-210490cb6f5a\",\n          \"fa03906c-9682-4352-98eb-3a4525a5780c\",\n          \"62774116-bea5-49c3-a72c-6371f1cde7cb\",\n          \"1c417f10-9197-42eb-a724-a2c99a488847\",\n          \"f9aad4c2-5205-49ec-a74c-ed04c3bb6813\",\n          \"8d03fe66-9d8f-4ae3-96c1-d18220788b3a\",\n          \"ebc9a270-2a40-4a5c-bf55-79f90cd5f8ce\",\n          \"45b02b6a-06f9-4bad-80bb-14c97acb3b80\",\n        ],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Array &\\nmethods\",\n          },\n        ],\n      },\n      {\n        key: \"183f002c-a1ac-4ef6-bd23-2495e98fefaa\",\n        parentKey: \"131c9433-90a2-40b8-9e02-b774761c2456\",\n        subKeys: [\n          \"092ca5f2-7268-4e31-b7bd-d9aa2c3fd8d0\",\n          \"f8959855-b412-49cf-b308-d4b014a6fc59\",\n          \"ef12f21d-9fc6-4b69-9034-dfe4162cf6e7\",\n          \"31aa7d3d-f836-4d0f-8704-6606fb0a1577\",\n        ],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Four pillars\",\n          },\n        ],\n      },\n      {\n        key: \"75e32173-5b17-4d07-b761-2003054bf186\",\n        parentKey: \"4c35fca7-ac9c-4475-99ab-d77f97120360\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"\",\n          },\n        ],\n      },\n      {\n        key: \"8800712b-3d36-41bf-a8d2-a4bdb3b520e5\",\n        parentKey: \"96d2f138-986b-4286-b6da-755624dba9c4\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Error handling\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              'When a promise rejects, the control jumps to the closest rejection handler **catch\\\\(\\\\)**.\\n\\n* example 1\\n\\n```\\nfetch(\\'https://no-such-server.blabla\\')\\n  .then(response => response.json())\\n  .catch(err => console.log(err)) //=> TypeError: Failed to fetch\\n\\n```\\n\\n* implicit error handling \\\\- code of a promise executor and promise handlers has an \"invisible try..catch\"\\n\\n```\\nconst result = new Promise(function (resolve, reject) {\\n  throw new Error(\"Whoops!\");\\n})\\n  .then((sucess) => console.log(sucess))\\n  .catch((val) => console.log(val.message)); //=> Whoops!\\n\\n```\\n\\nRe\\\\-written the above code using \\'reject\\'\\n```\\nconst result = new Promise(function (resolve, reject) {\\n  reject(new Error(\"Whoops!\"));\\n})\\n  .then((sucess) => console.log(sucess))\\n  .catch((val) => console.log(val.message)); //=> Whoops!\\n\\n```\\n\\n* chaining the methods\\n\\n```\\nlet p1 = new Promise(function (resolve, reject) {\\n  resolve(\"Success\");\\n});\\n\\np1.then(function (value) {\\n  console.log(value);\\n  throw new Error(\"oh, no!\");\\n})\\n  .catch(function (e) {\\n    console.error(e.message);\\n  })\\n  .then(function () {\\n    console.log(\"after a catch the chain is restored\");\\n  });\\n\\n//=> Success\\n//=> oh, no!\\n//=> after a catch the chain is restored\\n\\n```\\n\\n\\n### Gotchas when throwing errors\\n\\n* Errors thrown inside asynchronous functions will act like uncaught errors\\n\\n```\\nlet p2 = new Promise(function (resolve, reject) {\\n  setTimeout(function () {\\n    throw new Error(\"Uncaught Exception!\");\\n  }, 1000);\\n});\\n\\np2.catch(function (e) {\\n  console.error(\"Caught the error\"); // This is never called\\n});\\n\\n```\\n\\n* Errors thrown after resolve is called will be silenced\\n\\n```\\n// Errors thrown after resolve is called will be silenced\\nlet p3 = new Promise(function (resolve, reject) {\\n  resolve();\\n  throw new Error(\"Silenced Exception!\");\\n});\\n\\np3.catch(function (e) {\\n  console.error(e); // This is never called\\n});\\n\\n```\\n',\n          },\n        ],\n      },\n      {\n        key: \"252c6937-bd93-4233-90cb-333938667c72\",\n        parentKey: \"7b11654a-e9d3-45ba-a1aa-afca29ff5f18\",\n        subKeys: [\n          \"05c8bbd0-fe13-4906-92cf-8507b33954da\",\n          \"265fb26e-4629-437b-8e64-aa7ce30ae47a\",\n          \"85ee6b37-5053-4f78-b25d-53d1bf11d87b\",\n        ],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Variables\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              \"A variable is a **container** for a value or **named storage** for data. And it is a named reference to a value. That way an unpredictable value can be accessed through a predetermined name.\",\n          },\n        ],\n      },\n      {\n        key: \"862cc5cf-2295-40f3-8bfb-bf1832c716e0\",\n        parentKey: \"131c9433-90a2-40b8-9e02-b774761c2456\",\n        subKeys: [\"d051afcf-8e00-4760-8d65-783421039068\"],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Building\\nblocks\",\n          },\n          {\n            type: \"DESC\",\n            data: \"\",\n          },\n        ],\n      },\n      {\n        key: \"a6c4854c-be38-4f7f-9866-a0025b236e65\",\n        parentKey: \"3dc1c815-02b4-4097-ae29-578920b3a065\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"forEach\",\n          },\n        ],\n      },\n      {\n        key: \"89f35d77-be58-421f-96f1-c53ebf79d892\",\n        parentKey: \"5df46409-6d87-4099-85c8-664e7e703c8e\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Object\\nliterals\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              '**Object Literal** is generally used to create a single object.\\n\\n* An object literal is a comma\\\\-separated list of name\\\\-value pairs inside of curly braces **\\\\{\\\\}**.\\n\\n```\\nconst greeting = {\\n    greet: (message, name) => {\\n        console.log(message + \" \" + name + \"!!\");\\n    }\\n};\\n\\ngreeting.greet(\"Hi\", \"Jack\"); //=> Hi Jack!!\\n\\n```\\n\\n* Accessing values from object using square brackets\\n\\n```\\nlet user = {}; // object literal\\n\\n// set\\nuser[\"likes birds\"] = true;\\n\\n// get\\nconsole.log(user[\"likes birds\"]); //=> true\\n\\n```\\n\\n* Accessing values from object using dot operator\\n\\n```\\nconst user = {\\n    \"name\": \"Jack\",\\n    age: 25\\n}\\nconsole.log(user.name); //=> Jack\\nconsole.log(user.age); //=> 25\\n\\n```\\n\\n* **Shorthand** method definition can be used in a method declaration on object literals and ES2015 classes. You can define them using a function name, followed by a list of parameters in a pair of parenthesis \\\\(para1, ..., paramN\\\\) and a pair of curly braces \\\\{ ... \\\\} that delimits the body statements.\\n\\n```\\nconst collection = {\\n  items: [],\\n  add(...items) {\\n    this.items.push(...items);\\n  },\\n  get(index) {\\n    return this.items[index];\\n  }\\n};\\ncollection.add(\\'C\\', \\'Js\\', \\'PHP\\', \\'Java\\');\\nconsole.log(collection.get(1)) //=> \"Js\"\\n\\n```\\n\\n**add\\\\(\\\\)** and **get\\\\(\\\\)** methods in **collection** object are defined using short method definition. These methods are called as usual: **collection\\\\.add\\\\(...\\\\)** and **collection\\\\.get\\\\(...\\\\)**.',\n          },\n        ],\n      },\n      {\n        key: \"0341d846-c3f3-4915-a4b3-0c11b3643a9d\",\n        parentKey: \"f8750599-32db-4fb3-829e-0673887df2c2\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Function\\ndeclaration\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              'A **function** declaration \\\\(also called a function statement\\\\) consists of the function keyword, followed by:\\n* The **name** of the function.\\n* A list of **parameters** to the function, enclosed in parentheses and separated by commas.\\n* The JavaScript **statements** that define the function, enclosed in braces, **\\\\{**...**\\\\}**.\\n\\n\\n**Syntax:**\\n```\\nfunction validFunctionName(parameter1, parameter2) {\\n  return statement;\\n}\\n\\n```\\n\\n**example 1: which takes no parameters and returns nothing \\\\(void\\\\)**\\n```\\nfunction currentTime() {\\n  console.log(new Date().toTimeString().slice(0, 8));\\n}\\n\\ncurrentTime() // output: \"18:35:36\"\\n\\n```\\n\\n**example 2: which takes parameters and returns a value**\\nThe **return** statement ends function execution and specifies a value to be returned to the function caller.\\n```\\nfunction sum(a, b) {\\n  return a + b;\\n}\\nconst result = sum(5, 6);\\n\\nconsole.log(result); // output: \"11\"\\n\\n```\\n\\n**example 3**: **default parameters** \\n```\\nfunction showMessage(from, text = \"no text given\") {\\n  console.log( from + \": \" + text );\\n}\\n\\nshowMessage(\"Ann\"); // output: \"Ann: no text given\"\\nshowMessage(\"Ann\", \"Hello, world!\"); // output: \"Ann: Hello, world!\"\\n\\n```\\n\\n**example 4: constructor function **\\\\(will see more this in detail when it comes to **objects**\\\\)\\n```\\nfunction Emp(id, name) {\\n    this.id = id;\\n    this.name = name;\\n}\\n\\nlet emp1 = new Emp(1, \"John\");\\n\\nconsole.log(emp1.id); // output: \"1\"\\nconsole.log(emp1.name); // output: \"John\"\\n\\n```\\n',\n          },\n        ],\n      },\n      {\n        key: \"b5c8a0d0-01e6-4922-a8f0-132d5442bb1d\",\n        parentKey: \"06067a6c-cfd1-4faf-8aa6-5eb827f3d020\",\n        subKeys: [],\n        collapse: false,\n        style: '{\"contentStyle\":{\"background\":\"#50e3c2\"}}',\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Undefined\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              'The special value undefined also stands apart. It makes a type of its own, just like null.\\n\\n```\\nconsole.log(typeof(undefined)); //=> \"undefined\"\\n\\n```\\n\\nThe meaning of undefined is **value is not assigned**. If a **variable is declared, but not assigned**, then its value is undefined:\\n```\\nlet age;\\nconsole.log(age); //=> shows \"undefined\"\\n\\n```\\n\\nTechnically, it is possible to explicitly assign undefined to a variable:\\n```\\nlet age = 100;\\n\\n// change the value to undefined\\nage = undefined;\\n\\nconsole.log(age); //=> shows \"undefined\"\\n\\n```\\n',\n          },\n        ],\n      },\n      {\n        key: \"a941ee5a-a4a5-4964-a537-1513bfe7b814\",\n        parentKey: \"1340cde2-dcef-48de-a00e-1ce996ecf377\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Arithmetic\\noperators\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              \"An **arithmetic operator** takes numerical values \\\\(either literals or variables\\\\) as their operands and returns a single numerical value.\\n\\nThe standard arithmetic operators are addition \\\\(\\\\+\\\\), subtraction \\\\(\\\\-\\\\), multiplication \\\\(\\\\*\\\\), and division \\\\(/\\\\).\\n| **Operator** | **Description** |\\n|:--- |:--- |\\n| Remainder \\\\(%\\\\) | Binary operator. Returns the integer remainder of dividing the two operands. |\\n| Increment \\\\(\\\\+\\\\+\\\\) | Unary operator. Adds one to its operand. If used as a prefix operator \\\\(\\\\+\\\\+x\\\\), returns the value of its operand after adding one; if used as a postfix operator \\\\(x\\\\+\\\\+\\\\), returns the value of its operand before adding one. |\\n| Decrement \\\\(\\\\-\\\\-\\\\) | Unary operator. Subtracts one from its operand. The return value is analogous to that for the increment operator. |\\n| Unary negation \\\\(\\\\-\\\\) | Unary operator. Returns the negation of its operand. |\\n| Unary plus \\\\(\\\\+\\\\) | Unary operator. Attempts to convert the operand to a number, if it is not already. |\\n| Exponentiation operator \\\\(\\\\*\\\\*\\\\) | Calculates the base to the exponent power, that is, base^exponent |\\n**examples**\\n```\\n// Addition (+)\\nconsole.log(2 + 2); //=> 4\\n// Subtraction (-)\\nconsole.log(5 - 2); //=> 3\\n// Multiplication (*)\\nconsole.log(3 * 3); //=> 9\\n// Division (/)\\nconsole.log(10 / 3); //=> 3.3333333333333335\\n// Remainder (%)\\nconsole.log(14 / 3); //=> 4.666666666666667\\n// Increment (++)\\nlet x = 5\\nconsole.log(x++); //=> 5\\nconsole.log(++x); //=> 7\\n// Decrement (--)\\nlet y = 10\\nconsole.log(y--); //=> 10\\nconsole.log(--y); //=> 8\\n// Unary negation (-)\\nlet z = 3.14\\nconsole.log(-z); //=> -3.14\\n// Unary plus (+)\\nlet i = '3';\\nconsole.log(+i); //=> 3\\nconsole.log(+true); //=> 1\\n// Exponentiation operator (**)\\nconsole.log(2 ** 3); //=> 8\\n\\n```\\n\",\n          },\n        ],\n      },\n      {\n        key: \"95ac6039-3664-4d8d-8b2c-c9eb8c22e77c\",\n        parentKey: \"1340cde2-dcef-48de-a00e-1ce996ecf377\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Conditional (ternary)\\noperator\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              \"The **conditional operator** is the only JavaScript operator that takes three operands. The operator can have one of two values based on a condition. The syntax is:\\n```\\ncondition ? val1 : val2\\n\\n```\\nIf condition is true, the operator has the value of val1. Otherwise it has the value of val2. You can use the conditional operator anywhere you would use a standard operator.\\n\\n**example:**\\n```\\nlet age = 18;\\nlet status = (age >= 18) ? 'adult' : 'minor';\\nconsole.log(status); //=> adult\\n\\nage = 10;\\nstatus = (age >= 18) ? 'adult' : 'minor';\\nconsole.log(status); //=> minor\\n\\n```\\n\",\n          },\n        ],\n      },\n      {\n        key: \"dfb39c55-dfce-4d5a-88a7-5fd066288121\",\n        parentKey: \"a1649782-ec29-4030-bb2d-d6044103cf10\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"\",\n          },\n        ],\n      },\n      {\n        key: \"956d1f1d-c3c0-4538-b40c-e1d868bb2653\",\n        parentKey: \"1340cde2-dcef-48de-a00e-1ce996ecf377\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Relational\\noperators\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              \"A **relational operator** compares its operands and returns a Boolean value based on whether the comparison is true.\\n\\n* **in**\\n\\nThe in operator returns true if the specified property is in the specified object. The syntax is:\\n```\\n// Arrays\\nlet trees = ['redwood', 'bay', 'cedar', 'oak', 'maple'];\\n0 in trees;        //=> true\\n3 in trees;        //=> true\\n6 in trees;        //=> false\\n'bay' in trees;    //=> false (you must specify the index number, not the value at that index)\\n'length' in trees; //=> true (length is an Array property)\\n\\n// built-in objects\\n'PI' in Math;          //=> true\\nlet myString = new String('coral');\\n'length' in myString;  //=> true\\n\\n// Custom objects\\nlet myCar = { make: 'Honda', model: 'Accord', year: 1998 };\\n'make' in myCar;  //=> true\\n'model' in myCar; //=> true\\n\\n```\\n\\n* **instanceof**\\n\\nThe instanceof operator returns true if the specified object is of the specified object type.\\n```\\nlet theDay = new Date(1995, 12, 17);\\nif (theDay instanceof Date) {\\n    console.log(\\\"yes it is\\\") //=> yes it is\\n}\\n\\n```\\n\",\n          },\n        ],\n      },\n      {\n        key: \"e784d8b5-f79b-469c-8fa4-e7305d4405b3\",\n        parentKey: \"06067a6c-cfd1-4faf-8aa6-5eb827f3d020\",\n        subKeys: [\"5499f8cd-26d8-4796-acc9-b138109bcea0\"],\n        collapse: true,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Symbol\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              \"The JavaScript **ES6** introduced a new primitive data type called Symbol. A Symbol is a unique and immutable primitive value and may be used as the key of an Object property.\\n\\n```\\nconsole.log(typeof(Symbol())); //=> \\\"symbol\\\"\\n\\n```\\n\\n```\\n// two symbols with the same description\\n\\nconst value1 = Symbol('hello');\\nconst value2 = Symbol('hello');\\n\\nconsole.log(value1 === value2); //=> false\\n\\n```\\n\",\n          },\n        ],\n      },\n      {\n        key: \"1340cde2-dcef-48de-a00e-1ce996ecf377\",\n        parentKey: \"7b11654a-e9d3-45ba-a1aa-afca29ff5f18\",\n        subKeys: [\n          \"9eaa4c3f-edb8-487d-b332-ad14665991f9\",\n          \"616b2d85-3831-4c1d-8582-a671725dcd94\",\n          \"a941ee5a-a4a5-4964-a537-1513bfe7b814\",\n          \"3cad2294-2687-43b8-bd7d-1ca3ebd67acd\",\n          \"ea952fa5-a291-436e-85a1-8cda065a4432\",\n          \"95ac6039-3664-4d8d-8b2c-c9eb8c22e77c\",\n          \"99e87759-dcab-49a7-a8ef-504c4e2bf8cc\",\n          \"956d1f1d-c3c0-4538-b40c-e1d868bb2653\",\n        ],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Operators\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              \"**Operators **\\\\(eg: \\\\+, \\\\-, \\\\*, /\\\\) are symbols that are used to perform operations on operands.\\n\\n**example:**\\n```\\nlet sum = 10 + 20;\\n\\n```\\n\\nFor more info\\n* [https://developer.mozilla.org/en\\\\-US/docs/Web/JavaScript/Guide/Expressions\\\\_and\\\\_Operators](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Expressions_and_Operators)\\n\\n\",\n          },\n        ],\n      },\n      {\n        key: \"840a8fff-1b5b-48bd-9aae-6214c599c5ab\",\n        parentKey: \"f8750599-32db-4fb3-829e-0673887df2c2\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Immediately invoked \\nfunction expression\\n- IIFE\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              'An **IIFE** \\\\(Immediately Invoked Function Expression\\\\) is a JavaScript function that runs as soon as it is defined or as soon as it starts to executes.\\n\\n**Syntax:**\\n```\\n(function () {\\n  statements\\n})();\\n\\n```\\n* The first is the anonymous function with lexical scope enclosed within the Grouping Operator \\\\(\\\\). This prevents accessing variables within the IIFE idiom as well as polluting the global scope.\\n* The second part creates the immediately invoked function expression \\\\(\\\\) through which the JavaScript engine will directly interpret the function.\\n\\n\\n**example 1:**\\n```\\n(function () {\\n    console.log(\"Immediately invoked\") //=> Immediately invoked\\n})();\\n\\n```\\n\\n**example 2: **Avoid polluting the global namespace\\n* If we have some initiation code that we don\\'t need to use again, we could use the IIFE pattern.\\n\\n```\\n(function () {\\n  // some initiation code\\n  let firstVariable;\\n  let secondVariable;\\n})();\\n\\n// firstVariable and secondVariable will be discarded after the function is executed.\\n\\n```\\n\\n```\\nvar foo = \\'foo\\';\\n\\n(function () {\\n    var foo = \\'foo2\\';\\n    console.log(foo); //=> foo2\\n})();\\n\\nconsole.log(foo); //=> foo\\n\\n```\\n\\n**example 3: **stack trace\\n```\\n// Ex 1:\\n(function () {\\n    throw new Error(\"Exception has occurred\");\\n})();\\n\\n// Error: Exception has occurred\\n//     at /Users/git/other/js/test.js:2:11\\n//     at Object.<anonymous> (/Users/git/other/js/test.js:3:3)\\n//     at Module._compile (node:internal/modules/cjs/loader:1101:14)\\n//     at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)\\n//     at Module.load (node:internal/modules/cjs/loader:981:32)\\n//     at Function.Module._load (node:internal/modules/cjs/loader:822:12)\\n//     at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:79:12)\\n//     at node:internal/main/run_main_module:17:47\\n\\n// Ex 2:\\n(function deposit() {\\n    throw new Error(\"Exception has occurred\");\\n})();\\n\\n// Error: Exception has occurred\\n//     at deposit (/Users/git/other/js/test.js:6:11)\\n//     at Object.<anonymous> (/Users/git/other/js/test.js:7:3)\\n//     at Module._compile (node:internal/modules/cjs/loader:1101:14)\\n//     at Object.Module._extensions..js (node:internal/modules/cjs/loader:1153:10)\\n//     at Module.load (node:internal/modules/cjs/loader:981:32)\\n//     at Function.Module._load (node:internal/modules/cjs/loader:822:12)\\n//     at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:79:12)\\n//     at node:internal/main/run_main_module:17:47\\n\\n```\\nOne of the benefits of creating a named function expression is that in case we encountered an error, the stack trace will contain the name of the function, making it easier to find the origin of the error.\\n\\nFor more info,\\n* [http://benalman.com/news/2010/11/immediately\\\\-invoked\\\\-function\\\\-expression/](http://benalman.com/news/2010/11/immediately-invoked-function-expression/)\\n\\n',\n          },\n        ],\n      },\n      {\n        key: \"017fcdd7-8210-4141-b412-8c71c2f6e6a6\",\n        parentKey: \"bae54fe2-5e3a-40ec-8f36-4d7df7fd5a33\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \" Tasks (macro tasks) /\\nMicro tasks\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              '**\\\\(macro\\\\)Task queue:**\\n All async operations with higher priorit\\n\\n**Microtasks:**\\nAll async operations with lower prior\\n| **\\\\(Macro\\\\)task** | setTimeout \\\\| setInterval \\\\| setImmediate |\\n|:--- |:--- |\\n| **Microtask** | process\\\\.nextTick \\\\| Promise callback \\\\| queueMicrotask |\\n\\n* Order of execution\\n\\n```\\nconsole.log(\"Start\");\\nsetTimeout(() => console.log(\"Set timeout completed\"), 0);\\nPromise.resolve(\"Promise completed\").then((val) => console.log(val));\\nconsole.log(\"End\");\\n\\n//=> Start\\n//=> End\\n//=> Promise completed\\n//=> Set timeout completed\\n\\n```\\n',\n          },\n        ],\n      },\n      {\n        key: \"a3a421e7-3427-489e-892c-2342014a2235\",\n        parentKey: \"96d2f138-986b-4286-b6da-755624dba9c4\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Creating\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              '### Creating a Promise\\n\\nInitialize a promise with the **new Promise** syntax, and you must initialize it with a function. The function that gets passed to a promise has resolve and reject parameters. The resolve and reject functions handle the success and failure of an operation, respectively.\\n\\nThe function that passed into the **Promise** constructor runs **synchronously**, but anything that depends on its resolution will be called **asynchronously**. Even if the promise resolves immediately, any handlers will execute asynchronously \\\\(similar to when you setTimeout\\\\(fn, 0\\\\)\\\\) \\\\- the main thread runs to the end first.\\n\\n* **Fulfilled flow**\\n\\n```\\nconsole.log(\"Starting\");\\n\\nconst test = new Promise((resolve, reject) => {\\n    console.log(\"Inside Promise\");\\n    const exp = 2 < 4;\\n    if (exp) {\\n        resolve(\"Completed\");\\n        console.log(\"resolve\");\\n    } else {\\n        reject(\"Failed\");\\n        console.log(\"reject\");\\n    }\\n})\\n\\ntest.then(result => console.log({ result }))\\n    .then(_ => console.log(\"second then\"))\\n    .catch(err => console.log({ err }));\\n\\nconsole.log(\"End\");\\n\\n//=> Starting\\n//=> Inside Promise\\n//=> resolve\\n//=> End\\n//=> { result: \\'Completed\\' }\\n//=> second then\\n\\n```\\n\\n* **Rejected flow**\\n\\n```\\nconsole.log(\"Starting\");\\n\\nconst test = new Promise((resolve, reject) => {\\n    console.log(\"Inside Promise\");\\n    const exp = 6 < 4;\\n    if (exp) {\\n        resolve(\"Completed\");\\n        console.log(\"resolve\");\\n    } else {\\n        reject(\"Failed\");\\n        console.log(\"reject\");\\n    }\\n})\\n\\ntest.then(result => console.log({ result }))\\n    .then(_ => console.log(\"second then\"))\\n    .catch(err => console.log({ err }));\\n\\nconsole.log(\"End\");\\n\\n//=> Starting\\n//=> Inside Promise\\n//=> reject\\n//=> End\\n//=> { err: \\'Failed\\' }\\n\\n```\\n\\nFor more info,\\n* [https://stackoverflow.com/a/49911346/5514320](https://stackoverflow.com/a/49911346/5514320)\\n\\n',\n          },\n        ],\n      },\n      {\n        key: \"1b0b95ad-674e-4dcb-9903-b34c8252624b\",\n        parentKey: \"99e87759-dcab-49a7-a8ef-504c4e2bf8cc\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"\",\n          },\n        ],\n      },\n      {\n        key: \"c007d461-f421-48fd-9566-ac88d298bbb8\",\n        parentKey: \"50256453-3cf5-4adf-85c0-562970b46468\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"\",\n          },\n        ],\n      },\n      {\n        key: \"29f23365-fcf6-4f8f-8060-811df84e4770\",\n        parentKey: \"d40f6cf0-dcae-4162-8b2f-d89edd7e3212\",\n        subKeys: [\"c1e621c4-ae65-40d0-ad48-650368d181d0\"],\n        collapse: true,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"for .. in\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              'The **for\\\\-in** loop always loops over an objects elements one by one. It can be **array indexes** or **key incase of objects**. Iterates over all **enumerable property** keys of an object.\\n\\n**Syntax:**\\n```\\nfor (let i in object) {\\n    console.log(object[i]);\\n}\\n\\n```\\nIf the object is an array, the for\\\\-in loop will **print out the array indexes in order**. If the object contains key\\\\-value pairs, the for\\\\-in loop will **print out each key that exists**. A for...in loop iterates over the properties of an object in an **arbitrary** order\\n\\n**example 1:**\\n```\\nlet arr = [3, 5, 7];\\narr.foo = \"hello\";\\n\\nfor (let i in arr) {\\n  console.log(i); // by default it prints the indexes and key\\n}\\n\\n// output:\\n// 0\\n// 1\\n// 2\\n// foo\\n\\n```\\n\\n**example 2:**\\n```\\nconst object = { a: 1, b: 2, c: 3 };\\n\\nfor (const property in object) {\\n  console.log(property); // by default it prints the indexes and key\\n}\\n\\n// output:\\n// a\\n// b\\n// c\\n\\n```\\n\\n**example 3:**\\n```\\nconst object = { a: 1, b: 2, c: 3 };\\n\\nfor (const property in object) {\\n  console.log(`${property}: ${object[property]}`);\\n}\\n\\n// output:\\n// \"a: 1\"\\n// \"b: 2\"\\n// \"c: 3\"\\n\\n```\\n\\n**exmaple 4: **And it iterates over by **all index**.\\n```\\nconst array = [1, 2, 3, { id: 254, name: \"Chris\" }]\\n\\narray[5] = 5\\narray[-6] = 6;\\narray[\"name\"] = \"Lars\"\\n\\nfor (let index in array)\\n    console.log(`Index: ${index} & Value: ${array[index]}`);\\n    \\n// Output:\\n// Index: 0 & Value: 1\\n// Index: 1 & Value: 2\\n// Index: 2 & Value: 3\\n// Index: 3 & Value: [object Object]\\n// Index: 5 & Value: 5\\n// Index: -6 & Value: 6\\n// Index: name & Value: Lars\\n\\n```\\n',\n          },\n        ],\n      },\n      {\n        key: \"c18b4495-0355-48f2-ab94-741434d7409b\",\n        parentKey: \"89cf71a0-0ca8-45ff-b136-62ffbf6ff778\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"`new` Binding\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              \"When a function is invoked with **new** in front of it, otherwise known as a constructor call, the following things are done automatically:\\n* a brand new object is created \\\\(aka, constructed\\\\)\\n* the newly constructed object is \\\\[\\\\[Prototype\\\\]\\\\]\\\\-linked to the function that constructed it\\n* the newly constructed object is set as the this binding for that function call\\n* unless the function returns its own alternate object, the new\\\\-invoked function call will automatically return the newly constructed object.\\n\\n\\n```\\nfunction foo(a) {\\n    this.a = a;\\n}\\n\\nvar bar = new foo(2);\\nconsole.log(bar) //=> foo { a: 2 }\\nconsole.log(bar.a); // 2\\n\\n```\\n\",\n          },\n        ],\n      },\n      {\n        key: \"79a87fe8-34ea-45e0-90b4-ee2399074191\",\n        parentKey: \"5df46409-6d87-4099-85c8-664e7e703c8e\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"new Object()\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              '**Object** can be crated using object constructor. And it is generally used to create a single object.\\n\\n**example 1:**\\n```\\nlet user = new Object(); // empty \\'user` object has been created\\n\\nuser.id = 1001;\\nuser[\"name\"] = \"Nick\";\\nuser[\"age\"] = 28;\\n\\nconsole.log(\"User object: \", user); //=> User object:  { id: 1001, name: \\'Nick\\', age: 28 }\\n\\n```\\n\\n**example 2:**\\n```\\n// equivalent to obj1 = new Boolean(true)\\nlet obj1 = new Object(true)\\n\\n// equivalent to obj2 = new Boolean(false)\\nlet obj2 = new Object(Boolean())\\n\\nconsole.log(obj1); //=> [Boolean: true]\\nconsole.log(obj2); //=> [Boolean: false]\\n\\n```\\n',\n          },\n        ],\n      },\n      {\n        key: \"c261d5f7-915b-4abd-b3d1-47ef335bc8ff\",\n        parentKey: \"3dc1c815-02b4-4097-ae29-578920b3a065\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"clear\",\n          },\n        ],\n      },\n      {\n        key: \"2e5fc4c7-d9b2-4911-8b4f-220f5a0fb0e1\",\n        parentKey: \"9b52509a-42df-4ba8-9200-29ec192e314a\",\n        subKeys: [],\n        collapse: false,\n        style: null,\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"String &\\nmethods\",\n          },\n        ],\n      },\n      {\n        key: \"f8750599-32db-4fb3-829e-0673887df2c2\",\n        parentKey: \"7b11654a-e9d3-45ba-a1aa-afca29ff5f18\",\n        subKeys: [\n          \"0341d846-c3f3-4915-a4b3-0c11b3643a9d\",\n          \"a1649782-ec29-4030-bb2d-d6044103cf10\",\n          \"a9f8d9be-7d66-4b3e-941d-429c02913ec5\",\n          \"a37aef6c-b62c-423c-8124-c18edc14142b\",\n          \"840a8fff-1b5b-48bd-9aae-6214c599c5ab\",\n          \"33b684a7-f2aa-41a1-93fb-f5e1e621511d\",\n          \"89cf71a0-0ca8-45ff-b136-62ffbf6ff778\",\n        ],\n        collapse: false,\n        style: '{\"contentStyle\":{\"background\":\"#9eff88\"}}',\n        blocks: [\n          {\n            type: \"CONTENT\",\n            data: \"Functions\",\n          },\n          {\n            type: \"DESC\",\n            data:\n              \"**Function** is a \\\"subprogram\\\" that can be called by code external \\\\(or internal in the case of recursion\\\\) to the function. Like the program itself, a function is composed of a sequence of statements called the function body. Values can be passed to a function, and the function will return a value.\\n\\n### Parameters vs Arguments\\n\\n**_Parameters_** are these variables which you specify between parentheses when defining a function.\\n```\\nfunction sayHi(name) { ... } \\n\\n```\\n_**Arguments**_ then are the concrete values you pass to a function when calling that function.\\n```\\nsayHi('June');\\n\\n```\\n\\n**Referrence**:\\n* [https://developer.mozilla.org/en\\\\-US/docs/Web/JavaScript/Reference/Functions](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions)\\n\\n\",\n          },\n        ],\n      },\n    ],\n    config: {\n      readOnly: false,\n      allowUndo: true,\n      layoutDir: 2,\n      theme: {\n        name: \"default\",\n        randomColor: true,\n        background: \"rgb(57,60,65)\",\n        highlightColor: \"#50C9CE\",\n        marginH: 60,\n        marginV: 20,\n        contentStyle: {\n          lineHeight: \"1.5\",\n          fontSize: \"16px\",\n        },\n        linkStyle: {\n          lineRadius: 5,\n          lineType: \"curve\",\n          lineWidth: \"3px\",\n        },\n        rootTopic: {\n          contentStyle: {\n            fontSize: \"36px\",\n          },\n          subLinkStyle: {\n            lineType: \"curve\",\n            lineWidth: \"3px\",\n          },\n        },\n        primaryTopic: {\n          contentStyle: {\n            fontSize: \"24px\",\n          },\n          subLinkStyle: {\n            lineType: \"curve\",\n            lineWidth: \"3px\",\n          },\n        },\n        normalTopic: {\n          subLinkStyle: {\n            lineType: \"curve\",\n            lineWidth: \"3px\",\n          },\n        },\n      },\n    },\n    formatVersion: \"0.0\",\n  });\n}\n","import React from \"react\";\nimport { OpType } from \"@blink-mind/core\";\nimport { FOCUS_MODE_SEARCH } from \"@blink-mind/plugins\";\nimport { iconClassName, IconName } from \"@blink-mind/renderer-react\";\n\nexport function ToolbarItemSearch(props) {\n  const onClickSearch = e => {\n    const { diagram } = props;\n    const diagramProps = diagram.getDiagramProps();\n    const { controller } = diagramProps;\n\n    controller.run(\"operation\", {\n      ...diagramProps,\n      opType: OpType.SET_FOCUS_MODE,\n      focusMode: FOCUS_MODE_SEARCH\n    });\n  };\n  return (\n    <div\n      className={`bm-toolbar-item ${iconClassName(IconName.SEARCH)}`}\n      onClick={onClickSearch}\n    />\n  );\n}\n","import React from \"react\";\nimport cx from \"classnames\";\nimport \"./Toolbar.css\";\nimport { iconClassName } from \"@blink-mind/renderer-react\";\nimport { ToolbarItemOpen } from \"./toolbar-item-open\";\nimport { ToolbarItemLayout } from \"./toolbar-item-layout\";\nimport { ToolbarItemTheme } from \"./toolbar-item-theme\";\nimport { ToolbarItemExport } from \"./toolbar-item-export\";\nimport { ToolbarItemSearch } from \"./toolbar-item-search\";\n\n// import debug from \"debug\";\n// const log = debug(\"app\");\n\nexport class Toolbar extends React.PureComponent {\n  render() {\n    const props = this.props;\n\n    const { onClickUndo, onClickRedo, canUndo, canRedo } = props;\n\n    return (\n      <div className=\"bm-toolbar\">\n        <ToolbarItemOpen {...props} />\n        <ToolbarItemExport {...props} />\n        <ToolbarItemTheme {...props} />\n        <ToolbarItemLayout {...props} />\n        <ToolbarItemSearch {...props} />\n\n        <div\n          className={cx(\"bm-toolbar-item\", iconClassName(\"undo\"), {\n            \"bm-toolbar-item-disabled\": !canUndo\n          })}\n          onClick={onClickUndo}\n        />\n\n        <div\n          className={cx(\"bm-toolbar-item\", iconClassName(\"redo\"), {\n            \"bm-toolbar-item-disabled\": !canRedo\n          })}\n          onClick={onClickRedo}\n        />\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport { Diagram } from \"@blink-mind/renderer-react\";\nimport RichTextEditorPlugin from \"@blink-mind/plugin-rich-text-editor\";\nimport { JsonSerializerPlugin } from \"@blink-mind/plugin-json-serializer\";\nimport { ThemeSelectorPlugin } from \"@blink-mind/plugin-theme-selector\";\nimport TopologyDiagramPlugin from \"@blink-mind/plugin-topology-diagram\";\nimport { TopicReferencePlugin, SearchPlugin } from \"@blink-mind/plugins\";\nimport { Toolbar } from \"./toolbar/toolbar\";\nimport { generateSimpleModel } from \"../utils\";\nimport \"@blink-mind/renderer-react/lib/main.css\";\nimport debug from \"debug\";\n\nconst log = debug(\"app\");\n\nconst plugins = [\n  RichTextEditorPlugin(),\n  ThemeSelectorPlugin(),\n  TopicReferencePlugin(),\n  SearchPlugin(),\n  TopologyDiagramPlugin(),\n  JsonSerializerPlugin()\n];\n\nexport class Mindmap extends React.Component {\n  constructor(props) {\n    super(props);\n    this.initModel();\n  }\n\n  diagram;\n  diagramRef = ref => {\n    this.diagram = ref;\n    this.setState({});\n  };\n\n  initModel() {\n    const model = generateSimpleModel();\n    this.state = { model };\n  }\n\n  onClickUndo = e => {\n    const props = this.diagram.getDiagramProps();\n    const { controller } = props;\n    controller.run(\"undo\", props);\n  };\n\n  onClickRedo = e => {\n    const props = this.diagram.getDiagramProps();\n    const { controller } = props;\n    controller.run(\"redo\", props);\n  };\n\n  renderDiagram() {\n    return (\n      <Diagram\n        ref={this.diagramRef}\n        model={this.state.model}\n        onChange={this.onChange}\n        plugins={plugins}\n      />\n    );\n  }\n\n  renderToolbar() {\n    const props = this.diagram.getDiagramProps();\n    const { controller } = props;\n    const canUndo = controller.run(\"canUndo\", props);\n    const canRedo = controller.run(\"canRedo\", props);\n    const toolbarProps = {\n      diagram: this.diagram,\n      onClickUndo: this.onClickUndo,\n      onClickRedo: this.onClickRedo,\n      canUndo,\n      canRedo\n    };\n    return <Toolbar {...toolbarProps} />;\n  }\n\n  onChange = (model, callback) => {\n    this.setState(\n      {\n        model\n      },\n      callback\n    );\n  };\n\n  render() {\n    return (\n      <div className=\"mindmap\">\n        {this.diagram && this.renderToolbar()}\n        {this.renderDiagram()}\n      </div>\n    );\n  }\n}\n\nexport default Mindmap;\n","import React from \"react\";\nimport Mindmap from \"./component/mindmap\";\nimport \"./App.css\";\n\nfunction App() {\n  return <Mindmap />;\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nlet debugNameSpaces = [\n  \"app\",\n  // \"node:*\",\n  'plugin:layout'\n];\n\nlocalStorage.debug = debugNameSpaces.join(\",\");\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}